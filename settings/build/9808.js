"use strict";(globalThis.webpackChunkcomplianz_gdpr=globalThis.webpackChunkcomplianz_gdpr||[]).push([[9808,5343,2588,5294,3863,5671,4783,5596,5364,4573,849],{75343:(e,t,l)=>{l.r(t),l.d(t,{default:()=>r});var a=l(69307),n=l(99196),c=l(74981);l(61549),l(42270),l(82679);const r=(0,n.memo)((e=>{let t=e.mode?e.mode:"css",l=e.height?e.height:"200px",n=e.field&&e.field.default?e.field.default:e.placeholder;return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(c.ZP,{disabled:e.disabled,placeholder:n,mode:t,theme:"monokai",width:"100%",height:l,onChange:t=>e.onChangeHandler(t),fontSize:14,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:e.value,setOptions:{enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,enableSnippets:!1,showLineNumbers:!0,tabSize:2,useWorker:!1}}))}))},41629:(e,t,l)=>{l.r(t),l.d(t,{default:()=>c});var a=l(69307),n=l(64693);const c=(0,l(99196).memo)((e=>{let{label:t,id:l,value:c,onChange:r,required:s,defaultValue:i,disabled:d,options:o={}}=e;return(0,a.createElement)(n.fC,{disabled:d&&!Array.isArray(d),className:"cmplz-input-group cmplz-radio-group",value:c,"aria-label":t,onValueChange:r,required:s,default:i},Object.entries(o).map((e=>{let[t,c]=e;return(0,a.createElement)("div",{key:t,className:"cmplz-radio-group__item"},(0,a.createElement)(n.ck,{disabled:Array.isArray(d)&&d.includes(t),value:t,id:l+"_"+t},(0,a.createElement)(n.z$,{className:"cmplz-radio-group__indicator"})),(0,a.createElement)("label",{className:"cmplz-radio-label",htmlFor:l+"_"+t},c))})))}))},32588:(e,t,l)=>{l.r(t),l.d(t,{default:()=>i});var a=l(69307),n=l(99196),c=l(61592),r=l(43684),s=l(65736);const i=(0,n.memo)((e=>{let{value:t=!1,onChange:l,required:n,defaultValue:i,disabled:d,options:o={},innerRef:p}=e;return(0,a.createElement)("div",{className:"cmplz-input-group cmplz-select-group"},(0,a.createElement)(c.fC,{value:t,defaultValue:i,onValueChange:l,required:n,disabled:d&&!Array.isArray(d)},(0,a.createElement)(c.xz,{className:"cmplz-select-group__trigger"},(0,a.createElement)(c.B4,null),(0,a.createElement)(r.default,{name:"chevron-down"})),(0,a.createElement)(c.VY,{className:"cmplz-select-group__content",position:"popper"},(0,a.createElement)(c.u_,{className:"cmplz-select-group__scroll-button"},(0,a.createElement)(r.default,{name:"chevron-up"})),(0,a.createElement)(c.l_,{className:"cmplz-select-group__viewport"},(0,a.createElement)(c.ZA,null,(0,a.createElement)(c.ck,{className:"cmplz-select-group__item",key:0,value:""},(0,a.createElement)(c.eT,null,(0,s.__)("Select an option","complianz-gdpr"))),Object.entries(o).map((e=>{let[t,l]=e;return(0,a.createElement)(c.ck,{disabled:Array.isArray(d)&&d.includes(t),className:"cmplz-select-group__item",key:t,value:t},(0,a.createElement)(c.eT,null,l))})))),(0,a.createElement)(c.$G,{className:"cmplz-select-group__scroll-button"},(0,a.createElement)(r.default,{name:"chevron-down"})))))}))},64884:(e,t,l)=>{l.r(t),l.d(t,{default:()=>k});var a=l(69307),n=l(99196),c=l(87462),r=l(76652),s=l(17255),i=l(32707),d=l(39920),o=l(67571),p=l(42935),m=l(40192);const u="Switch",[h,g]=(0,i.b)(u),[_,b]=h(u),f=(0,n.forwardRef)(((e,t)=>{const{__scopeSwitch:l,name:a,checked:i,defaultChecked:o,required:p,disabled:u,value:h="on",onCheckedChange:g,...b}=e,[f,z]=(0,n.useState)(null),y=(0,s.e)(t,(e=>z(e))),k=(0,n.useRef)(!1),w=!f||Boolean(f.closest("form")),[N=!1,C]=(0,d.T)({prop:i,defaultProp:o,onChange:g});return(0,n.createElement)(_,{scope:l,checked:N,disabled:u},(0,n.createElement)(m.WV.button,(0,c.Z)({type:"button",role:"switch","aria-checked":N,"aria-required":p,"data-state":v(N),"data-disabled":u?"":void 0,disabled:u,value:h},b,{ref:y,onClick:(0,r.M)(e.onClick,(e=>{C((e=>!e)),w&&(k.current=e.isPropagationStopped(),k.current||e.stopPropagation())}))})),w&&(0,n.createElement)(E,{control:f,bubbles:!k.current,name:a,value:h,checked:N,required:p,disabled:u,style:{transform:"translateX(-100%)"}}))})),E=e=>{const{control:t,checked:l,bubbles:a=!0,...r}=e,s=(0,n.useRef)(null),i=(0,o.D)(l),d=(0,p.t)(t);return(0,n.useEffect)((()=>{const e=s.current,t=window.HTMLInputElement.prototype,n=Object.getOwnPropertyDescriptor(t,"checked").set;if(i!==l&&n){const t=new Event("click",{bubbles:a});n.call(e,l),e.dispatchEvent(t)}}),[i,l,a]),(0,n.createElement)("input",(0,c.Z)({type:"checkbox","aria-hidden":!0,defaultChecked:l},r,{tabIndex:-1,ref:s,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function v(e){return e?"checked":"unchecked"}const z=f,y=(0,n.forwardRef)(((e,t)=>{const{__scopeSwitch:l,...a}=e,r=b("SwitchThumb",l);return(0,n.createElement)(m.WV.span,(0,c.Z)({"data-state":v(r.checked),"data-disabled":r.disabled?"":void 0},a,{ref:t}))})),k=(0,n.memo)((e=>{let{value:t,onChange:l,required:n,disabled:c}=e,r=t;return"0"!==t&&"1"!==t||(r="1"===t),(0,a.createElement)(z,{className:"cmplz-switch-root",checked:r,onCheckedChange:l,disabled:c,required:n},(0,a.createElement)(y,{className:"cmplz-switch-thumb"}))}))},65294:(e,t,l)=>{l.r(t),l.d(t,{default:()=>c});var a=l(69307),n=l(99196);const c=(0,n.memo)((e=>{let{value:t,onChange:l,required:c,defaultValue:r,disabled:s,id:i,name:d,placeholder:o}=e;const p=i||d,[m,u]=(0,n.useState)("");return(0,n.useEffect)((()=>{u(t||"")}),[t]),(0,n.useEffect)((()=>{const e=setTimeout((()=>{l(m)}),500);return()=>{clearTimeout(e)}}),[m]),(0,a.createElement)("div",{className:"cmplz-input-group cmplz-text-input-group"},(0,a.createElement)("input",{type:"text",id:p,name:d,value:m,onChange:e=>(e=>{u(e)})(e.target.value),required:c,disabled:s,className:"cmplz-text-input-group__input",placeholder:o}))}))},17347:(e,t,l)=>{l.r(t),l.d(t,{default:()=>s});var a=l(69307),n=l(41629),c=l(65736),r=l(85671);const s=e=>{const{setScript:t,fetching:l}=(0,r.default)(),s=e.script,i={statistics:(0,c.__)("Statistics","complianz-gdpr"),marketing:(0,c.__)("Marketing","complianz-gdpr")};return(0,a.createElement)(a.Fragment,null,(0,a.createElement)("label",null,(0,c.__)("Category","complianz-gdpr")),(0,a.createElement)(n.default,{disabled:l,label:(0,c.__)("Marketing","complianz-gdpr"),id:"category",value:s.category,onChange:l=>((l,a)=>{let n={...s};n.category=l,t(n,e.type)})(l),defaultValue:"marketing",options:i}))}},13863:(e,t,l)=>{l.r(t),l.d(t,{default:()=>i});var a=l(69307),n=l(65736),c=l(64884),r=l(32588),s=l(85671);const i=e=>{const{setScript:t,blockedScripts:l,fetching:i}=(0,s.default)(),d=l,o=e.script,p=e=>{if(!o.dependency||0===o.dependency.length)return"";let t=Object.entries(o.dependency);for(const[l,a]of t)if(l===e)return a;return""},m=(e,t)=>{let l={...e};for(const[e,a]of Object.entries(l))if(a===t){delete l[e];break}return l};let u=Object.entries(o.urls);return(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{className:"cmplz-details-row cmplz-details-row__checkbox"},(0,a.createElement)(c.default,{disabled:i,value:o.enable_dependency,onChange:l=>((l,a)=>{let n={...o};n.enable_dependency=l,t(n,e.type)})(l)}),(0,a.createElement)("label",null,(0,n.__)("Dependency","complianz-gdpr"))),!!o.enable_dependency&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{className:"cmplz-details-row cmplz-details-row"},u.map(((l,c)=>{let[s,u]=l;return(0,a.createElement)("div",{key:c,className:"cmplz-scriptcenter-dependencies"},(0,a.createElement)(r.default,{disabled:i,value:p(u),options:m(d,u),onChange:l=>((l,a)=>{let n={...o},c={...n.dependency};c[a]=l,n.dependency=c,t(n,e.type)})(l,u)}),(0,a.createElement)("div",null,(0,n.__)("waits for: ","complianz-gdpr"),u||(0,n.__)("Empty URL","complianz-gdpr")))})))))}},85671:(e,t,l)=>{l.r(t),l.d(t,{default:()=>r});var a=l(30270),n=l(12902),c=l(48399);const r=(0,a.Ue)(((e,t)=>({integrationsLoaded:!1,fetching:!1,services:[],plugins:[],scripts:[],placeholders:[],blockedScripts:[],setScript:(t,l)=>{e((0,n.ZP)((e=>{if("block_script"===l){let l=e.blockedScripts;if(t.urls){for(const[e,a]of Object.entries(t.urls)){if(!a||0===a.length)continue;let e=!1;for(const[t,n]of Object.entries(l))a===t&&(e=!0);e||(l[a]=a)}e.blockedScripts=l}}const a=e.scripts[l].findIndex((e=>e.id===t.id));-1!==a&&(e.scripts[l][a]=t)})))},fetchIntegrationsData:async()=>{if(t().fetching)return;e({fetching:!0});const{services:l,plugins:a,scripts:n,placeholders:c,blocked_scripts:r}=await s();let i=n;i.block_script.forEach(((e,t)=>{e.id=t})),i.add_script.forEach(((e,t)=>{e.id=t})),i.whitelist_script.forEach(((e,t)=>{e.id=t})),e((()=>({integrationsLoaded:!0,services:l,plugins:a,scripts:i,fetching:!1,placeholders:c,blockedScripts:r})))},addScript:l=>{e({fetching:!0}),e((0,n.ZP)((e=>{e.scripts[l].push({name:"general",id:e.scripts[l].length,enable:!0})})));let a=t().scripts;return c.doAction("update_scripts",{scripts:a}).then((t=>(e({fetching:!1}),t))).catch((e=>{console.error(e)}))},saveScript:(l,a)=>{e({fetching:!0}),e((0,n.ZP)((e=>{const t=e.scripts[a].findIndex((e=>e.id===l.id));-1!==t&&(e.scripts[a][t]=l)})));let r=t().scripts;return c.doAction("update_scripts",{scripts:r}).then((t=>(e({fetching:!1}),t))).catch((e=>{console.error(e)}))},deleteScript:(l,a)=>{e({fetching:!0}),e((0,n.ZP)((e=>{const t=e.scripts[a].findIndex((e=>e.id===l.id));-1!==t&&e.scripts[a].splice(t,1)})));let r=t().scripts;return c.doAction("update_scripts",{scripts:r}).then((t=>(e({fetching:!1}),t))).catch((e=>{console.error(e)}))},updatePluginStatus:async(t,l)=>(e((0,n.ZP)((e=>{const a=e.plugins.findIndex((e=>e.id===t));-1!==a&&(e.plugins[a].enabled=l)}))),c.doAction("update_plugin_status",{plugin:t,enabled:l}).then((e=>e)).catch((e=>{console.error(e)}))),updatePlaceholderStatus:async(t,l,a)=>(a&&e((0,n.ZP)((e=>{const a=e.plugins.findIndex((e=>e.id===t));-1!==a&&(e.plugins[a].placeholder=l?"enabled":"disabled")}))),c.doAction("update_placeholder_status",{id:t,enabled:l}).then((e=>e)).catch((e=>{console.error(e)})))}))),s=()=>c.doAction("get_integrations_data",{}).then((e=>e)).catch((e=>{console.error(e)}))},44783:(e,t,l)=>{l.r(t),l.d(t,{default:()=>o});var a=l(69307),n=l(64884),c=l(60849),r=l(65294),s=l(32588),i=l(65736),d=l(85671);const o=e=>{const{setScript:t,fetching:l,placeholders:o}=(0,d.default)(),p=e.script,m=e.type,u=(l,a)=>{let n={...p};n[a]=l,t(n,e.type)};return(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{className:"cmplz-details-row cmplz-details-row__checkbox"},(0,a.createElement)(n.default,{disabled:l,value:p.enable_placeholder,onChange:e=>u(e,"enable_placeholder")}),(0,a.createElement)("label",null,(0,i.__)("Placeholder","complianz-gdpr"))),!!p.enable_placeholder&&(0,a.createElement)(a.Fragment,null,"block_script"===m&&(0,a.createElement)("div",{className:"cmplz-details-row cmplz-details-row__checkbox"},(0,a.createElement)(n.default,{disabled:l,value:p.iframe||"",onChange:e=>u(e||"","iframe")}),(0,a.createElement)("label",null,(0,i.__)("The blocked content is an iframe","complianz-gdpr"))),!p.iframe&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{className:"cmplz-details-row cmplz-details-row"},(0,a.createElement)(a.Fragment,null,(0,i.__)("Enter the div class or ID that should be targeted.","complianz-gdpr"),(0,c.default)("https://complianz.io/integrating-plugins/#placeholder/")),(0,a.createElement)(r.default,{disabled:l,value:p.placeholder_class||"",onChange:e=>u(e||"","placeholder_class"),name:"placeholder_class",placeholder:(0,i.__)("Your CSS class","complianz-gdpr")}))),(0,a.createElement)("div",{className:"cmplz-details-row cmplz-details-row__checkbox"},(0,a.createElement)(s.default,{disabled:l,value:p.placeholder?p.placeholder:"default",options:o,onChange:e=>u(e||"default","placeholder")}))))}},79808:(e,t,l)=>{l.r(t),l.d(t,{default:()=>d});var a=l(69307),n=l(85671),c=l(56293),r=l(15596),s=l(60849),i=l(65736);const d=(0,l(99196).memo)((()=>{const{scripts:e,addScript:t,saveScript:l,integrationsLoaded:d,fetchIntegrationsData:o}=(0,n.default)(),[p,m]=(0,a.useState)(!1),[u,h]=(0,a.useState)(""),{getFieldValue:g}=(0,c.default)();return(0,a.useEffect)((()=>{d||o(),d&&1==g("safe_mode")&&(h((0,i.__)("Safe Mode enabled. To manage integrations, disable Safe Mode in the general settings.","complianz-gdpr")),m(!0))}),[d]),(0,a.createElement)(a.Fragment,null,(0,a.createElement)("p",null,(0,i.__)("The script center should be used to add and block third-party scripts and iFrames before consent is given, or when consent is revoked. For example Hotjar and embedded video’s.","complianz-gdpr"),(0,s.default)("https://complianz.io/script-center/")),p&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{className:"cmplz-settings-overlay"},(0,a.createElement)("div",{className:"cmplz-settings-overlay-message"},u))),(0,a.createElement)("h3",null,(0,i.__)("Add a third-party script","complianz-gdpr")),!d&&(0,a.createElement)(a.Fragment,null," ",(0,a.createElement)(r.default,{type:"add_script"})),d&&e.add_script.length>0&&e.add_script.map(((e,t)=>(0,a.createElement)(r.default,{type:"add_script",script:e,key:t}))),(0,a.createElement)("div",null,(0,a.createElement)("button",{onClick:()=>t("add_script"),className:"button button-default"},(0,i.__)("Add new","complianz-gdpr"))),(0,a.createElement)("h3",null,(0,i.__)("Block a script, iframe or plugin","complianz-gdpr")),!d&&(0,a.createElement)(a.Fragment,null," ",(0,a.createElement)(r.default,{type:"block_script"})),d&&e.block_script.length>0&&e.block_script.map(((e,t)=>(0,a.createElement)(r.default,{type:"block_script",script:e,key:t}))),(0,a.createElement)("div",null,(0,a.createElement)("button",{onClick:()=>t("block_script"),className:"button button-default"},(0,i.__)("Add new","complianz-gdpr"))),(0,a.createElement)("h3",null,(0,i.__)("Whitelist a script, iframe or plugin\n","complianz-gdpr")),!d&&(0,a.createElement)(a.Fragment,null," ",(0,a.createElement)(r.default,{type:"whitelist_script"})),d&&e.whitelist_script.length>0&&e.whitelist_script.map(((e,t)=>(0,a.createElement)(r.default,{type:"whitelist_script",script:e,key:t}))),(0,a.createElement)("div",null,(0,a.createElement)("button",{onClick:()=>t("whitelist_script"),className:"button button-default"},(0,i.__)("Add new","complianz-gdpr"))))}))},15596:(e,t,l)=>{l.r(t),l.d(t,{default:()=>h});var a=l(69307),n=l(34573),c=l(65736),r=l(85671),s=l(75343),i=l(64884),d=l(99196),o=l(17347),p=l(44783),m=l(13863),u=l(25364);const h=(0,d.memo)((e=>{const{setScript:t,saveScript:l,deleteScript:d}=(0,r.default)(),h=e.script,g=(a,n)=>{let c={...h};c[n]=a,t(c,e.type),l(c,e.type)},_=(l,a)=>{let n={...h};n[a]=l,t(n,e.type)},b=()=>{l(h,e.type)},f=()=>{d(h,e.type)};return h?(0,a.createElement)(a.Fragment,null,(0,a.createElement)(n.default,{summary:h.name,icons:(e=>(0,a.createElement)(a.Fragment,null,(0,a.createElement)("input",{onChange:e=>g(e.target.checked,"enable"),type:"checkbox",checked:e.enable})))(h),details:((e,t)=>{const{fetching:l}=(0,r.default)();return(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{className:"cmplz-details-row"},(0,a.createElement)("label",null,(0,c.__)("Name","complianz-gdpr")),(0,a.createElement)("input",{disabled:l,onChange:e=>_(e.target.value,"name"),type:"text",placeholder:(0,c.__)("Name","complianz-gdpr"),value:e.name})),"add_script"===t&&(0,a.createElement)("div",{className:"cmplz-details-row"},(0,a.createElement)(s.default,{disabled:l,onChangeHandler:e=>(e=>{_(e,"editor")})(e),placeholder:"console.log('marketing enabled')",value:e.editor})),("block_script"===t||"whitelist_script"===t)&&(0,a.createElement)(u.default,{script:e,type:t}),"whitelist_script"!==t&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{className:"cmplz-details-row cmplz-details-row__checkbox"},(0,a.createElement)(i.default,{disabled:l,value:e.async,onChange:e=>_(e,"async")}),(0,a.createElement)("label",null,(0,c.__)("This script contains an async attribute.","complianz-gdpr"))),(0,a.createElement)("div",{className:"cmplz-details-row"},(0,a.createElement)(o.default,{script:e,type:t})),(0,a.createElement)(p.default,{script:e,type:t})),"block_script"===t&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)(m.default,{script:e,type:t})),(0,a.createElement)("div",{className:"cmplz-details-row cmplz-details-row__buttons"},(0,a.createElement)("button",{disabled:l,onClick:e=>b(),className:"button button-default"},(0,c.__)("Save","complianz-gdpr")),(0,a.createElement)("button",{disabled:l,className:"button button-default cmplz-reset-button",onClick:e=>f()},(0,c.__)("Delete","complianz-gdpr"))))})(h,e.type)})):(0,a.createElement)(n.default,{summary:"..."})}))},25364:(e,t,l)=>{l.r(t),l.d(t,{default:()=>d});var a=l(69307),n=l(65736),c=l(60849),r=l(65294),s=l(43684),i=l(85671);const d=e=>{const{setScript:t,fetching:l}=(0,i.default)(),d=e.script,o=e.type;let p=Object.entries(d.urls);return(0,a.createElement)("div",{className:"cmplz-details-row"},(0,a.createElement)("label",null,"block_script"===o&&(0,n.__)("URLs that should be blocked before consent.","complianz-gdpr"),"whitelist_script"===o&&(0,a.createElement)(a.Fragment,null,(0,n.__)("URLs that should be whitelisted.","complianz-gdpr"),(0,c.default)("https://complianz.io/whitelisting-inline-script/"))),p.map(((n,c)=>{let[i,o]=n;return(0,a.createElement)("div",{key:c,className:"cmplz-scriptcenter-url"},(0,a.createElement)(r.default,{disabled:l,value:o||"",onChange:l=>((l,a)=>{let n={...d},c={...n.urls};c[l]=a,n.urls=c,t(n,e.type)})(i,l),id:c+"_url",name:"url"}),0===c&&(0,a.createElement)("button",{className:"button button-default",onClick:()=>(()=>{let l={...d},a=Object.keys(l.urls).length,n={...l.urls};n[a+1]="",l.urls=n,t(l,e.type)})()}," ",(0,a.createElement)(s.default,{name:"plus",size:14})),0!==c&&(0,a.createElement)("button",{className:"button button-default",onClick:()=>(l=>{let a={...d},n={...a.urls};delete n[l],a.urls=n,t(a,e.type)})(i)}," ",(0,a.createElement)(s.default,{name:"minus",size:14})))})))}},34573:(e,t,l)=>{l.r(t),l.d(t,{default:()=>c});var a=l(69307),n=l(43684);const c=e=>(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{className:"cmplz-panel__list__item",key:e.id,style:e.style?e.style:{}},(0,a.createElement)("details",null,(0,a.createElement)("summary",null,(0,a.createElement)("div",{className:"cmplz-panel__list__item__title"},e.summary),(0,a.createElement)("div",{className:"cmplz-panel__list__item__comment"},e.comment),(0,a.createElement)("div",{className:"cmplz-panel__list__item__icons"},e.icons),(0,a.createElement)(n.default,{name:"chevron-down",size:18})),(0,a.createElement)("div",{className:"cmplz-panel__list__item__details"},e.details))))},60849:(e,t,l)=>{l.r(t),l.d(t,{default:()=>r});var a=l(69307),n=l(65736),c=l(99950);const r=e=>(0,a.createElement)(a.Fragment,null," ",(0,a.createElement)(c.default,{url:e,text:(0,n.__)("For more information, please read this %sarticle%s.","complianz-gdpr")})," ")}}]);