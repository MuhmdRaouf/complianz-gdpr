"use strict";(globalThis.webpackChunkcomplianz_gdpr=globalThis.webpackChunkcomplianz_gdpr||[]).push([[5364,5294,5671,849],{65294:(e,t,s)=>{s.r(t),s.d(t,{default:()=>n});var c=s(69307),l=s(99196);const n=(0,l.memo)((e=>{let{value:t,onChange:s,required:n,defaultValue:r,disabled:i,id:a,name:o,placeholder:d}=e;const p=a||o,[u,h]=(0,l.useState)("");return(0,l.useEffect)((()=>{h(t||"")}),[t]),(0,l.useEffect)((()=>{const e=setTimeout((()=>{s(u)}),500);return()=>{clearTimeout(e)}}),[u]),(0,c.createElement)("div",{className:"cmplz-input-group cmplz-text-input-group"},(0,c.createElement)("input",{type:"text",id:p,name:o,value:u,onChange:e=>(e=>{h(e)})(e.target.value),required:n,disabled:i,className:"cmplz-text-input-group__input",placeholder:d}))}))},85671:(e,t,s)=>{s.r(t),s.d(t,{default:()=>r});var c=s(30270),l=s(12902),n=s(48399);const r=(0,c.Ue)(((e,t)=>({integrationsLoaded:!1,fetching:!1,services:[],plugins:[],scripts:[],placeholders:[],blockedScripts:[],setScript:(t,s)=>{e((0,l.ZP)((e=>{if("block_script"===s){let s=e.blockedScripts;if(t.urls){for(const[e,c]of Object.entries(t.urls)){if(!c||0===c.length)continue;let e=!1;for(const[t,l]of Object.entries(s))c===t&&(e=!0);e||(s[c]=c)}e.blockedScripts=s}}const c=e.scripts[s].findIndex((e=>e.id===t.id));-1!==c&&(e.scripts[s][c]=t)})))},fetchIntegrationsData:async()=>{if(t().fetching)return;e({fetching:!0});const{services:s,plugins:c,scripts:l,placeholders:n,blocked_scripts:r}=await i();let a=l;a.block_script.forEach(((e,t)=>{e.id=t})),a.add_script.forEach(((e,t)=>{e.id=t})),a.whitelist_script.forEach(((e,t)=>{e.id=t})),e((()=>({integrationsLoaded:!0,services:s,plugins:c,scripts:a,fetching:!1,placeholders:n,blockedScripts:r})))},addScript:s=>{e({fetching:!0}),e((0,l.ZP)((e=>{e.scripts[s].push({name:"general",id:e.scripts[s].length,enable:!0})})));let c=t().scripts;return n.doAction("update_scripts",{scripts:c}).then((t=>(e({fetching:!1}),t))).catch((e=>{console.error(e)}))},saveScript:(s,c)=>{e({fetching:!0}),e((0,l.ZP)((e=>{const t=e.scripts[c].findIndex((e=>e.id===s.id));-1!==t&&(e.scripts[c][t]=s)})));let r=t().scripts;return n.doAction("update_scripts",{scripts:r}).then((t=>(e({fetching:!1}),t))).catch((e=>{console.error(e)}))},deleteScript:(s,c)=>{e({fetching:!0}),e((0,l.ZP)((e=>{const t=e.scripts[c].findIndex((e=>e.id===s.id));-1!==t&&e.scripts[c].splice(t,1)})));let r=t().scripts;return n.doAction("update_scripts",{scripts:r}).then((t=>(e({fetching:!1}),t))).catch((e=>{console.error(e)}))},updatePluginStatus:async(t,s)=>(e((0,l.ZP)((e=>{const c=e.plugins.findIndex((e=>e.id===t));-1!==c&&(e.plugins[c].enabled=s)}))),n.doAction("update_plugin_status",{plugin:t,enabled:s}).then((e=>e)).catch((e=>{console.error(e)}))),updatePlaceholderStatus:async(t,s,c)=>(c&&e((0,l.ZP)((e=>{const c=e.plugins.findIndex((e=>e.id===t));-1!==c&&(e.plugins[c].placeholder=s?"enabled":"disabled")}))),n.doAction("update_placeholder_status",{id:t,enabled:s}).then((e=>e)).catch((e=>{console.error(e)})))}))),i=()=>n.doAction("get_integrations_data",{}).then((e=>e)).catch((e=>{console.error(e)}))},25364:(e,t,s)=>{s.r(t),s.d(t,{default:()=>o});var c=s(69307),l=s(65736),n=s(60849),r=s(65294),i=s(43684),a=s(85671);const o=e=>{const{setScript:t,fetching:s}=(0,a.default)(),o=e.script,d=e.type;let p=Object.entries(o.urls);return(0,c.createElement)("div",{className:"cmplz-details-row"},(0,c.createElement)("label",null,"block_script"===d&&(0,l.__)("URLs that should be blocked before consent.","complianz-gdpr"),"whitelist_script"===d&&(0,c.createElement)(c.Fragment,null,(0,l.__)("URLs that should be whitelisted.","complianz-gdpr"),(0,n.default)("https://complianz.io/whitelisting-inline-script/"))),p.map(((l,n)=>{let[a,d]=l;return(0,c.createElement)("div",{key:n,className:"cmplz-scriptcenter-url"},(0,c.createElement)(r.default,{disabled:s,value:d||"",onChange:s=>((s,c)=>{let l={...o},n={...l.urls};n[s]=c,l.urls=n,t(l,e.type)})(a,s),id:n+"_url",name:"url"}),0===n&&(0,c.createElement)("button",{className:"button button-default",onClick:()=>(()=>{let s={...o},c=Object.keys(s.urls).length,l={...s.urls};l[c+1]="",s.urls=l,t(s,e.type)})()}," ",(0,c.createElement)(i.default,{name:"plus",size:14})),0!==n&&(0,c.createElement)("button",{className:"button button-default",onClick:()=>(s=>{let c={...o},l={...c.urls};delete l[s],c.urls=l,t(c,e.type)})(a)}," ",(0,c.createElement)(i.default,{name:"minus",size:14})))})))}},60849:(e,t,s)=>{s.r(t),s.d(t,{default:()=>r});var c=s(69307),l=s(65736),n=s(99950);const r=e=>(0,c.createElement)(c.Fragment,null," ",(0,c.createElement)(n.default,{url:e,text:(0,l.__)("For more information, please read this %sarticle%s.","complianz-gdpr")})," ")}}]);