{"version":3,"file":"src_Settings_Support_js.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;AAA+D;AAC5B;AACO;AACE;AACjB;AAE3B,MAAMM,OAAO,GAAGA,CAAA,KAAM;EACrB,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGJ,4DAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACK,OAAO,EAAEC,UAAU,CAAC,GAAGN,4DAAQ,CAAC,KAAK,CAAC;EAE7C,MAAMO,eAAe,GAAIJ,OAAO,IAAK;IACpCC,UAAU,CAACD,OAAO,CAAC;EACpB,CAAC;EAED,MAAMK,cAAc,GAAGA,CAAA,KAAM;IAC5BF,UAAU,CAAC,IAAI,CAAC;IAChB,IAAIG,IAAI,GAAG,CAAC,CAAC;IACb,OAAOV,gDAAkB,CAAC,aAAa,EAAEU,IAAI,CAAC,CAACE,IAAI,CAAIC,QAAQ,IAAM;MACpE,IAAIC,cAAc,GAAGV,OAAO,CAACW,OAAO,CAAC,iBAAiB,EAAE,QAAQ,CAAC;MACjE,IAAIC,GAAG,GAAG,8BAA8B,GACrC,QAAQ,GAAGC,kBAAkB,CAACJ,QAAQ,CAACK,aAAa,CAAC,GACrD,SAAS,GAAGL,QAAQ,CAACM,KAAK,GAC1B,WAAW,GAAGN,QAAQ,CAACO,MAAM,GAC7B,WAAW,GAAGH,kBAAkB,CAACJ,QAAQ,CAACQ,WAAW,CAAC,GACtD,YAAY,GAAGJ,kBAAkB,CAACH,cAAc,CAAC,GACjD,WAAW,GAAGD,QAAQ,CAACS,aAAa;MACvCC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAACT,GAAG,CAAC;IAC5B,CAAC,CAAC;EACH,CAAC;EAED,IAAIU,QAAQ,GAAGpB,OAAO,IAAIF,OAAO,CAACuB,MAAM,KAAG,CAAC;EAC5C,OACCC,iEAAA,CAAAC,wDAAA,QACCD,iEAAA,CAAC9B,kEAAe;IACf4B,QAAQ,EAAEpB,OAAQ;IAClBwB,WAAW,EAAE/B,mDAAE,CAAC,yBAAyB,EAAC,mBAAmB,CAAE;IAC/DgC,QAAQ,EAAK3B,OAAO,IAAMI,eAAe,CAACJ,OAAO;EAAG,CACpD,CAAC,EACFwB,iEAAA,cACCA,iEAAA,CAAC/B,yDAAM;IACN6B,QAAQ,EAAEA,QAAS;IACnBM,OAAO,EAAC,WAAW;IACnBC,OAAO,EAAKC,CAAC,IAAMzB,cAAc,CAACyB,CAAC;EAAG,GACpCnC,mDAAE,CAAE,MAAM,EAAE,mBAAoB,CAC3B,CACJ,CACJ,CAAC;AAEL,CAAC;AACD,iEAAeG,2CAAI,CAACC,OAAO,CAAC","sources":["webpack://complianz-gdpr/./src/Settings/Support.js"],"sourcesContent":["import {Button, TextareaControl,} from '@wordpress/components';\nimport {__} from '@wordpress/i18n';\nimport * as cmplz_api from \"../utils/api\";\nimport {useState} from \"@wordpress/element\";\nimport {memo} from \"react\";\n\nconst Support = () => {\n\tconst [message, setMessage] = useState('');\n\tconst [sending, setSending] = useState(false);\n\n\tconst onChangeHandler = (message) => {\n\t\tsetMessage(message);\n\t}\n\n\tconst onClickHandler = () => {\n\t\tsetSending(true);\n\t\tlet data = {};\n\t\treturn cmplz_api.doAction('supportData', data).then( ( response ) => {\n\t\t\tlet encodedMessage = message.replace(/(?:\\r\\n|\\r|\\n)/g, '--br--');\n\t\t\tlet url = 'https://complianz.io/support'\n\t\t\t\t+ '?user=' + encodeURIComponent(response.customer_name)\n\t\t\t\t+ '&email=' + response.email\n\t\t\t\t+ '&website=' + response.domain\n\t\t\t\t+ '&license=' + encodeURIComponent(response.license_key)\n\t\t\t\t+ '&question=' + encodeURIComponent(encodedMessage)\n\t\t\t\t+ '&details=' + response.system_status;\n\t\t\twindow.location.assign(url);\n\t\t});\n\t}\n\n\tlet disabled = sending || message.length===0;\n\treturn (\n\t\t<>\n\t\t\t<TextareaControl\n\t\t\t\tdisabled={sending}\n\t\t\t\tplaceholder={__(\"Type your question here\",\"really-simple-ssl\")}\n\t\t\t\tonChange={ ( message ) => onChangeHandler(message) }\n\t\t\t/>\n\t\t\t<div>\n\t\t\t\t<Button\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\tonClick={ ( e ) => onClickHandler(e) }>\n\t\t\t\t\t{ __( 'Send', 'really-simple-ssl' ) }\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t</>\n\t);\n}\nexport default memo(Support);\n"],"names":["Button","TextareaControl","__","cmplz_api","useState","memo","Support","message","setMessage","sending","setSending","onChangeHandler","onClickHandler","data","doAction","then","response","encodedMessage","replace","url","encodeURIComponent","customer_name","email","domain","license_key","system_status","window","location","assign","disabled","length","createElement","Fragment","placeholder","onChange","variant","onClick","e"],"sourceRoot":""}