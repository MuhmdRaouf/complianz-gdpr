{"version":3,"file":"src_Dashboard_Tools_ToolItem_js.js","mappings":"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","sources":["webpack://complianz-gdpr/./src/Dashboard/Tools/ToolItem.js","webpack://complianz-gdpr/./src/Settings/Integrations/IntegrationsData.js","webpack://complianz-gdpr/./src/Settings/License/LicenseData.js"],"sourcesContent":["import useFields from \"../../Settings/Fields/FieldsData\";\nimport useIntegrations from \"../../Settings/Integrations/IntegrationsData\";\nimport Icon from \"../../utils/Icon\";\nimport {useEffect, useState} from \"react\";\nimport { __ } from '@wordpress/i18n';\nimport useLicense from \"../../Settings/License/LicenseData\";\n\nconst ToolItem = (props) => {\n\tconst { fields, getFieldValue} = useFields();\n\tconst [fieldEnabled, setFieldEnabled] = useState(false);\n\tconst { integrationsLoaded, plugins, fetchIntegrationsData} = useIntegrations();\n\tconst {licenseStatus} = useLicense();\n\tuseEffect( () => {\n\t\tlet item = props.item;\n\t\tif (item.field) {\n\t\t\tlet enabled = getFieldValue(item.field.name) == item.field.value;\n\t\t\tsetFieldEnabled(enabled);\n\t\t}\n\t}, [fields] );\n\n\tuseEffect( () => {\n\t\tif (!integrationsLoaded) {\n\t\t\tfetchIntegrationsData();\n\t\t}\n\t}, [] );\n\n\tlet item = props.item;\n\t//linked to a plugin, e.g. woocommerce\n\tif ( item.plugin ) {\n\t\tlet pluginActive = plugins.filter(plugin => plugin.id === item.plugin).length > 0;\n\t\tif ( !pluginActive) return null;\n\n\t\treturn (\n\t\t\t<div className=\"cmplz-tool\">\n\t\t\t\t<div className=\"cmplz-tool-title\">{item.title}</div>\n\t\t\t\t<div className=\"cmplz-tool-link\">\n\t\t\t\t\t<a href={item.link} target=\"_blank\">{<Icon name={'circle-chevron-right'} color=\"black\" size={14} />}</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\n\t//not a plugin condition.\n\tlet isPremiumUser = cmplz_settings.is_premium && licenseStatus === 'valid'\n\n\n\tlet linkText = __(\"Read more\",\"complianz-gdpr\");\n\tlet link = item.link;\n\tif (isPremiumUser) {\n\t\tif ( !fieldEnabled && item.enableLink ) {\n\t\t\tlinkText = __(\"Enable\",\"complianz-gdpr\");\n\t\t\tlink = item.enableLink;\n\t\t}\n\t\tif ( (!item.field || fieldEnabled) && item.viewLink ) {\n\t\t\tlinkText = __(\"View\",\"complianz-gdpr\");\n\t\t\tlink = item.viewLink;\n\t\t}\n\t}\n\tlet isExternal = link.indexOf('https://') !== -1;\n\tlet target = isExternal ? '_blank' : '_self';\n\tlet icon = isExternal ? 'external-link' : 'circle-chevron-right';\n\n\treturn (\n\t\t<div className=\"cmplz-tool\">\n\t\t\t<div className=\"cmplz-tool-title\">{item.title}\n\t\t\t\t{item.plusone && item.plusone}\n\t\t\t</div>\n\t\t\t<div className=\"cmplz-tool-link\">\n\t\t\t\t<a href={link} target={target}>{linkText}{<Icon name={icon} color=\"black\" size={14} />}</a>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\nexport default ToolItem;\n","import {create} from 'zustand';\nimport produce from 'immer';\nimport * as cmplz_api from \"../../utils/api\";\n\n\nconst useIntegrations = create(( set, get ) => ({\n\tintegrationsLoaded: false,\n\tfetching:false,\n\tservices: [],\n\tplugins:[],\n\tscripts:[],\n\tplaceholders:[],\n\tblockedScripts:[],\n\tsetScript: (script, type) => {\n\t\tset(\n\t\t\tproduce((state) => {\n\t\t\t\t//update blocked scripts options list if new urls were added.\n\t\t\t\tif (type==='block_script') {\n\t\t\t\t\tlet options = state.blockedScripts;\n\t\t\t\t\tif ( script.urls ) {\n\t\t\t\t\t\tfor (const [index, url] of Object.entries(script.urls)) {\n\t\t\t\t\t\t\tif (!url || url.length===0) continue;\n\t\t\t\t\t\t\t//check if url exists in the options object\n\t\t\t\t\t\t\tlet found = false;\n\t\t\t\t\t\t\tfor (const [optionIndex, optionValue] of Object.entries(options)) {\n\t\t\t\t\t\t\t\tif (url===optionIndex) found = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (!found) {\n\t\t\t\t\t\t\t\toptions[url] = url;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstate.blockedScripts = options;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst index = state.scripts[type].findIndex(item => {\n\t\t\t\t\treturn item.id===script.id;\n\t\t\t\t});\n\t\t\t\tif (index!==-1) state.scripts[type][index] = script;\n\t\t\t})\n\t\t)\n\t},\n\tfetchIntegrationsData: async ( ) => {\n\t\tif (get().fetching) return;\n\n\t\tset({fetching:true});\n\t\tconst { services, plugins, scripts, placeholders, blocked_scripts}   = await fetchData();\n\t\tlet scriptsWithId = scripts;\n\t\t//add a unique id to each script\n\t\tscriptsWithId.block_script.forEach((script, i) => {\n\t\t\tscript.id = i;\n\t\t})\n\t\tscriptsWithId.add_script.forEach((script, i) => {\n\t\t\tscript.id = i;\n\t\t})\n\t\tscriptsWithId.whitelist_script.forEach((script, i) => {\n\t\t\tscript.id = i;\n\t\t})\n\t\tset(() => ({\n\t\t\tintegrationsLoaded: true,\n\t\t\tservices: services,\n\t\t\tplugins: plugins,\n\t\t\tscripts: scriptsWithId,\n\t\t\tfetching:false,\n\t\t\tplaceholders: placeholders,\n\t\t\tblockedScripts:blocked_scripts,\n\t\t}));\n\t},\n\taddScript:(type) => {\n\t\tset({fetching:true});\n\t\tset(\n\t\t\tproduce((state) => {\n\t\t\t\tstate.scripts[type].push({'name':'general', 'id':state.scripts[type].length, 'enable':true});\n\t\t\t})\n\t\t)\n\t\tlet scripts = get().scripts;\n\t\treturn cmplz_api.doAction('update_scripts', {scripts: scripts}).then((response) => {\n\t\t\tset({fetching:false});\n\t\t\treturn response;\n\t\t}).catch((error) => {\n\t\t\tconsole.error(error);\n\t\t});\n\t},\n\tsaveScript:(script, type) => {\n\t\tset({fetching:true});\n\n\t\tset(\n\t\t\tproduce((state) => {\n\t\t\t\tconst index = state.scripts[type].findIndex(item => {\n\t\t\t\t\treturn item.id===script.id;\n\t\t\t\t});\n\t\t\t\tif (index!==-1) state.scripts[type][index] = script;\n\t\t\t})\n\t\t)\n\t\tlet scripts = get().scripts;\n\t\treturn cmplz_api.doAction('update_scripts', {scripts: scripts}).then((response) => {\n\t\t\tset({fetching:false});\n\t\t\treturn response;\n\t\t}).catch((error) => {\n\t\t\tconsole.error(error);\n\t\t});\n\t},\n\tdeleteScript:(script, type) => {\n\t\tset({fetching:true});\n\t\tset(\n\t\t\tproduce((state) => {\n\t\t\t\tconst index = state.scripts[type].findIndex(item => {\n\t\t\t\t\treturn item.id===script.id;\n\t\t\t\t});\n\t\t\t\t//drop script with this index\n\t\t\t\tif (index!==-1) state.scripts[type].splice(index, 1);\n\t\t\t})\n\t\t)\n\t\tlet scripts = get().scripts;\n\t\treturn cmplz_api.doAction('update_scripts', {scripts: scripts}).then((response) => {\n\t\t\tset({fetching:false});\n\t\t\treturn response;\n\t\t}).catch((error) => {\n\t\t\tconsole.error(error);\n\t\t});\n\t},\n\tupdatePluginStatus: async (pluginId, enabled) => {\n\t\tset(\n\t\t\tproduce((state) => {\n\t\t\t\tconst index = state.plugins.findIndex(plugin => {\n\t\t\t\t\treturn plugin.id===pluginId;\n\t\t\t\t});\n\t\t\t\tif (index!==-1) state.plugins[index].enabled = enabled;\n\t\t\t})\n\t\t)\n\t\treturn cmplz_api.doAction('update_plugin_status', {plugin: pluginId, enabled: enabled}).then((response) => {\n\t\t\treturn response;\n\t\t}).catch((error) => {\n\t\t\tconsole.error(error);\n\t\t});\n\t},\n\tupdatePlaceholderStatus: async (id, enabled, isPlugin) => {\n\t\tif (isPlugin) {\n\t\t\tset(\n\t\t\t\tproduce((state) => {\n\t\t\t\t\tconst index = state.plugins.findIndex(plugin => {\n\t\t\t\t\t\treturn plugin.id===id;\n\t\t\t\t\t});\n\t\t\t\t\tif (index!==-1) state.plugins[index].placeholder = enabled ? 'enabled' : 'disabled';\n\t\t\t\t})\n\t\t\t)\n\t\t}\n\t\treturn cmplz_api.doAction('update_placeholder_status', {id: id, enabled: enabled}).then((response) => {\n\t\t\treturn response;\n\t\t}).catch((error) => {\n\t\t\tconsole.error(error);\n\t\t});\n\t}\n}));\n\nexport default useIntegrations;\n\nconst fetchData = () => {\n\treturn cmplz_api.doAction('get_integrations_data', {}).then((response) => {\n\t\treturn response;\n\t}).catch((error) => {\n\t\tconsole.error(error);\n\t});\n}\n","import {create} from 'zustand';\nimport * as cmplz_api from \"../../utils/api\";\nconst UseLicenseData = create(( set, get ) => ({\n    licenseStatus: cmplz_settings.licenseStatus,\n\tprocessing:false,\n\tlicenseNotices: [],\n\tnoticesLoaded: false,\n\tgetLicenseNotices: async () => {\n\t\tconst {licenseStatus, notices} = await cmplz_api.doAction('license_notices', {}).then( ( response ) => {\n\t\t\treturn response;\n\t\t});\n\t\tset(state => ({ noticesLoaded:true,licenseNotices:notices, licenseStatus:licenseStatus}));\n\t},\n\tactivateLicense: async (license) => {\n\t\tlet data = {};\n\t\tdata.license = license;\n\t\tset({processing:true})\n\t\tconst {licenseStatus, notices} = await cmplz_api.doAction('activate_license', data);\n\t\tset(state => ({processing:false,licenseNotices:notices, licenseStatus:licenseStatus}));\n\t},\n\tdeactivateLicense: async () => {\n\t\tset({processing:true})\n\t\tconst {licenseStatus, notices} = await cmplz_api.doAction('deactivate_license');\n\t\tset(state => ({processing:false,licenseNotices:notices, licenseStatus:licenseStatus}));\n\t}\n\n}));\n\nexport default UseLicenseData;\n\n"],"names":["useFields","useIntegrations","Icon","useEffect","useState","__","useLicense","ToolItem","props","fields","getFieldValue","fieldEnabled","setFieldEnabled","integrationsLoaded","plugins","fetchIntegrationsData","licenseStatus","item","field","enabled","name","value","plugin","pluginActive","filter","id","length","createElement","className","title","href","link","target","color","size","isPremiumUser","cmplz_settings","is_premium","linkText","enableLink","viewLink","isExternal","indexOf","icon","plusone","create","produce","cmplz_api","set","get","fetching","services","scripts","placeholders","blockedScripts","setScript","script","type","state","options","urls","index","url","Object","entries","found","optionIndex","optionValue","findIndex","blocked_scripts","fetchData","scriptsWithId","block_script","forEach","i","add_script","whitelist_script","addScript","push","doAction","then","response","catch","error","console","saveScript","deleteScript","splice","updatePluginStatus","pluginId","updatePlaceholderStatus","isPlugin","placeholder","UseLicenseData","processing","licenseNotices","noticesLoaded","getLicenseNotices","notices","activateLicense","license","data","deactivateLicense"],"sourceRoot":""}