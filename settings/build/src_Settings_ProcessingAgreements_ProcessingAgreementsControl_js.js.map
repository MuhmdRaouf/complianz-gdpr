{"version":3,"file":"src_Settings_ProcessingAgreements_ProcessingAgreementsControl_js.js","mappings":"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","sources":["webpack://complianz-gdpr/./src/Settings/ProcessingAgreements/ProcessingAgreementsControl.js","webpack://complianz-gdpr/./src/Settings/ProcessingAgreements/ProcessingAgreementsData.js"],"sourcesContent":["import useProcessingAgreementsData from \"./ProcessingAgreementsData\";\nimport {useState, useEffect} from \"@wordpress/element\";\nimport { __ } from '@wordpress/i18n';\nimport Icon from \"../../utils/Icon\";\nimport {memo} from \"react\";\n\nconst ProcessingAgreementsControl = () => {\n\tconst { documents, documentsLoaded, fetchData, deleteDocuments, editDocument} = useProcessingAgreementsData();\n\tconst [ searchValue, setSearchValue ] = useState( '' );\n\tconst paginationPerPage = 5;\n\tconst [ pagination, setPagination] = useState({});\n\tconst [ indeterminate, setIndeterminate] = useState(false);\n\tconst [ entirePageSelected, setEntirePageSelected ] = useState( false );\n\tconst handlePageChange = (page) => {\n\t\tsetPagination({ ...pagination, currentPage: page });\n\t};\n\tconst [ btnDisabled, setBtnDisabled ] = useState( '' );\n\tconst [ selectedDocuments, setSelectedDocuments ] = useState( [] );\n\tconst [ downloading, setDownloading ] = useState( false );\n\n\tconst [DataTable, setDataTable] = useState(null);\n\tuseEffect( () => {\n\t\timport('react-data-table-component').then(({ default: DataTable }) => {\n\t\t\tsetDataTable(() => DataTable);\n\t\t});\n\t}, []);\n\n\tconst disabled = !cmplz_settings.is_premium;\n\tuseEffect(() => {\n\t\tif (!documentsLoaded) fetchData();\n\t}, [documentsLoaded])\n\n\tconst customStyles = {\n\t\theadCells: {\n\t\t\tstyle: {\n\t\t\t\tpaddingLeft: '0',\n\t\t\t\tpaddingRight: '0',\n\t\t\t},\n\t\t},\n\t\tcells: {\n\t\t\tstyle: {\n\t\t\t\tpaddingLeft: '0',\n\t\t\t\tpaddingRight: '0',\n\t\t\t},\n\t\t},\n\t};\n\n\tconst onDeleteDocuments  = async (ids) => {\n\t\tsetSelectedDocuments([]);\n\t\tawait deleteDocuments(ids);\n\t}\n\n\tconst downloadDocuments = async () => {\n\t\tlet selectedDocumentsCopy = documents.filter(document => selectedDocuments.includes(document.id));\n\t\tsetDownloading(true);\n\t\tconst downloadNext = async () => {\n\n\t\t\tif (selectedDocumentsCopy.length > 0) {\n\t\t\t\tconst document = selectedDocumentsCopy.shift();\n\t\t\t\tconst url = document.download_url;\n\t\t\t\tsetBtnDisabled(true);\n\t\t\t\ttry {\n\t\t\t\t\tlet request = new XMLHttpRequest();\n\t\t\t\t\trequest.responseType = 'blob';\n\t\t\t\t\trequest.open('get', url, true);\n\t\t\t\t\trequest.send();\n\t\t\t\t\trequest.onreadystatechange = function() {\n\t\t\t\t\t\tif (this.readyState === 4 && this.status === 200) {\n\t\t\t\t\t\t\tlet obj = window.URL.createObjectURL(this.response);\n\t\t\t\t\t\t\tlet element = window.document.createElement('a');\n\t\t\t\t\t\t\telement.setAttribute('href',obj);\n\t\t\t\t\t\t\telement.setAttribute('download', document.title);\n\t\t\t\t\t\t\twindow.document.body.appendChild(element);\n\t\t\t\t\t\t\t//onClick property\n\t\t\t\t\t\t\telement.click();\n\t\t\t\t\t\t\tsetSelectedDocuments(selectedDocumentsCopy);\n\t\t\t\t\t\t\tsetDownloading(false);\n\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\twindow.URL.revokeObjectURL(obj);\n\t\t\t\t\t\t\t}, 60 * 1000);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\tawait downloadNext();\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error(error);\n\t\t\t\t\tsetBtnDisabled(false);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tawait downloadNext();\n\t\tsetBtnDisabled(false);\n\t};\n\n\tconst handleSelectEntirePage = (e) => {\n\t\tlet selected = e.target.checked;\n\t\tif ( selected ) {\n\t\t\tsetEntirePageSelected(true);\n\t\t\t//add all records on this page to the selectedRecords array\n\t\t\tlet currentPage = pagination.currentPage ? pagination.currentPage : 1;\n\t\t\t//get records from currentPage * paginationPerPage to (currentPage+1) * paginationPerPage\n\t\t\tlet filtered = handleFiltering(documents);\n\t\t\tlet recordsOnPage = filtered.slice((currentPage-1) * paginationPerPage, currentPage * paginationPerPage);\n\t\t\tsetSelectedDocuments(recordsOnPage.map(document => document.id));\n\t\t} else {\n\t\t\tsetEntirePageSelected(false);\n\t\t\tsetSelectedDocuments([]);\n\t\t}\n\t\tsetIndeterminate(false);\n\t}\n\n\tconst onSelectDocument = (e, id) => {\n\t\tlet selected = e.target.checked;\n\t\tlet docs = [...selectedDocuments];\n\t\tif (selected) {\n\t\t\tif ( !docs.includes(id) ){\n\t\t\t\tdocs.push(id);\n\t\t\t\tsetSelectedDocuments(docs);\n\t\t\t}\n\t\t} else {\n\t\t\t//remove the document from the selected documents\n\t\t\tdocs = [...selectedDocuments.filter(documentId => documentId!==id)];\n\t\t\tsetSelectedDocuments(docs);\n\t\t}\n\t\t//check if all records on this page are selected\n\t\tlet currentPage = pagination.currentPage ? pagination.currentPage : 1;\n\t\t//get records from currentPage * paginationPerPage to (currentPage+1) * paginationPerPage\n\t\tlet filtered = handleFiltering(documents);\n\t\tlet recordsOnPage = filtered.slice((currentPage-1) * paginationPerPage, currentPage * paginationPerPage);\n\t\tlet allSelected = true;\n\t\tlet hasOneSelected = false;\n\t\trecordsOnPage.forEach(record => {\n\t\t\tif ( !docs.includes(record.id) ) {\n\t\t\t\tallSelected = false;\n\t\t\t} else {\n\t\t\t\thasOneSelected = true;\n\t\t\t}\n\t\t});\n\n\t\tif (allSelected) {\n\t\t\tsetEntirePageSelected(true);\n\t\t\tsetIndeterminate(false);\n\t\t} else if (!hasOneSelected) {\n\t\t\tsetIndeterminate(false);\n\t\t} else {\n\t\t\tsetEntirePageSelected(false);\n\t\t\tsetIndeterminate(true);\n\t\t}\n\t}\n\n\tconst handleFiltering = (documents) => {\n\t\t//search\n\t\tdocuments = documents.filter(document => {\n\t\t\treturn document.title.toLowerCase().includes(searchValue.toLowerCase()) || document.service.toLowerCase().includes(searchValue.toLowerCase());\n\t\t})\n\t\t//sort\n\t\tdocuments.sort((a, b) => {\n\t\t\tif (a.title < b.title) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tif (a.title > b.title) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\treturn 0;\n\t\t});\n\t\treturn documents;\n\t}\n\n\tconst columns = [\n\t\t{\n\t\t\tname: <input type=\"checkbox\" className={indeterminate? 'indeterminate' : ''} checked={entirePageSelected} onChange={(e) => handleSelectEntirePage(e)} />,\n\t\t\tselector: row => row.selectControl,\n\t\t},\n\t\t{\n\t\t\tname: __('Document',\"complianz-gdpr\"),\n\t\t\tselector: row => row.title,\n\t\t\tsortable: true,\n\t\t},\n\t\t{\n\t\t\tname: __('Edit',\"complianz-gdpr\"),\n\t\t\tselector: row => row.editControl,\n\t\t},\n\t\t{\n\t\t\tname: __('Region',\"complianz-gdpr\"),\n\t\t\tselector: row => <img alt=\"region\" width=\"20px\" height=\"20px\" src={cmplz_settings.plugin_url+'assets/images/'+row.region+'.svg'} />,\n\t\t\tsortable: true,\n\t\t},\n\t\t{\n\t\t\tname: __('Service',\"complianz-gdpr\"),\n\t\t\tselector: row => row.service,\n\t\t\tsortable: true,\n\t\t},\n\t\t{\n\t\t\tname: __('Date',\"complianz-gdpr\"),\n\t\t\tselector: row => row.date,\n\t\t\tsortable: true,\n\t\t},\n\t];\n\n\tlet filteredDocuments = handleFiltering(documents);\n\t//add the controls to the plugins\n\tlet data = [];\n\tfilteredDocuments.forEach(document => {\n\t\tlet documentCopy = {...document}\n\t\tdocumentCopy.selectControl = <input type=\"checkbox\" checked={selectedDocuments.includes(documentCopy.id)} onChange={(e) => onSelectDocument(e,documentCopy.id)} />\n\t\tdocumentCopy.editControl = <a href=\"#\" onClick={(e) => editDocument(e, documentCopy.id)}>{__(\"Edit\",\"complianz-gdpr\")}</a>\n\t\tdata.push(documentCopy);\n\t});\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"cmplz-table-header\">\n\t\t\t\t<div className=\"cmplz-table-header-controls\">\n\t\t\t\t<input className=\"cmplz-datatable-search\" type=\"text\" placeholder={__(\"Search\", \"complianz-gdpr\")} value={searchValue} onChange={ ( e ) => setSearchValue(e.target.value) } />\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{\n\t\t\t\tselectedDocuments.length>0 &&\n\t\t\t\t<div className=\"cmplz-selected-document\">\n\t\t\t\t\t{selectedDocuments.length>1 && __(\"%s items selected\", \"complianz-gdpr\").replace(\"%s\", selectedDocuments.length)}\n\t\t\t\t\t{selectedDocuments.length===1 && __(\"1 item selected\", \"complianz-gdpr\")}\n\t\t\t\t\t<div className=\"cmplz-selected-document-controls\">\n\t\t\t\t\t\t<button disabled={btnDisabled} className=\"button button-default cmplz-btn-reset\" onClick={() => downloadDocuments()}>\n\t\t\t\t\t\t\t{__(\"Download Processing Agreement\", \"complianz-gdpr\")}\n\t\t\t\t\t\t\t{downloading && <Icon name = \"loading\" color = 'grey' />}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button className=\"button button-default cmplz-reset-button\" onClick={() => onDeleteDocuments(selectedDocuments)}>\n\t\t\t\t\t\t\t{__(\"Delete\", \"complianz-gdpr\")}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t}\n\t\t\t{DataTable && <>\n\t\t\t\t<DataTable\n\t\t\t\t\tcolumns={columns}\n\t\t\t\t\tdata={data}\n\t\t\t\t\tdense\n\t\t\t\t\tpagination\n\t\t\t\t\tnoDataComponent={<div className=\"cmplz-no-documents\">{__(\"No documents\", \"really-simple-ssl\")}</div>}\n\t\t\t\t\tpersistTableHead\n\t\t\t\t\ttheme=\"really-simple-plugins\"\n\t\t\t\t\tcustomStyles={customStyles}\n\t\t\t\t\tpaginationPerPage={paginationPerPage}\n\t\t\t\t\tonChangePage={handlePageChange}\n\t\t\t\t\tpaginationState={pagination}\n\t\t\t\t/></>\n\t\t\t}\n\t\t</>\n\t)\n}\nexport default memo(ProcessingAgreementsControl);\n","import {create} from 'zustand';\nimport produce from 'immer';\nimport * as cmplz_api from \"../../utils/api\";\nimport {updateFieldsListWithConditions} from \"../../utils/updateFieldsListWithConditions\";\nconst useProcessingAgreementsData = create(( set, get ) => ({\n\tdocumentsLoaded: false,\n\tregion: '',\n\tfileName: '',\n\tserviceName: '',\n\tfetching:false,\n\tupdating:false,\n\tloadingFields:false,\n\tdocuments: [],\n\tregions: [],\n\tfields: [],\n\teditDocumentId:false,\n\tresetEditDocumentId: (id) => {\n\t\tset({editDocumentId:false, region:'', serviceName:''});\n\t},\n\teditDocument: async (e, id) => {\n\t\te.preventDefault();\n\t\tset({updating:true});\n\t\tawait cmplz_api.doAction('load_processing_agreement', {id: id}).then((response) => {\n\t\t\tset({fields:response.fields,region:response.region,serviceName:response.serviceName,updating:false, fileName:response.file_name});\n\t\t}).catch((error) => {\n\t\t\tconsole.error(error);\n\t\t});\n\t\tset({editDocumentId:id});\n\t},\n\tsetRegion: (region) => {\n\t\tset({region:region});\n\t},\n\tsetServiceName: (serviceName) => {\n\t\tset({serviceName:serviceName});\n\t},\n\tupdateField: (id, value) => {\n\t\tlet found=false;\n\t\tlet index = false;\n\t\tset(\n\t\t\tproduce((state) => {\n\t\t\t\tstate.fields.forEach(function(fieldItem, i) {\n\t\t\t\t\tif (fieldItem.id === id ){\n\t\t\t\t\t\tindex = i;\n\t\t\t\t\t\tfound=true;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif (index!==false) state.fields[index].value = value;\n\t\t\t})\n\t\t)\n\t\tlet newFields = updateFieldsListWithConditions(get().fields);\n\t\tset({fields:newFields});\n\t},\n\tsave: async ( region, serviceName ) => {\n\t\tset({updating:true});\n\t\tlet postId = get().editDocumentId;\n\t\tawait cmplz_api.doAction('save_processing_agreement', {fields: get().fields, region: region, serviceName: serviceName, post_id:postId}).then((response) => {\n\t\t\tset({updating:false});\n\n\t\t\treturn response;\n\t\t}).catch((error) => {\n\t\t\tconsole.error(error);\n\t\t});\n\t\tget().fetchData();\n\t},\n\tdeleteDocuments: async ( ids ) => {\n\t\t//get array of documents to delete\n\t\tlet deleteDocuments = get().documents.filter(document => ids.includes(document.id));\n\t\t//remove the ids from the documents array\n\t\tset((state) => ({\n\t\t\tdocuments: state.documents.filter(document => !ids.includes(document.id)),\n\t\t}));\n\t\tlet data = {};\n\t\tdata.documents = deleteDocuments;\n\t\tawait cmplz_api.doAction('delete_processing_agreement', data).then((response) => {\n\t\t\treturn response;\n\t\t}).catch((error) => {\n\t\t\tconsole.error(error);\n\t\t});\n\t},\n\tfetchData: async ( ) => {\n\t\tif (get().fetching) return;\n\t\tset({fetching:true});\n\t\tlet data = {}\n\t\tconst { documents,regions } = await cmplz_api.doAction('get_processing_agreements', data).then((response) => {\n\t\t\treturn response;\n\t\t}).catch((error) => {\n\t\t\tconsole.error(error);\n\t\t});\n\t\tset(() => ({\n\t\t\tdocumentsLoaded: true,\n\t\t\tdocuments: documents,\n\t\t\tregions: regions,\n\t\t\tfetching:false,\n\t\t}));\n\t},\n\tfetchFields: async ( region ) => {\n\t\tlet data = {region:region}\n\t\tset({loadingFields:true});\n\t\tconst { fields } = await cmplz_api.doAction('get_processing_agreement_fields', data).then((response) => {\n\t\t\treturn response;\n\t\t}).catch((error) => {\n\t\t\tconsole.error(error);\n\t\t});\n\t\tlet newFields = updateFieldsListWithConditions(fields);\n\n\t\tset((state) => ({\n\t\t\tfields: newFields,\n\t\t\tloadingFields:false,\n\t\t}));\n\t},\n}));\n\nexport default useProcessingAgreementsData;\n"],"names":["useProcessingAgreementsData","useState","useEffect","__","Icon","memo","ProcessingAgreementsControl","documents","documentsLoaded","fetchData","deleteDocuments","editDocument","searchValue","setSearchValue","paginationPerPage","pagination","setPagination","indeterminate","setIndeterminate","entirePageSelected","setEntirePageSelected","handlePageChange","page","currentPage","btnDisabled","setBtnDisabled","selectedDocuments","setSelectedDocuments","downloading","setDownloading","DataTable","setDataTable","then","_ref","default","disabled","cmplz_settings","is_premium","customStyles","headCells","style","paddingLeft","paddingRight","cells","onDeleteDocuments","ids","downloadDocuments","selectedDocumentsCopy","filter","document","includes","id","downloadNext","length","shift","url","download_url","request","XMLHttpRequest","responseType","open","send","onreadystatechange","readyState","status","obj","window","URL","createObjectURL","response","element","createElement","setAttribute","title","body","appendChild","click","setTimeout","revokeObjectURL","error","console","handleSelectEntirePage","e","selected","target","checked","filtered","handleFiltering","recordsOnPage","slice","map","onSelectDocument","docs","push","documentId","allSelected","hasOneSelected","forEach","record","toLowerCase","service","sort","a","b","columns","name","type","className","onChange","selector","row","selectControl","sortable","editControl","alt","width","height","src","plugin_url","region","date","filteredDocuments","data","documentCopy","href","onClick","Fragment","placeholder","value","replace","color","dense","noDataComponent","persistTableHead","theme","onChangePage","paginationState","create","produce","cmplz_api","updateFieldsListWithConditions","set","get","fileName","serviceName","fetching","updating","loadingFields","regions","fields","editDocumentId","resetEditDocumentId","preventDefault","doAction","file_name","catch","setRegion","setServiceName","updateField","found","index","state","fieldItem","i","newFields","save","postId","post_id","fetchFields"],"sourceRoot":""}