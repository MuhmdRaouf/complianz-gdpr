{"version":3,"file":"src_Statistics_Statistics_js.js","mappings":"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","sources":["webpack://complianz-gdpr/./src/Settings/License/LicenseData.js","webpack://complianz-gdpr/./src/Statistics/Statistics.js","webpack://complianz-gdpr/./src/Statistics/StatisticsData.js"],"sourcesContent":["import {create} from 'zustand';\nimport * as cmplz_api from \"../../utils/api\";\nconst UseLicenseData = create(( set, get ) => ({\n    licenseStatus: cmplz_settings.licenseStatus,\n\tprocessing:false,\n\tlicenseNotices: [],\n\tnoticesLoaded: false,\n\tgetLicenseNotices: async () => {\n\t\tconst {licenseStatus, notices} = await cmplz_api.doAction('license_notices', {}).then( ( response ) => {\n\t\t\treturn response;\n\t\t});\n\t\tset(state => ({ noticesLoaded:true,licenseNotices:notices, licenseStatus:licenseStatus}));\n\t},\n\tactivateLicense: async (license) => {\n\t\tlet data = {};\n\t\tdata.license = license;\n\t\tset({processing:true})\n\t\tconst {licenseStatus, notices} = await cmplz_api.doAction('activate_license', data);\n\t\tset(state => ({processing:false,licenseNotices:notices, licenseStatus:licenseStatus}));\n\t},\n\tdeactivateLicense: async () => {\n\t\tset({processing:true})\n\t\tconst {licenseStatus, notices} = await cmplz_api.doAction('deactivate_license');\n\t\tset(state => ({processing:false,licenseNotices:notices, licenseStatus:licenseStatus}));\n\t}\n\n}));\n\nexport default UseLicenseData;\n\n","import useFields from \"../Settings/Fields/FieldsData\";\nimport useStatistics from \"./StatisticsData\";\nimport { useState, useEffect } from \"@wordpress/element\";\nimport useLicense from \"../Settings/License/LicenseData\";\nimport {memo} from \"react\";\n// import { useMemo } from 'react';\nconst Statistics = () => {\n\n\tconst {fields, getFieldValue} = useFields();\n\tconst [abTestingEnabled, setAbTestingEnabled] = useState(false);\n\tconst [data, setData] = useState(false);\n\tconst {consentType, setConsentType, statisticsData, emptyStatisticsData, consentTypes, loaded, fetchStatisticsData, statisticsLoading} = useStatistics();\n\tconst [Bar, setBar] = useState(null);\n\tconst {licenseStatus} = useLicense();\n\n\tuseEffect ( () => {\n\t\timport ('chart.js').then(({\n\t\t\t  Chart,\n\t\t\t  CategoryScale,\n\t\t\t  LinearScale,\n\t\t\t  BarElement,\n\t\t\t  Title,\n\t\t\t  Tooltip,\n\t\t\t  Legend\n\t\t}) => {\n\t\t\tChart.register(\n\t\t\t\tCategoryScale,\n\t\t\t\tLinearScale,\n\t\t\t\tBarElement,\n\t\t\t\tTitle,\n\t\t\t\tTooltip,\n\t\t\t\tLegend\n\t\t\t);\n\t\t});\n\t\timport ('react-chartjs-2').then(({ Bar }) => {\n\t\t\tsetBar(() => Bar);\n\t\t});\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (!loaded && abTestingEnabled) {\n\t\t\tfetchStatisticsData();\n\t\t}\n\t},[loaded, abTestingEnabled ]);\n\n\tuseEffect(() => {\n\t\tif (getFieldValue('a_b_testing')==1) {\n\t\t\tsetAbTestingEnabled(true);\n\t\t} else {\n\t\t\tsetAbTestingEnabled(false);\n\t\t}\n\t},[fields]);\n\n\tuseEffect(() => {\n\t\t//initial values\n\t\tif (licenseStatus==='valid' && abTestingEnabled) {\n\t\t\tsetData(emptyStatisticsData[consentType]);\n\t\t} else {\n\t\t\tsetData(statisticsData[consentType]);\n\t\t}\n\n\t},[])\n\n\tuseEffect(() => {\n\t\tif (abTestingEnabled) {\n\t\t\tsetData(statisticsData[consentType]);\n\t\t}\n\t},[consentType, abTestingEnabled, loaded])\n\n\n\tconst options = {\n\t\tresponsive: true,\n\t\tplugins: {\n\t\t\tlegend: {\n\t\t\t\tposition: 'top',\n\t\t\t},\n\t\t},\n\t};\n\tconst loadingClass = statisticsLoading ? 'cmplz-loading' : '';\n\treturn (\n\t\t <>\n\t\t\t {consentTypes.length>1 && <select value={consentType} onChange={(e) => setConsentType(e.target.value)}>\n\t\t\t\t {consentTypes.map((type, i) =>\n\t\t\t\t\t <option key={i} value={type.id} >{type.label}</option>)}\n\t\t\t </select>}\n\t\t\t {data && Bar && <Bar className={`burst-loading-container ${loadingClass}`} options={options} data={data} />}\n\t\t </>\n\t);\n};\n\nexport default memo(Statistics);\n\n","import {create} from 'zustand';\nimport * as cmplz_api from \"../utils/api\";\nconst emptyData = {\n\t'optin': {\n\t\t\"labels\": [\n\t\t\t\"Functional\",\n\t\t\t\"Statistics\",\n\t\t\t\"Marketing\",\n\t\t\t\"Do Not Track\",\n\t\t\t\"No choice\",\n\t\t\t\"No warning\",\n\t\t],\n\t\t\"categories\": [\n\t\t\t\"functional\",\n\t\t\t\"statistics\",\n\t\t\t\"marketing\",\n\t\t\t\"do_not_track\",\n\t\t\t\"no_choice\",\n\t\t\t\"no_warning\",\n\t\t],\n\t\t\"datasets\": [\n\t\t\t{\n\t\t\t\t\"data\": [\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\"\n\t\t\t\t],\n\t\t\t\t\"backgroundColor\": \"rgba(255, 99, 132, 1)\",\n\t\t\t\t\"borderColor\": \"rgba(255, 99, 132, 1)\",\n\t\t\t\t\"label\": \"A (default)\",\n\t\t\t\t\"fill\": \"false\",\n\t\t\t\t\"borderDash\": [\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"data\": [\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\"\n\t\t\t\t],\n\t\t\t\t\"backgroundColor\": \"rgba(255, 159, 64, 1)\",\n\t\t\t\t\"borderColor\": \"rgba(255, 159, 64, 1)\",\n\t\t\t\t\"label\": \"B\",\n\t\t\t\t\"fill\": \"false\",\n\t\t\t\t\"borderDash\": [\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t]\n\t\t\t}\n\t\t],\n\t\t\"max\": 5\n\t},\n\t'optout': {\n\t\t\"labels\": [\n\t\t\t\"Functional\",\n\t\t\t\"Statistics\",\n\t\t\t\"Marketing\",\n\t\t\t\"Do Not Track\",\n\t\t\t\"No choice\",\n\t\t\t\"No warning\",\n\t\t],\n\t\t\"categories\": [\n\t\t\t\"functional\",\n\t\t\t\"statistics\",\n\t\t\t\"marketing\",\n\t\t\t\"do_not_track\",\n\t\t\t\"no_choice\",\n\t\t\t\"no_warning\",\n\t\t],\n\t\t\"datasets\": [\n\t\t\t{\n\t\t\t\t\"data\": [\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\"\n\t\t\t\t],\n\t\t\t\t\"backgroundColor\": \"rgba(255, 99, 132, 1)\",\n\t\t\t\t\"borderColor\": \"rgba(255, 99, 132, 1)\",\n\t\t\t\t\"label\": \"A (default)\",\n\t\t\t\t\"fill\": \"false\",\n\t\t\t\t\"borderDash\": [\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"data\": [\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\"\n\t\t\t\t],\n\t\t\t\t\"backgroundColor\": \"rgba(255, 159, 64, 1)\",\n\t\t\t\t\"borderColor\": \"rgba(255, 159, 64, 1)\",\n\t\t\t\t\"label\": \"B\",\n\t\t\t\t\"fill\": \"false\",\n\t\t\t\t\"borderDash\": [\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t]\n\t\t\t}\n\t\t],\n\t\t\"max\": 5\n\t}\n}\nconst defaultData = {\n\t'optin': {\n\t\t\"labels\": [\n\t\t\t\"Functional\",\n\t\t\t\"Statistics\",\n\t\t\t\"Marketing\",\n\t\t\t\"Do Not Track\",\n\t\t\t\"No choice\",\n\t\t\t\"No warning\",\n\t\t],\n\t\t\"categories\": [\n\t\t\t\"functional\",\n\t\t\t\"statistics\",\n\t\t\t\"marketing\",\n\t\t\t\"do_not_track\",\n\t\t\t\"no_choice\",\n\t\t\t\"no_warning\",\n\t\t],\n\t\t\"datasets\": [\n\t\t\t{\n\t\t\t\t\"data\": [\n\t\t\t\t\t\"29\",\n\t\t\t\t\t\"747\",\n\t\t\t\t\t\"174\",\n\t\t\t\t\t\"292\",\n\t\t\t\t\t\"30\",\n\t\t\t\t\t\"10\"\n\t\t\t\t],\n\t\t\t\t\"backgroundColor\": \"rgba(255, 99, 132, 1)\",\n\t\t\t\t\"borderColor\": \"rgba(255, 99, 132, 1)\",\n\t\t\t\t\"label\": \"Demo A (default)\",\n\t\t\t\t\"fill\": \"false\",\n\t\t\t\t\"borderDash\": [\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"data\": [\n\t\t\t\t\t\"3\",\n\t\t\t\t\t\"536\",\n\t\t\t\t\t\"240\",\n\t\t\t\t\t\"389\",\n\t\t\t\t\t\"45\",\n\t\t\t\t\t\"32\"\n\t\t\t\t],\n\t\t\t\t\"backgroundColor\": \"rgba(255, 159, 64, 1)\",\n\t\t\t\t\"borderColor\": \"rgba(255, 159, 64, 1)\",\n\t\t\t\t\"label\": \"Demo B\",\n\t\t\t\t\"fill\": \"false\",\n\t\t\t\t\"borderDash\": [\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t]\n\t\t\t}\n\t\t],\n\t\t\"max\": 5\n\t},\n\t'optout': {\n\t\t\"labels\": [\n\t\t\t\"Functional\",\n\t\t\t\"Statistics\",\n\t\t\t\"Marketing\",\n\t\t\t\"Do Not Track\",\n\t\t\t\"No choice\",\n\t\t\t\"No warning\",\n\t\t],\n\t\t\"categories\": [\n\t\t\t\"functional\",\n\t\t\t\"statistics\",\n\t\t\t\"marketing\",\n\t\t\t\"do_not_track\",\n\t\t\t\"no_choice\",\n\t\t\t\"no_warning\",\n\t\t],\n\t\t\"datasets\": [\n\t\t\t{\n\t\t\t\t\"data\": [\n\t\t\t\t\t\"29\",\n\t\t\t\t\t\"747\",\n\t\t\t\t\t\"174\",\n\t\t\t\t\t\"292\",\n\t\t\t\t\t\"30\",\n\t\t\t\t\t\"10\"\n\t\t\t\t],\n\t\t\t\t\"backgroundColor\": \"rgba(255, 99, 132, 1)\",\n\t\t\t\t\"borderColor\": \"rgba(255, 99, 132, 1)\",\n\t\t\t\t\"label\": \"A (default)\",\n\t\t\t\t\"fill\": \"false\",\n\t\t\t\t\"borderDash\": [\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"data\": [\n\t\t\t\t\t\"3\",\n\t\t\t\t\t\"536\",\n\t\t\t\t\t\"240\",\n\t\t\t\t\t\"389\",\n\t\t\t\t\t\"45\",\n\t\t\t\t\t\"32\"\n\t\t\t\t],\n\t\t\t\t\"backgroundColor\": \"rgba(255, 159, 64, 1)\",\n\t\t\t\t\"borderColor\": \"rgba(255, 159, 64, 1)\",\n\t\t\t\t\"label\": \"Demo B\",\n\t\t\t\t\"fill\": \"false\",\n\t\t\t\t\"borderDash\": [\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t]\n\t\t\t}\n\t\t],\n\t\t\"max\": 5\n\t}\n}\nconst useStatistics = create(( set, get ) => ({\n\tconsentType: 'optin',\n\tsetConsentType: (consentType) => {\n\t\tset({consentType:consentType});\n\t},\n\tstatisticsLoading:false,\n\tconsentTypes:[],\n\tregions:[],\n\tdefaultConsentType: 'optin',\n\tloaded:false,\n\tstatisticsData: defaultData,\n\temptyStatisticsData: emptyData,\n\tbestPerformerEnabled:false,\n\tdaysLeft:'',\n\tabTrackingCompleted:false,\n\tlabels:[],\n\tsetLabels: (labels) => {\n\t\tset({labels:labels});\n\t},\n\tfetchStatisticsData: async () => {\n\t\tset({saving:true });\n\t\tlet data = {};\n\t\tif (get().loaded) return;\n\t\tconst {daysLeft, abTrackingCompleted, consentTypes, statisticsData, defaultConsentType, regions, bestPerformerEnabled} = await cmplz_api.doAction('get_statistics_data', data).then((response) => {\n\t\t\treturn response;\n\t\t}).catch((error) => {\n\t\t\tconsole.error(error);\n\t\t});\n\t\tset({\n\t\t\tsaving:false,\n\t\t\tloaded:true,\n\t\t\tconsentType:defaultConsentType,\n\t\t\tconsentTypes:consentTypes,\n\t\t\tstatisticsData:statisticsData,\n\t\t\tdefaultConsentType:defaultConsentType,\n\t\t\tbestPerformerEnabled:bestPerformerEnabled,\n\t\t\tregions:regions,\n\t\t\tdaysLeft:daysLeft,\n\t\t\tabTrackingCompleted:abTrackingCompleted,\n\t\t});\n\t},\n}));\nexport default useStatistics;\n"],"names":["create","cmplz_api","UseLicenseData","set","get","licenseStatus","cmplz_settings","processing","licenseNotices","noticesLoaded","getLicenseNotices","notices","doAction","then","response","state","activateLicense","license","data","deactivateLicense","useFields","useStatistics","useState","useEffect","useLicense","memo","Statistics","fields","getFieldValue","abTestingEnabled","setAbTestingEnabled","setData","consentType","setConsentType","statisticsData","emptyStatisticsData","consentTypes","loaded","fetchStatisticsData","statisticsLoading","Bar","setBar","_ref","Chart","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","register","_ref2","options","responsive","plugins","legend","position","loadingClass","createElement","Fragment","length","value","onChange","e","target","map","type","i","key","id","label","className","emptyData","defaultData","regions","defaultConsentType","bestPerformerEnabled","daysLeft","abTrackingCompleted","labels","setLabels","saving","catch","error","console"],"sourceRoot":""}