"use strict";(globalThis.webpackChunkcomplianz_gdpr=globalThis.webpackChunkcomplianz_gdpr||[]).push([[8189,4573],{68189:(e,l,t)=>{t.r(l),t.d(l,{default:()=>m});var a=t(69307),o=t(43684),c=t(65736),n=t(34573),i=t(99057),r=t(56293);const s=e=>{const{getFieldValue:l,showSavedSettingsNotice:t}=(0,r.default)(),{saving:o,purposesOptions:n,services:s,updateCookie:m,toggleDeleteCookie:d,saveCookie:p}=(0,i.UseSyncData)();let _="yes"===l("use_cdb_api"),u=!!_&&1==e.sync,g=u;o&&(g=!0);let k=!1;e.slug.length>0&&(k="https://cookiedatabase.org/cookie/"+(e.service?e.service:"unknown-service")+"/"+e.slug);const h=(e,l,t)=>{m(l,t,e.target.value)},z=(e,l,t)=>{m(l,t,e.target.checked)};let E=-1!==e.name.indexOf("cmplz_")||u,b=1!=e.deleted?"cmplz-reset-button":"";return(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{className:"cmplz-details-row cmplz-details-row__checkbox"},(0,a.createElement)("label",null,(0,c.__)("Sync cookie with cookiedatabase.org","complianz-gdpr")),(0,a.createElement)("input",{disabled:!_,onChange:l=>z(l,e.ID,"sync"),type:"checkbox",checked:u})),(0,a.createElement)("div",{className:"cmplz-details-row cmplz-details-row__checkbox"},(0,a.createElement)("label",null,(0,c.__)("Show cookie on Cookie Policy","complianz-gdpr")),(0,a.createElement)("input",{disabled:g,onChange:l=>z(l,e.ID,"showOnPolicy"),type:"checkbox",checked:e.showOnPolicy})),(0,a.createElement)("div",{className:"cmplz-details-row"},(0,a.createElement)("label",null,(0,c.__)("Name","complianz-gdpr")),(0,a.createElement)("input",{disabled:g,onChange:l=>h(l,e.ID,"name"),type:"text",placeholder:(0,c.__)("Name","complianz-gdpr"),value:e.name})),(0,a.createElement)("div",{className:"cmplz-details-row"},(0,a.createElement)("label",null,(0,c.__)("Service","complianz-gdpr")),(0,a.createElement)("select",{disabled:g,onChange:l=>h(l,e.ID,"serviceID"),value:e.serviceID},(0,a.createElement)("option",{key:-1,value:0},(0,c.__)("Select a service","complianz-gdpr")),s.map(((e,l)=>(0,a.createElement)("option",{key:l,value:e.ID},e.name))))),(0,a.createElement)("div",{className:"cmplz-details-row"},(0,a.createElement)("label",null,(0,c.__)("Expiration","complianz-gdpr")),(0,a.createElement)("input",{disabled:E,onChange:l=>h(l,e.ID,"retention"),type:"text",placeholder:(0,c.__)("1 year","complianz-gdpr"),value:e.retention})),(0,a.createElement)("div",{className:"cmplz-details-row"},(0,a.createElement)("label",null,(0,c.__)("Cookie function","complianz-gdpr")),(0,a.createElement)("input",{disabled:g,onChange:l=>h(l,e.ID,"cookieFunction"),type:"text",placeholder:(0,c.__)("e.g. store user ID","complianz-gdpr"),value:e.cookieFunction})),(0,a.createElement)("div",{className:"cmplz-details-row"},(0,a.createElement)("label",null,(0,c.__)("Purpose","complianz-gdpr")),(0,a.createElement)("select",{disabled:g,onChange:l=>h(l,e.ID,"purpose"),value:e.purpose},(0,a.createElement)("option",{key:-1,value:0},(0,c.__)("Select a purpose","complianz-gdpr")),n.map(((e,l)=>(0,a.createElement)("option",{key:l,value:e.name},e.name))))),k&&(0,a.createElement)("div",{className:"cmplz-details-row"},(0,a.createElement)("a",{href:k,target:"_blank"},(0,c.__)("View cookie on cookiedatabase.org","complianz-gdpr"))),(0,a.createElement)("div",{className:"cmplz-details-row cmplz-details-row__buttons"},(0,a.createElement)("button",{disabled:o,onClick:l=>(async e=>{await p(e),t((0,c.__)("Saved cookie","complianz-gd[r"))})(e.ID),className:"button button-default"},(0,c.__)("Save","complianz-gdpr")),(0,a.createElement)("button",{className:"button button-default "+b,onClick:l=>(async e=>{await d(e)})(e.ID)},1==e.deleted&&(0,c.__)("Restore","complianz-gdpr"),1!=e.deleted&&(0,c.__)("Delete","complianz-gdpr"))))},m=e=>{let l="";1==e.cookie.deleted?l=" | "+(0,c.__)("Deleted","complianz-gdpr"):e.cookie.showOnPolicy?e.cookie.isMembersOnly&&(l=" | "+(0,c.__)("Logged in users only, ignored","complianz-gdpr")):l=" | "+(0,c.__)("Admin, ignored","complianz-gdpr");let t=e.cookie.name;return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(n.default,{summary:t,comment:l,icons:(0,a.createElement)(a.Fragment,null,e.cookie.complete&&(0,a.createElement)(o.default,{tooltip:(0,c.__)("The data for this cookie is complete","complianz-gdpr"),name:"success",color:"green"}),!e.cookie.complete&&(0,a.createElement)(o.default,{tooltip:(0,c.__)("This cookie has missing fields","complianz-gdpr"),name:"times",color:"red"}),e.cookie.sync&&e.cookie.synced&&(0,a.createElement)(o.default,{tooltip:(0,c.__)("This cookie has been synchronized with cookiedatabase.org.","complianz-gdpr"),name:"rotate",color:"green"}),!e.cookie.synced||!e.cookie.sync&&(0,a.createElement)(o.default,{tooltip:(0,c.__)("This cookie is not synchronized with cookiedatabase.org.","complianz-gdpr"),name:"rotate-error",color:"red"}),e.cookie.showOnPolicy&&(0,a.createElement)(o.default,{tooltip:(0,c.__)("This cookie will be on your Cookie Policy","complianz-gdpr"),name:"file",color:"green"}),!e.cookie.showOnPolicy&&(0,a.createElement)(o.default,{tooltip:(0,c.__)("This cookie is not shown on the Cookie Policy","complianz-gdpr"),name:"file-disabled",color:"grey"}),e.cookie.old&&(0,a.createElement)(o.default,{tooltip:(0,c.__)("This cookie has not been detected on your site in the last three months","complianz-gdpr"),name:"calendar-error",color:"red"}),!e.cookie.old&&(0,a.createElement)(o.default,{tooltip:(0,c.__)("This cookie has recently been detected","complianz-gdpr"),name:"calendar",color:"green"})),details:s(e.cookie),style:(()=>{if(1==e.cookie.deleted)return Object.assign({},{backgroundColor:"var(--rsp-red-faded)"})})()}))}},34573:(e,l,t)=>{t.r(l),t.d(l,{default:()=>c});var a=t(69307),o=t(43684);const c=e=>(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{className:"cmplz-panel__list__item",key:e.id,style:e.style?e.style:{}},(0,a.createElement)("details",null,(0,a.createElement)("summary",null,(0,a.createElement)("div",{className:"cmplz-panel__list__item__title"},e.summary),(0,a.createElement)("div",{className:"cmplz-panel__list__item__comment"},e.comment),(0,a.createElement)("div",{className:"cmplz-panel__list__item__icons"},e.icons),(0,a.createElement)(o.default,{name:"chevron-down",size:18})),(0,a.createElement)("div",{className:"cmplz-panel__list__item__details"},e.details))))}}]);