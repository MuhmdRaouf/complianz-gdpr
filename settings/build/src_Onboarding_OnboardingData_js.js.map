{"version":3,"file":"src_Onboarding_OnboardingData_js.js","mappings":"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","sources":["webpack://complianz-gdpr/./src/Onboarding/OnboardingData.js"],"sourcesContent":["import {create} from 'zustand';\nimport {produce} from 'immer';\nimport { __ } from '@wordpress/i18n';\n\nimport * as cmplz_api from \"../utils/api\";\nconst useOnboardingData = create(( set, get ) => ({\n\tloaded:false,\n\tplugins: [\n\t\t{\n\t\t\t'slug' :'complianz-terms-conditions',\n\t\t\t'description':__(\"Need Terms & Conditions? Configure now.\",\"complianz-gdpr\"),\n\t\t\t'status': 'not-installed',\n\t\t\t'processing': false,\n\t\t},\n\t\t{\n\t\t\t'slug' :'burst-statistics',\n\t\t\t'description':__(\"Privacy-Friendly Analytics? Here you go!\",\"complianz-gdpr\"),\n\t\t\t'status': 'not-installed',\n\t\t\t'processing': false,\n\t\t},\n\t\t {\n\t\t\t'slug' :'really-simple-ssl',\n\t\t\t 'description':__(\"Really Simple Security? Install now!\",\"complianz-gdpr\"),\n\t\t\t 'status': 'not-installed',\n\t\t\t 'processing': false,\n\t\t },\n\t],\n\tisUpgrade:false,\n\tprocessing: true,\n\temail: '',\n\tincludeTips:false,\n\tsendTestEmail:true,\n\tactionStatus: '',\n\tmodalVisible:true,\n\tsetIncludeTips: (includeTips) => {\n\t\tset(state => ({ includeTips }))\n\t},\n\tsetSendTestEmail: (sendTestEmail) => {\n\t\tset(state => ({ sendTestEmail }))\n\t},\n\tsetEmail: (email) => {\n\t\tset(state => ({ email }))\n\t},\n\tdismissModal: () => {\n\t\tconst url = new URL(window.location.href);\n\t\turl.searchParams.delete('onboarding');\n\t\twindow.history.pushState({}, '', url.href);\n\t\tset(state => ({ modalVisible:false }))\n\n\t},\n\tsaveEmail: async () => {\n\t\tlet data={};\n\t\tdata.email = get().email;\n\t\tdata.includeTips = get().includeTips;\n\t\tdata.sendTestEmail = get().sendTestEmail;\n\t\tset((state) => ({processing:true}));\n\t\tawait cmplz_api.doAction('update_email', data).then(( response ) => {\n\t\t\treturn response;\n\t\t});\n\t\tset(() => ({processing:false}));\n\t},\n\tgetRecommendedPluginsStatus: async () => {\n\t\tconst data = {};\n\t\tdata.plugins = get().plugins;\n\t\tconst {plugins, isUpgrade} = await cmplz_api.doAction('get_recommended_plugins_status', data).then( async ( response ) => {\n\t\t\treturn response\n\t\t});\n\t\tset({processing:false, plugins: plugins, isUpgrade:isUpgrade,loaded:true});\n\t},\n\tsetProcessing: (slug, processing) => {\n\t\tset(\n\t\t\tproduce((state) => {\n\t\t\t\tconst pluginIndex = state.plugins.findIndex(plugin => {\n\t\t\t\t\treturn plugin.slug===slug;\n\t\t\t\t});\n\n\t\t\t\tif ( pluginIndex!==-1 ){\n\t\t\t\t\tstate.plugins[pluginIndex].processing = processing;\n\t\t\t\t}\n\t\t\t})\n\t\t)\n\t},\n\tpluginAction: async (slug, action) => {\n\t\tconst data = {};\n\t\tdata.slug = slug;\n\t\tdata.plugins = get().plugins;\n\t\tget().setProcessing(slug, true);\n\t\tconst {plugins} = await cmplz_api.doAction(action, data).then( async ( response ) => {\n\t\t\treturn response\n\t\t});\n\t\tset({plugins: plugins});\n\t},\n}));\n\n\nexport default useOnboardingData;\n"],"names":["create","produce","__","cmplz_api","useOnboardingData","set","get","loaded","plugins","isUpgrade","processing","email","includeTips","sendTestEmail","actionStatus","modalVisible","setIncludeTips","state","setSendTestEmail","setEmail","dismissModal","url","URL","window","location","href","searchParams","delete","history","pushState","saveEmail","data","doAction","then","response","getRecommendedPluginsStatus","setProcessing","slug","pluginIndex","findIndex","plugin","pluginAction","action"],"sourceRoot":""}