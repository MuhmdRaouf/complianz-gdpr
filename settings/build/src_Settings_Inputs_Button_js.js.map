{"version":3,"file":"src_Settings_Inputs_Button_js.js","mappings":"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","sources":["webpack://complianz-gdpr/./src/Settings/Inputs/Button.js","webpack://complianz-gdpr/./src/Settings/Inputs/Buttons.scss?eb9c"],"sourcesContent":["import './Buttons.scss'\nimport {memo, useState} from 'react';\nimport * as cmplz_api from '../../utils/api';\nimport useFields from '../Fields/FieldsData';\nimport useMenu from '../../Menu/MenuData';\nimport {\n\t__experimentalConfirmDialog as ConfirmDialog\n} from '@wordpress/components';\n// import AreYouSureModal from '../AreYouSureModal';\n\nconst Button = ({\n\ttype = 'action',\n\tstyle = 'tertiary',\n\tlabel,\n\tonClick,\n\thref = '',\n\ttarget = '',\n\tdisabled,\n\taction,\n\tfield,\n\tchildren\n}) =>\n{\n\tif ( !label && !children ) return null;\n\tconst buttonLabel = field && field.button_text ? field.button_text : label;\n\tconst content = buttonLabel ? buttonLabel : children;\n\tconst {fetchFieldsData, showSavedSettingsNotice} = useFields();\n\tconst {selectedSubMenuItem } = useMenu();\n\tconst [ isOpen, setIsOpen ] = useState( false );\n\tconst classes = `button cmplz-button button--${style} button-${type}`;\n\n\tconst clickHandler = async (e) => {\n\t\tif (type === 'action' && onClick) {\n\t\t\tonClick(e);\n\t\t\treturn;\n\t\t}\n\t\tif (type === 'action' && action) {\n\t\t\tif (field && field.warn) {\n\t\t\t\tsetIsOpen( true );\n\t\t\t} else {\n\t\t\t\tawait executeAction();\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\twindow.location.href=field.url;\n\t}\n\n\tconst handleConfirm = async () => {\n\t\tsetIsOpen( false );\n\t\tawait executeAction();\n\t};\n\n\tconst handleCancel = () => {\n\t\tsetIsOpen( false );\n\t};\n\n\tconst executeAction = async (e) => {\n\t\tlet data = {};\n\t\tawait cmplz_api.doAction(field.action, data).then((response) => {\n\t\t\tif (response.success) {\n\t\t\t\tfetchFieldsData(selectedSubMenuItem);\n\t\t\t\tshowSavedSettingsNotice(response.message);\n\t\t\t}\n\t\t});\n\t}\n\tconst warningText = field && field.warn ? field.warn : '';\n\tif ( type === 'action' ) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<ConfirmDialog\n\t\t\t\t\tisOpen={ isOpen }\n\t\t\t\t\tonConfirm={ handleConfirm }\n\t\t\t\t\tonCancel={ handleCancel }\n\t\t\t\t>\n\t\t\t\t\t{warningText}\n\t\t\t\t</ConfirmDialog>\n\t\t\t\t{/*Commented out because the below still needs css */}\n\t\t\t\t{/*<AreYouSureModal isOpen={isOpen} onConfirm={handleConfirm} onCancel={handleCancel} >*/}\n\t\t\t\t{/*\t{warningText}*/}\n\t\t\t\t{/*</AreYouSureModal>*/}\n\n\t\t\t\t<button\n\t\t\t\t\tclassName={classes}\n\t\t\t\t\tonClick={clickHandler}\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t>\n\t\t\t\t\t{content}\n\n\t\t\t\t</button>\n\t\t\t</>\n\n\n\t\t)\n\t}\n\tif (type === 'link') {\n\t\treturn (\n\t\t\t<a\n\t\t\t\tclassName={classes}\n\t\t\t\thref={href}\n\t\t\t\ttarget={target}\n\t\t\t\t>\n\t\t\t\t{content}\n\t\t\t</a>\n\t\t)\n\t}\n}\n\nexport default memo(Button);\n","// extracted by mini-css-extract-plugin\nexport {};"],"names":["memo","useState","cmplz_api","useFields","useMenu","__experimentalConfirmDialog","ConfirmDialog","Button","_ref","type","style","label","onClick","href","target","disabled","action","field","children","buttonLabel","button_text","content","fetchFieldsData","showSavedSettingsNotice","selectedSubMenuItem","isOpen","setIsOpen","classes","clickHandler","e","warn","executeAction","window","location","url","handleConfirm","handleCancel","data","doAction","then","response","success","message","warningText","createElement","Fragment","onConfirm","onCancel","className"],"sourceRoot":""}