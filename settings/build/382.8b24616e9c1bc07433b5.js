"use strict";(self.webpackChunkcomplianz_gdpr=self.webpackChunkcomplianz_gdpr||[]).push([[382,2175,881],{32175:function(e,t,n){n.r(t),n.d(t,{UseCookieScanData:function(){return o}});var r=n(30270),a=n(48399);const o=(0,r.Ue)(((e,t)=>({initialLoadCompleted:!1,setInitialLoadCompleted:t=>e({initialLoadCompleted:t}),iframeLoaded:!1,loading:!1,nextPage:!1,progress:0,cookies:[],lastLoadedIframe:"",setIframeLoaded:t=>e({iframeLoaded:t}),setLastLoadedIframe:t=>e((e=>({lastLoadedIframe:t}))),setProgress:t=>e({progress:t}),fetchProgress:()=>(e({loading:!0}),a.doAction("get_scan_progress",{}).then((t=>(e({initialLoadCompleted:!0,loading:!1,nextPage:t.next_page,progress:t.progress,cookies:t.cookies}),t))))})))},80881:function(e,t,n){n.r(t);var r=n(69307),a=n(99196),o=n(48399),c=n(56293),s=n(82485),i=n(55609),l=n(32175),u=n(82387);t.default=(0,a.memo)((e=>{let{type:t="action",style:n="tertiary",label:d,onClick:m,href:f="",target:p="",disabled:b,action:h,field:k,children:g}=e;if(!d&&!g)return null;const v=(k&&k.button_text?k.button_text:d)||g,{fetchFieldsData:E,showSavedSettingsNotice:y}=(0,c.default)(),{setInitialLoadCompleted:_,setProgress:N}=(0,l.UseCookieScanData)(),{setProgressLoaded:C}=(0,u.default)(),{selectedSubMenuItem:L}=(0,s.default)(),[w,x]=(0,a.useState)(!1),I=`button cmplz-button button--${n} button-${t}`,O=async e=>{await o.doAction(k.action,{}).then((e=>{e.success&&(E(L),"reset_settings"===e.id&&(_(!1),N(0),C(!1)),y(e.message))}))},A=k&&k.warn?k.warn:"";return"action"===t?(0,r.createElement)(r.Fragment,null,(0,r.createElement)(i.__experimentalConfirmDialog,{isOpen:w,onConfirm:async()=>{x(!1),await O()},onCancel:()=>{x(!1)}},A),(0,r.createElement)("button",{className:I,onClick:async e=>{"action"===t&&m?m(e):"action"===t&&h?k&&k.warn?x(!0):await O():window.location.href=k.url},disabled:b},v)):"link"===t?(0,r.createElement)("a",{className:I,href:f,target:p},v):void 0}))},382:function(e,t,n){n.r(t),n.d(t,{default:function(){return I}});var r=n(69307),a=n(87462),o=n(99196),c=n(28771),s=n(25360),i=n(36206),l=n(77342),u=n(57898),d=n(7546),m=n(29115),f=n(75320);const p="Checkbox",[b,h]=(0,s.b)(p),[k,g]=b(p),v=(0,o.forwardRef)(((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:u,required:d,disabled:m,value:p="on",onCheckedChange:b,...h}=e,[g,v]=(0,o.useState)(null),N=(0,c.e)(t,(e=>v(e))),C=(0,o.useRef)(!1),L=!g||Boolean(g.closest("form")),[w=!1,x]=(0,l.T)({prop:s,defaultProp:u,onChange:b}),I=(0,o.useRef)(w);return(0,o.useEffect)((()=>{const e=null==g?void 0:g.form;if(e){const t=()=>x(I.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}}),[g,x]),(0,o.createElement)(k,{scope:n,state:w,disabled:m},(0,o.createElement)(f.WV.button,(0,a.Z)({type:"button",role:"checkbox","aria-checked":y(w)?"mixed":w,"aria-required":d,"data-state":_(w),"data-disabled":m?"":void 0,disabled:m,value:p},h,{ref:N,onKeyDown:(0,i.M)(e.onKeyDown,(e=>{"Enter"===e.key&&e.preventDefault()})),onClick:(0,i.M)(e.onClick,(e=>{x((e=>!!y(e)||!e)),L&&(C.current=e.isPropagationStopped(),C.current||e.stopPropagation())}))})),L&&(0,o.createElement)(E,{control:g,bubbles:!C.current,name:r,value:p,checked:w,required:d,disabled:m,style:{transform:"translateX(-100%)"}}))})),E=e=>{const{control:t,checked:n,bubbles:r=!0,...c}=e,s=(0,o.useRef)(null),i=(0,u.D)(n),l=(0,d.t)(t);return(0,o.useEffect)((()=>{const e=s.current,t=window.HTMLInputElement.prototype,a=Object.getOwnPropertyDescriptor(t,"checked").set;if(i!==n&&a){const t=new Event("click",{bubbles:r});e.indeterminate=y(n),a.call(e,!y(n)&&n),e.dispatchEvent(t)}}),[i,n,r]),(0,o.createElement)("input",(0,a.Z)({type:"checkbox","aria-hidden":!0,defaultChecked:!y(n)&&n},c,{tabIndex:-1,ref:s,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function y(e){return"indeterminate"===e}function _(e){return y(e)?"indeterminate":e?"checked":"unchecked"}const N=v,C=(0,o.forwardRef)(((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...c}=e,s=g("CheckboxIndicator",n);return(0,o.createElement)(m.z,{present:r||y(s.state)||!0===s.state},(0,o.createElement)(f.WV.span,(0,a.Z)({"data-state":_(s.state),"data-disabled":s.disabled?"":void 0},c,{ref:t,style:{pointerEvents:"none",...e.style}})))}));var L=n(65736),w=n(23361),x=n(80881),I=(0,o.memo)((e=>{let{indeterminate:t,label:n,value:a,id:c,onChange:s,required:i,disabled:l,options:u={}}=e;const[d,m]=(0,o.useState)(!1);let f=a;Array.isArray(f)||(f=""===f?[]:[f]),(0,o.useEffect)((()=>{let e=1===Object.keys(u).length&&"true"===Object.keys(u)[0];m(e)}),[]),t&&(a=!0);const p=f,[b,h]=(0,o.useState)(!1);let k=!1;Object.keys(u).length>10&&(k=!0);const g=e=>d?a:p.includes(e),v=()=>{h(!b)};let E=l&&!Array.isArray(l);return 0===u.length?(0,r.createElement)(r.Fragment,null,(0,L.__)("No options found","complianz-gdpr")):(0,r.createElement)("div",{className:"cmplz-checkbox-group"},Object.entries(u).map(((e,o)=>{let[u,m]=e;return(0,r.createElement)("div",{key:u,className:"cmplz-checkbox-group__item"+(!b&&o>10?" cmplz-hidden":"")},(0,r.createElement)(N,{className:"cmplz-checkbox-group__checkbox",id:c+"_"+u,checked:g(u),"aria-label":n,disabled:E||Array.isArray(l)&&l.includes(u),required:i,onCheckedChange:e=>((e,t)=>{if(d)s(!a);else{const e=p.includes(t)?p.filter((e=>e!==t)):[...p,t];s(e)}})(0,u)},(0,r.createElement)(C,{className:"cmplz-checkbox-group__indicator"},(0,r.createElement)(w.default,{name:t?"indeterminate":"check",size:14,color:"dark-blue"}))),(0,r.createElement)("label",{className:"cmplz-checkbox-group__label",htmlFor:c+"_"+u},m))})),!b&&k&&(0,r.createElement)(x.default,{onClick:v},(0,L.__)("Show more","complianz-gdpr")),b&&k&&(0,r.createElement)(x.default,{onClick:v},(0,L.__)("Show less","complianz-gdpr")))}))},29115:function(e,t,n){n.d(t,{z:function(){return s}});var r=n(99196),a=n(91850),o=n(28771),c=n(9981);const s=e=>{const{present:t,children:n}=e,s=function(e){const[t,n]=(0,r.useState)(),o=(0,r.useRef)({}),s=(0,r.useRef)(e),l=(0,r.useRef)("none"),u=e?"mounted":"unmounted",[d,m]=function(e,t){return(0,r.useReducer)(((e,n)=>{const r=t[e][n];return null!=r?r:e}),e)}(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return(0,r.useEffect)((()=>{const e=i(o.current);l.current="mounted"===d?e:"none"}),[d]),(0,c.b)((()=>{const t=o.current,n=s.current;if(n!==e){const r=l.current,a=i(t);e?m("MOUNT"):"none"===a||"none"===(null==t?void 0:t.display)?m("UNMOUNT"):m(n&&r!==a?"ANIMATION_OUT":"UNMOUNT"),s.current=e}}),[e,m]),(0,c.b)((()=>{if(t){const e=e=>{const n=i(o.current).includes(e.animationName);e.target===t&&n&&(0,a.flushSync)((()=>m("ANIMATION_END")))},n=e=>{e.target===t&&(l.current=i(o.current))};return t.addEventListener("animationstart",n),t.addEventListener("animationcancel",e),t.addEventListener("animationend",e),()=>{t.removeEventListener("animationstart",n),t.removeEventListener("animationcancel",e),t.removeEventListener("animationend",e)}}m("ANIMATION_END")}),[t,m]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:(0,r.useCallback)((e=>{e&&(o.current=getComputedStyle(e)),n(e)}),[])}}(t),l="function"==typeof n?n({present:s.isPresent}):r.Children.only(n),u=(0,o.e)(s.ref,l.ref);return"function"==typeof n||s.isPresent?(0,r.cloneElement)(l,{ref:u}):null};function i(e){return(null==e?void 0:e.animationName)||"none"}s.displayName="Presence"},57898:function(e,t,n){n.d(t,{D:function(){return a}});var r=n(99196);function a(e){const t=(0,r.useRef)({value:e,previous:e});return(0,r.useMemo)((()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous)),[e])}}}]);