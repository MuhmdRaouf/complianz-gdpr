"use strict";(globalThis.webpackChunkcomplianz_gdpr=globalThis.webpackChunkcomplianz_gdpr||[]).push([[5596,5343,2588,5294,3863,5671,4783,5364,4573,849],{75343:(e,t,l)=>{l.r(t),l.d(t,{default:()=>r});var a=l(69307),c=l(99196),n=l(74981);l(61549),l(42270),l(82679);const r=(0,c.memo)((e=>{let t=e.mode?e.mode:"css",l=e.height?e.height:"200px",r=e.field&&e.field.default?e.field.default:e.placeholder;const[s,i]=(0,c.useState)(e.value);console.log(e),(0,c.useEffect)((()=>{const t=setTimeout((()=>{e.onChange(s)}),500);return()=>{clearTimeout(t)}}),[s]);let d=e.disabled?"cmplz-editor-disabled":"";return(0,a.createElement)("div",{className:d},(0,a.createElement)(n.ZP,{readOnly:e.disabled,placeholder:r,mode:t,theme:"monokai",width:"100%",height:l,onChange:e=>(e=>{i(e)})(e),fontSize:14,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:s,setOptions:{enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,enableSnippets:!1,showLineNumbers:!0,tabSize:2,useWorker:!1}}))}))},41629:(e,t,l)=>{l.r(t),l.d(t,{default:()=>n});var a=l(69307),c=l(64693);const n=(0,l(99196).memo)((e=>{let{label:t,id:l,value:n,onChange:r,required:s,defaultValue:i,disabled:d,options:o={}}=e;return(0,a.createElement)(c.fC,{disabled:d&&!Array.isArray(d),className:"cmplz-input-group cmplz-radio-group",value:n,"aria-label":t,onValueChange:r,required:s,default:i},Object.entries(o).map((e=>{let[t,n]=e;return(0,a.createElement)("div",{key:t,className:"cmplz-radio-group__item"},(0,a.createElement)(c.ck,{disabled:Array.isArray(d)&&d.includes(t),value:t,id:l+"_"+t},(0,a.createElement)(c.z$,{className:"cmplz-radio-group__indicator"})),(0,a.createElement)("label",{className:"cmplz-radio-label",htmlFor:l+"_"+t},n))})))}))},32588:(e,t,l)=>{l.r(t),l.d(t,{default:()=>i});var a=l(69307),c=l(99196),n=l(61592),r=l(43684),s=l(65736);const i=(0,c.memo)((e=>{let{value:t=!1,onChange:l,required:c,defaultValue:i,disabled:d,options:o={},innerRef:p}=e;return(0,a.createElement)("div",{className:"cmplz-input-group cmplz-select-group"},(0,a.createElement)(n.fC,{value:t,defaultValue:i,onValueChange:l,required:c,disabled:d&&!Array.isArray(d)},(0,a.createElement)(n.xz,{className:"cmplz-select-group__trigger"},(0,a.createElement)(n.B4,null),(0,a.createElement)(r.default,{name:"chevron-down"})),(0,a.createElement)(n.VY,{className:"cmplz-select-group__content",position:"popper"},(0,a.createElement)(n.u_,{className:"cmplz-select-group__scroll-button"},(0,a.createElement)(r.default,{name:"chevron-up"})),(0,a.createElement)(n.l_,{className:"cmplz-select-group__viewport"},(0,a.createElement)(n.ZA,null,(0,a.createElement)(n.ck,{className:"cmplz-select-group__item",key:0,value:""},(0,a.createElement)(n.eT,null,(0,s.__)("Select an option","complianz-gdpr"))),Object.entries(o).map((e=>{let[t,l]=e;return(0,a.createElement)(n.ck,{disabled:Array.isArray(d)&&d.includes(t),className:"cmplz-select-group__item",key:t,value:t},(0,a.createElement)(n.eT,null,l))})))),(0,a.createElement)(n.$G,{className:"cmplz-select-group__scroll-button"},(0,a.createElement)(r.default,{name:"chevron-down"})))))}))},64884:(e,t,l)=>{l.r(t),l.d(t,{default:()=>k});var a=l(69307),c=l(99196),n=l(87462),r=l(76652),s=l(17255),i=l(32707),d=l(39920),o=l(67571),p=l(42935),m=l(40192);const u="Switch",[h,g]=(0,i.b)(u),[_,b]=h(u),f=(0,c.forwardRef)(((e,t)=>{const{__scopeSwitch:l,name:a,checked:i,defaultChecked:o,required:p,disabled:u,value:h="on",onCheckedChange:g,...b}=e,[f,z]=(0,c.useState)(null),y=(0,s.e)(t,(e=>z(e))),k=(0,c.useRef)(!1),w=!f||Boolean(f.closest("form")),[N=!1,C]=(0,d.T)({prop:i,defaultProp:o,onChange:g});return(0,c.createElement)(_,{scope:l,checked:N,disabled:u},(0,c.createElement)(m.WV.button,(0,n.Z)({type:"button",role:"switch","aria-checked":N,"aria-required":p,"data-state":v(N),"data-disabled":u?"":void 0,disabled:u,value:h},b,{ref:y,onClick:(0,r.M)(e.onClick,(e=>{C((e=>!e)),w&&(k.current=e.isPropagationStopped(),k.current||e.stopPropagation())}))})),w&&(0,c.createElement)(E,{control:f,bubbles:!k.current,name:a,value:h,checked:N,required:p,disabled:u,style:{transform:"translateX(-100%)"}}))})),E=e=>{const{control:t,checked:l,bubbles:a=!0,...r}=e,s=(0,c.useRef)(null),i=(0,o.D)(l),d=(0,p.t)(t);return(0,c.useEffect)((()=>{const e=s.current,t=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(t,"checked").set;if(i!==l&&c){const t=new Event("click",{bubbles:a});c.call(e,l),e.dispatchEvent(t)}}),[i,l,a]),(0,c.createElement)("input",(0,n.Z)({type:"checkbox","aria-hidden":!0,defaultChecked:l},r,{tabIndex:-1,ref:s,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function v(e){return e?"checked":"unchecked"}const z=f,y=(0,c.forwardRef)(((e,t)=>{const{__scopeSwitch:l,...a}=e,r=b("SwitchThumb",l);return(0,c.createElement)(m.WV.span,(0,n.Z)({"data-state":v(r.checked),"data-disabled":r.disabled?"":void 0},a,{ref:t}))})),k=(0,c.memo)((e=>{let{value:t,onChange:l,required:c,disabled:n}=e,r=t;return"0"!==t&&"1"!==t||(r="1"===t),(0,a.createElement)(z,{className:"cmplz-switch-root",checked:r,onCheckedChange:l,disabled:n,required:c},(0,a.createElement)(y,{className:"cmplz-switch-thumb"}))}))},65294:(e,t,l)=>{l.r(t),l.d(t,{default:()=>n});var a=l(69307),c=l(99196);const n=(0,c.memo)((e=>{let{value:t,onChange:l,required:n,defaultValue:r,disabled:s,id:i,name:d,placeholder:o}=e;const p=i||d,[m,u]=(0,c.useState)("");return(0,c.useEffect)((()=>{u(t||"")}),[t]),(0,c.useEffect)((()=>{const e=setTimeout((()=>{l(m)}),500);return()=>{clearTimeout(e)}}),[m]),(0,a.createElement)("div",{className:"cmplz-input-group cmplz-text-input-group"},(0,a.createElement)("input",{type:"text",id:p,name:d,value:m,onChange:e=>(e=>{u(e)})(e.target.value),required:n,disabled:s,className:"cmplz-text-input-group__input",placeholder:o}))}))},17347:(e,t,l)=>{l.r(t),l.d(t,{default:()=>s});var a=l(69307),c=l(41629),n=l(65736),r=l(85671);const s=e=>{const{setScript:t,fetching:l}=(0,r.default)(),s=e.script,i={statistics:(0,n.__)("Statistics","complianz-gdpr"),marketing:(0,n.__)("Marketing","complianz-gdpr")};return(0,a.createElement)(a.Fragment,null,(0,a.createElement)("label",null,(0,n.__)("Category","complianz-gdpr")),(0,a.createElement)(c.default,{disabled:l,label:(0,n.__)("Marketing","complianz-gdpr"),id:"category",value:s.category,onChange:l=>((l,a)=>{let c={...s};c.category=l,t(c,e.type)})(l),defaultValue:"marketing",options:i}))}},13863:(e,t,l)=>{l.r(t),l.d(t,{default:()=>i});var a=l(69307),c=l(65736),n=l(64884),r=l(32588),s=l(85671);const i=e=>{const{setScript:t,blockedScripts:l,fetching:i}=(0,s.default)(),d=l,o=e.script,p=e=>{if(!o.dependency||0===o.dependency.length)return"";let t=Object.entries(o.dependency);for(const[l,a]of t)if(l===e)return a;return""},m=(e,t)=>{let l={...e};for(const[e,a]of Object.entries(l))if(a===t){delete l[e];break}return l};let u=Object.entries(o.urls);return(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{className:"cmplz-details-row cmplz-details-row__checkbox"},(0,a.createElement)(n.default,{disabled:i,value:o.enable_dependency,onChange:l=>((l,a)=>{let c={...o};c.enable_dependency=l,t(c,e.type)})(l)}),(0,a.createElement)("label",null,(0,c.__)("Dependency","complianz-gdpr"))),!!o.enable_dependency&&(0,a.createElement)("div",{className:"cmplz-details-row cmplz-details-row"},u.map(((l,n)=>{let[s,u]=l;return(0,a.createElement)("div",{key:n,className:"cmplz-scriptcenter-dependencies"},(0,a.createElement)(r.default,{disabled:i,value:p(u),options:m(d,u),onChange:l=>((l,a)=>{let c={...o},n={...c.dependency};n[a]=l,c.dependency=n,t(c,e.type)})(l,u)}),(0,a.createElement)("div",null,(0,c.__)("waits for: ","complianz-gdpr"),u||(0,c.__)("Empty URL","complianz-gdpr")))}))))}},85671:(e,t,l)=>{l.r(t),l.d(t,{default:()=>r});var a=l(30270),c=l(12902),n=l(48399);const r=(0,a.Ue)(((e,t)=>({integrationsLoaded:!1,fetching:!1,services:[],plugins:[],scripts:[],placeholders:[],blockedScripts:[],setScript:(t,l)=>{e((0,c.ZP)((e=>{if("block_script"===l){let l=e.blockedScripts;if(t.urls){for(const[e,a]of Object.entries(t.urls)){if(!a||0===a.length)continue;let e=!1;for(const[t,c]of Object.entries(l))a===t&&(e=!0);e||(l[a]=a)}e.blockedScripts=l}}const a=e.scripts[l].findIndex((e=>e.id===t.id));-1!==a&&(e.scripts[l][a]=t)})))},fetchIntegrationsData:async()=>{if(t().fetching)return;e({fetching:!0});const{services:l,plugins:a,scripts:c,placeholders:n,blocked_scripts:r}=await s();let i=c;i.block_script.forEach(((e,t)=>{e.id=t})),i.add_script.forEach(((e,t)=>{e.id=t})),i.whitelist_script.forEach(((e,t)=>{e.id=t})),e((()=>({integrationsLoaded:!0,services:l,plugins:a,scripts:i,fetching:!1,placeholders:n,blockedScripts:r})))},addScript:l=>{e({fetching:!0}),e((0,c.ZP)((e=>{e.scripts[l].push({name:"general",id:e.scripts[l].length,enable:!0})})));let a=t().scripts;return n.doAction("update_scripts",{scripts:a}).then((t=>(e({fetching:!1}),t))).catch((e=>{console.error(e)}))},saveScript:(l,a)=>{e({fetching:!0}),e((0,c.ZP)((e=>{const t=e.scripts[a].findIndex((e=>e.id===l.id));-1!==t&&(e.scripts[a][t]=l)})));let r=t().scripts;return n.doAction("update_scripts",{scripts:r}).then((t=>(e({fetching:!1}),t))).catch((e=>{console.error(e)}))},deleteScript:(l,a)=>{e({fetching:!0}),e((0,c.ZP)((e=>{const t=e.scripts[a].findIndex((e=>e.id===l.id));-1!==t&&e.scripts[a].splice(t,1)})));let r=t().scripts;return n.doAction("update_scripts",{scripts:r}).then((t=>(e({fetching:!1}),t))).catch((e=>{console.error(e)}))},updatePluginStatus:async(t,l)=>(e((0,c.ZP)((e=>{const a=e.plugins.findIndex((e=>e.id===t));-1!==a&&(e.plugins[a].enabled=l)}))),n.doAction("update_plugin_status",{plugin:t,enabled:l}).then((e=>e)).catch((e=>{console.error(e)}))),updatePlaceholderStatus:async(t,l,a)=>(a&&e((0,c.ZP)((e=>{const a=e.plugins.findIndex((e=>e.id===t));-1!==a&&(e.plugins[a].placeholder=l?"enabled":"disabled")}))),n.doAction("update_placeholder_status",{id:t,enabled:l}).then((e=>e)).catch((e=>{console.error(e)})))}))),s=()=>n.doAction("get_integrations_data",{}).then((e=>e)).catch((e=>{console.error(e)}))},44783:(e,t,l)=>{l.r(t),l.d(t,{default:()=>o});var a=l(69307),c=l(64884),n=l(60849),r=l(65294),s=l(32588),i=l(65736),d=l(85671);const o=e=>{const{setScript:t,fetching:l,placeholders:o}=(0,d.default)(),p=e.script,m=e.type,u=(l,a)=>{let c={...p};c[a]=l,t(c,e.type)};return(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{className:"cmplz-details-row cmplz-details-row__checkbox"},(0,a.createElement)(c.default,{disabled:l,value:p.enable_placeholder,onChange:e=>u(e,"enable_placeholder")}),(0,a.createElement)("label",null,(0,i.__)("Placeholder","complianz-gdpr"))),!!p.enable_placeholder&&(0,a.createElement)(a.Fragment,null,"block_script"===m&&(0,a.createElement)("div",{className:"cmplz-details-row cmplz-details-row__checkbox"},(0,a.createElement)(c.default,{disabled:l,value:p.iframe||"",onChange:e=>u(e||"","iframe")}),(0,a.createElement)("label",null,(0,i.__)("The blocked content is an iframe","complianz-gdpr"))),!p.iframe&&(0,a.createElement)("div",{className:"cmplz-details-row cmplz-details-row"},(0,a.createElement)(a.Fragment,null,(0,i.__)("Enter the div class or ID that should be targeted.","complianz-gdpr"),(0,n.default)("https://complianz.io/integrating-plugins/#placeholder/")),(0,a.createElement)(r.default,{disabled:l,value:p.placeholder_class||"",onChange:e=>u(e||"","placeholder_class"),name:"placeholder_class",placeholder:(0,i.__)("Your CSS class","complianz-gdpr")})),(0,a.createElement)("div",{className:"cmplz-details-row cmplz-details-row__checkbox"},(0,a.createElement)(s.default,{disabled:l,value:p.placeholder?p.placeholder:"default",options:o,onChange:e=>u(e||"default","placeholder")}))))}},15596:(e,t,l)=>{l.r(t),l.d(t,{default:()=>h});var a=l(69307),c=l(34573),n=l(65736),r=l(85671),s=l(75343),i=l(64884),d=l(99196),o=l(17347),p=l(44783),m=l(13863),u=l(25364);const h=(0,d.memo)((e=>{const{setScript:t,saveScript:l,deleteScript:d}=(0,r.default)(),h=e.script,g=(a,c)=>{let n={...h};n[c]=a,t(n,e.type),l(n,e.type)},_=(l,a)=>{let c={...h};c[a]=l,t(c,e.type)},b=()=>{l(h,e.type)},f=()=>{d(h,e.type)};return h?(0,a.createElement)(a.Fragment,null,(0,a.createElement)(c.default,{summary:h.name,icons:(e=>(0,a.createElement)(a.Fragment,null,(0,a.createElement)("input",{onChange:e=>g(e.target.checked,"enable"),type:"checkbox",checked:e.enable})))(h),details:((e,t)=>{const{fetching:l}=(0,r.default)();return(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{className:"cmplz-details-row"},(0,a.createElement)("label",null,(0,n.__)("Name","complianz-gdpr")),(0,a.createElement)("input",{disabled:l,onChange:e=>_(e.target.value,"name"),type:"text",placeholder:(0,n.__)("Name","complianz-gdpr"),value:e.name})),"add_script"===t&&(0,a.createElement)("div",{className:"cmplz-details-row"},(0,a.createElement)(s.default,{disabled:l,onChange:e=>(e=>{_(e,"editor")})(e),placeholder:"console.log('marketing enabled')",value:e.editor})),("block_script"===t||"whitelist_script"===t)&&(0,a.createElement)(u.default,{script:e,type:t}),"whitelist_script"!==t&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{className:"cmplz-details-row cmplz-details-row__checkbox"},(0,a.createElement)(i.default,{disabled:l,value:e.async,onChange:e=>_(e,"async")}),(0,a.createElement)("label",null,(0,n.__)("This script contains an async attribute.","complianz-gdpr"))),(0,a.createElement)("div",{className:"cmplz-details-row"},(0,a.createElement)(o.default,{script:e,type:t})),(0,a.createElement)(p.default,{script:e,type:t})),"block_script"===t&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)(m.default,{script:e,type:t})),(0,a.createElement)("div",{className:"cmplz-details-row cmplz-details-row__buttons"},(0,a.createElement)("button",{disabled:l,onClick:e=>b(),className:"button button-default"},(0,n.__)("Save","complianz-gdpr")),(0,a.createElement)("button",{disabled:l,className:"button button-default cmplz-reset-button",onClick:e=>f()},(0,n.__)("Delete","complianz-gdpr"))))})(h,e.type)})):(0,a.createElement)(c.default,{summary:"..."})}))},25364:(e,t,l)=>{l.r(t),l.d(t,{default:()=>d});var a=l(69307),c=l(65736),n=l(60849),r=l(65294),s=l(43684),i=l(85671);const d=e=>{const{setScript:t,fetching:l}=(0,i.default)(),d=e.script,o=e.type;let p=Object.entries(d.urls);return(0,a.createElement)("div",{className:"cmplz-details-row"},(0,a.createElement)("label",null,"block_script"===o&&(0,c.__)("URLs that should be blocked before consent.","complianz-gdpr"),"whitelist_script"===o&&(0,a.createElement)(a.Fragment,null,(0,c.__)("URLs that should be whitelisted.","complianz-gdpr"),(0,n.default)("https://complianz.io/whitelisting-inline-script/"))),p.map(((c,n)=>{let[i,o]=c;return(0,a.createElement)("div",{key:n,className:"cmplz-scriptcenter-url"},(0,a.createElement)(r.default,{disabled:l,value:o||"",onChange:l=>((l,a)=>{let c={...d},n={...c.urls};n[l]=a,c.urls=n,t(c,e.type)})(i,l),id:n+"_url",name:"url"}),0===n&&(0,a.createElement)("button",{className:"button button-default",onClick:()=>(()=>{let l={...d},a=Object.keys(l.urls).length,c={...l.urls};c[a+1]="",l.urls=c,t(l,e.type)})()}," ",(0,a.createElement)(s.default,{name:"plus",size:14})),0!==n&&(0,a.createElement)("button",{className:"button button-default",onClick:()=>(l=>{let a={...d},c={...a.urls};delete c[l],a.urls=c,t(a,e.type)})(i)}," ",(0,a.createElement)(s.default,{name:"minus",size:14})))})))}},34573:(e,t,l)=>{l.r(t),l.d(t,{default:()=>n});var a=l(69307),c=l(43684);const n=e=>(0,a.createElement)("div",{className:"cmplz-panel__list__item",key:e.id,style:e.style?e.style:{}},(0,a.createElement)("details",null,(0,a.createElement)("summary",null,(0,a.createElement)("div",{className:"cmplz-panel__list__item__title"},e.summary),(0,a.createElement)("div",{className:"cmplz-panel__list__item__comment"},e.comment),(0,a.createElement)("div",{className:"cmplz-panel__list__item__icons"},e.icons),(0,a.createElement)(c.default,{name:"chevron-down",size:18})),(0,a.createElement)("div",{className:"cmplz-panel__list__item__details"},e.details)))},60849:(e,t,l)=>{l.r(t),l.d(t,{default:()=>r});var a=l(69307),c=l(65736),n=l(99950);const r=e=>(0,a.createElement)(a.Fragment,null," ",(0,a.createElement)(n.default,{url:e,text:(0,c.__)("For more information, please read this %sarticle%s.","complianz-gdpr")})," ")}}]);