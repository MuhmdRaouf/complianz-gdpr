"use strict";(globalThis.webpackChunkcomplianz_gdpr=globalThis.webpackChunkcomplianz_gdpr||[]).push([[6717],{6717:(e,t,a)=>{a.r(t),a.d(t,{default:()=>z});var n=a(69307),l=a(99196),r=a(57098),d=a(30286),s=a(23855),o=a(69119),u=a(83894),c=a(77349),D=a(43703),i=a(11640),f=a(4135),m=a(38148),y=a(21593),g=a(10876),p=a(3151),w=a(49546),h=a(43684),b=a(65736),_=a(18667);const z=e=>{const[t,a]=(0,l.useState)(null),z=Boolean(t),M=(0,_.useDate)((e=>e.startDate)),E=(0,_.useDate)((e=>e.endDate)),k=(0,_.useDate)((e=>e.setStartDate)),v=(0,_.useDate)((e=>e.setEndDate)),C=(0,_.useDate)((e=>e.range)),S=(0,_.useDate)((e=>e.setRange)),Z={startDate:(0,s.Z)(M),endDate:(0,s.Z)(E),key:"selection"},L=(0,l.useRef)(0),O=["today","yesterday","last-7-days","last-30-days","last-90-days","last-month","last-year","year-to-date"],R={today:{label:(0,b.__)("Today","complianz-gdpr"),range:()=>({startDate:(0,o.default)(new Date),endDate:(0,u.default)(new Date)})},yesterday:{label:(0,b.__)("Yesterday","complianz-gdpr"),range:()=>({startDate:(0,o.default)((0,c.default)(new Date,-1)),endDate:(0,u.default)((0,c.default)(new Date,-1))})},"last-7-days":{label:(0,b.__)("Last 7 days","complianz-gdpr"),range:()=>({startDate:(0,o.default)((0,c.default)(new Date,-7)),endDate:(0,u.default)((0,c.default)(new Date,-1))})},"last-30-days":{label:(0,b.__)("Last 30 days","complianz-gdpr"),range:()=>({startDate:(0,o.default)((0,c.default)(new Date,-30)),endDate:(0,u.default)((0,c.default)(new Date,-1))})},"last-90-days":{label:(0,b.__)("Last 90 days","complianz-gdpr"),range:()=>({startDate:(0,o.default)((0,c.default)(new Date,-90)),endDate:(0,u.default)((0,c.default)(new Date,-1))})},"last-month":{label:(0,b.__)("Last month","complianz-gdpr"),range:()=>({startDate:(0,D.default)((0,i.default)(new Date,-1)),endDate:(0,f.default)((0,i.default)(new Date,-1))})},"year-to-date":{label:(0,b.__)("Year to date","complianz-gdpr"),range:()=>({startDate:(0,m.Z)(new Date),endDate:(0,u.default)(new Date)})},"last-year":{label:(0,b.__)("Last year","complianz-gdpr"),range:()=>({startDate:(0,m.Z)((0,y.default)(new Date,-1)),endDate:(0,g.Z)((0,y.default)(new Date,-1))})}};function T(e){const t=this.range();return(0,p.default)(e.startDate,t.startDate)&&(0,p.default)(e.endDate,t.endDate)}const j=[];for(const[e,t]of Object.entries(O))t&&(j.push(R[t]),j[j.length-1].isSelected=T);const F=e=>{a(null)},N="MMMM d, yyyy",P=M?(0,w.default)(new Date(M),N):(0,w.default)(defaultStart,N),Y=E?(0,w.default)(new Date(E),N):(0,w.default)(defaultEnd,N);return(0,n.createElement)("div",{className:"cmplz-date-range-container"},(0,n.createElement)("button",{onClick:e=>{a(e.currentTarget)},id:"cmplz-date-range-picker-open-button"},(0,n.createElement)(h.default,{name:"calendar",size:"18"}),"custom"===C&&P+" - "+Y,"custom"!==C&&R[C].label,(0,n.createElement)(h.default,{name:"chevron-down"})),(0,n.createElement)(r.ZP,{anchorEl:t,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:z,onClose:F,className:"burst"},(0,n.createElement)("div",{id:"cmplz-date-range-picker-container"},(0,n.createElement)(d.Dw,{ranges:[Z],rangeColors:["var(--rsp-brand-primary)"],dateDisplayFormat:N,monthDisplayFormat:"MMMM",onChange:e=>{(e=>{L.current++;let t=(0,w.default)(e.selection.startDate,"yyyy-MM-dd"),a=(0,w.default)(e.selection.endDate,"yyyy-MM-dd"),n="custom";for(const[t,a]of Object.entries(R))a.isSelected(e.selection)&&(n=t);e.selection.startDate,e.selection.endDate,2!==L.current&&t===a&&"custom"===n||(L.current=0,k(t),v(a),S(n),F())})(e)},inputRanges:[],showSelectionPreview:!0,months:2,direction:"horizontal",minDate:new Date(2022,0,1),maxDate:new Date,staticRanges:j}))))}}}]);