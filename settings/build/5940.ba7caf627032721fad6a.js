"use strict";(self.webpackChunkcomplianz_gdpr=self.webpackChunkcomplianz_gdpr||[]).push([[5940,3667],{75940:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var a=n(69307),o=n(55609),l=n(56293),c=n(20384),i=n(65736),r=n(43667);const p=(0,n(99196).memo)((function(){const{removeHelpNotice:e,addHelpNotice:t,showSavedSettingsNotice:n}=(0,l.default)(),[p,s]=(0,a.useState)(!1),[m,d]=(0,a.useState)(!0),[u,g]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{p&&("application/json"!==p.type?(d(!0),t("import_settings","warning",(0,i.__)("You can only upload .json files","complianz-gdpr"),(0,i.__)("Incorrect extension","complianz-gdpr"),!1)):(d(!1),e("import_settings")))}),[p]),(0,a.createElement)("div",{className:"cmplz-import-form"},(0,a.createElement)("div",{className:"cmplz-import-button-container"},p&&p.name,(0,a.createElement)(o.FormFileUpload,{accept:"",icon:(0,a.createElement)(c.default,{name:"upload",color:"black"}),onChange:e=>s(e.currentTarget.files[0])},(0,i.__)("Select file","complianz-gdpr")),(0,a.createElement)("button",{disabled:m,className:"button button-default",onClick:e=>(d(!0),g(!0),void(0,r.upload)("import_settings",p).then((e=>(e.data.success?n((0,i.__)("Settings imported","complianz-gdpr")):t("import_settings","warning",(0,i.__)("You can only upload .json files","complianz-gdpr"),(0,i.__)("Incorrect extension","complianz-gdpr"),!1),g(!1),s(!1),!0))).catch((e=>{console.error(e)})))},(0,i.__)("Import","complianz-gdpr"),u&&(0,a.createElement)(c.default,{name:"loading",color:"grey"}))))}))},43667:(e,t,n)=>{n.r(t),n.d(t,{upload:()=>l});var a=n(9669),o=n.n(a);const l=(e,t,n)=>{let a=new FormData;return a.append("data",t),void 0!==n&&a.append("details",JSON.stringify(n)),o().post(cmplz_settings.admin_url+"?page=complianz&cmplz_upload_file=1&action="+e,a,{headers:{"Content-Type":"multipart/form-data","X-WP-Nonce":cmplz_settings.nonce}})}}}]);