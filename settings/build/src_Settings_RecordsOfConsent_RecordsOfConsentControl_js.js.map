{"version":3,"file":"src_Settings_RecordsOfConsent_RecordsOfConsentControl_js.js","mappings":"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","sources":["webpack://complianz-gdpr/./src/Settings/RecordsOfConsent/RecordsOfConsentControl.js","webpack://complianz-gdpr/./src/Settings/RecordsOfConsent/useRecordsOfConsentData.js"],"sourcesContent":["import {useState, useEffect} from \"@wordpress/element\";\nimport { __ } from '@wordpress/i18n';\nimport useRecordsOfConsentData from \"./useRecordsOfConsentData\";\nimport {memo} from \"react\";\nconst RecordsOfConsentControl = () => {\n\tconst paginationPerPage = 10;\n\tconst [ searchValue, setSearchValue ] = useState( '' );\n\tconst [ pagination, setPagination] = useState({});\n\tconst [ indeterminate, setIndeterminate] = useState(false);\n\tconst [ entirePageSelected, setEntirePageSelected ] = useState( false );\n\tconst handlePageChange = (page) => {\n\t\tsetPagination({ ...pagination, currentPage: page });\n\t};\n\tconst { records, downloadUrl, deleteRecords, recordsLoaded, fetchData} = useRecordsOfConsentData();\n\tconst [ btnDisabled, setBtnDisabled ] = useState( '' );\n\tconst [ selectedRecords, setSelectedRecords ] = useState( [] );\n\tconst disabled = !cmplz_settings.is_premium;\n\tconst [DataTable, setDataTable] = useState(null);\n\tuseEffect( () => {\n\t\timport('react-data-table-component').then(({ default: DataTable }) => {\n\t\t\tsetDataTable(() => DataTable);\n\t\t});\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (!recordsLoaded && cmplz_settings.is_premium) fetchData();\n\t}, [recordsLoaded])\n\n\tconst customStyles = {\n\t\theadCells: {\n\t\t\tstyle: {\n\t\t\t\tpaddingLeft: '0',\n\t\t\t\tpaddingRight: '0',\n\t\t\t},\n\t\t},\n\t\tcells: {\n\t\t\tstyle: {\n\t\t\t\tpaddingLeft: '0',\n\t\t\t\tpaddingRight: '0',\n\t\t\t},\n\t\t},\n\t};\n\n\tconst onDeleteRecords  = async (ids) => {\n\t\tsetSelectedRecords([]);\n\t\tawait deleteRecords(ids);\n\t}\n\n\tconst downloadRecords = async () => {\n\t\tlet selectedRecordsCopy = records.filter((record) => {return selectedRecords.includes(record.id) && record.poc_url!== '' });\n\t\tsetSelectedRecords([]);\n\t\tconst downloadNext = async () => {\n\t\t\tif (selectedRecordsCopy.length > 0) {\n\t\t\t\tconst record = selectedRecordsCopy.shift();\n\t\t\t\tconst url = downloadUrl + '/' + record.poc_url;;\n\t\t\t\tsetBtnDisabled(true);\n\t\t\t\ttry {\n\t\t\t\t\tlet request = new XMLHttpRequest();\n\t\t\t\t\trequest.responseType = 'blob';\n\t\t\t\t\trequest.open('get', url, true);\n\t\t\t\t\trequest.send();\n\t\t\t\t\trequest.onreadystatechange = function() {\n\t\t\t\t\t\tif (this.readyState === 4 && this.status === 200) {\n\t\t\t\t\t\t\tlet obj = window.URL.createObjectURL(this.response);\n\t\t\t\t\t\t\tlet element = window.document.createElement('a');\n\t\t\t\t\t\t\telement.setAttribute('href',obj);\n\t\t\t\t\t\t\telement.setAttribute('download', record.filename);\n\t\t\t\t\t\t\twindow.document.body.appendChild(element);\n\t\t\t\t\t\t\t//onClick property\n\t\t\t\t\t\t\telement.click();\n\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\twindow.URL.revokeObjectURL(obj);\n\t\t\t\t\t\t\t}, 60 * 1000);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\tawait downloadNext();\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error(error);\n\t\t\t\t\tsetBtnDisabled(false);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tawait downloadNext();\n\t\tsetBtnDisabled(false);\n\t};\n\n\tconst handleSelectEntirePage = (e) => {\n\t\tlet selected = e.target.checked;\n\t\tif ( selected ) {\n\t\t\tsetEntirePageSelected(true);\n\t\t\t//add all records on this page to the selectedRecords array\n\t\t\tlet currentPage = pagination.currentPage ? pagination.currentPage : 1;\n\t\t\tlet filtered = handleFiltering(records);\n\t\t\tlet recordsOnPage = filtered.slice((currentPage-1) * paginationPerPage, currentPage * paginationPerPage);\n\t\t\tsetSelectedRecords(recordsOnPage.map(record => record.id));\n\t\t} else {\n\t\t\tsetEntirePageSelected(false);\n\t\t\tsetSelectedRecords([]);\n\t\t}\n\t\tsetIndeterminate(false);\n\t}\n\n\tconst onSelectRecord = (e, id) => {\n\t\tlet selected = e.target.checked;\n\t\tlet docs = [...selectedRecords];\n\t\tif (selected) {\n\t\t\tif ( !docs.includes(id) ){\n\t\t\t\tdocs.push(id);\n\t\t\t\tsetSelectedRecords(docs);\n\t\t\t}\n\t\t} else {\n\t\t\t//remove the record from the selected records\n\t\t\tdocs = [...selectedRecords.filter(recordId => recordId!==id)];\n\t\t\tsetSelectedRecords(docs);\n\t\t}\n\t\t//check if all records on this page are selected\n\t\tlet currentPage = pagination.currentPage ? pagination.currentPage : 1;\n\t\tlet filtered = handleFiltering(records);\n\t\tlet recordsOnPage = filtered.slice((currentPage-1) * paginationPerPage, currentPage * paginationPerPage);\n\t\tlet allSelected = true;\n\t\tlet hasOneSelected = false;\n\t\trecordsOnPage.forEach(record => {\n\t\t\tif ( !docs.includes(record.id) ) {\n\t\t\t\tallSelected = false;\n\t\t\t} else {\n\t\t\t\thasOneSelected = true;\n\t\t\t}\n\t\t});\n\n\t\tif (allSelected) {\n\t\t\tsetEntirePageSelected(true);\n\t\t\tsetIndeterminate(false);\n\t\t} else if (!hasOneSelected) {\n\t\t\tsetIndeterminate(false);\n\t\t} else {\n\t\t\tsetEntirePageSelected(false);\n\t\t\tsetIndeterminate(true);\n\t\t}\n\t}\n\n\tconst consentLabels = {\n\t\t'optin': __('Opt-in', 'complianz-gdpr'),\n\t\t'optout': __('Opt-out', 'complianz-gdpr'),\n\t\t'other': __('Other', 'complianz-gdpr'),\n\t}\n\n\tconst handleFiltering = (records) => {\n\t\t// //sort the plugins alphabetically by filename\n\t\trecords = records.sort((a, b) => {\n\t\t\tif (a.file < b.file) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tif (a.file > b.file) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\treturn 0;\n\t\t});\n\n\t\t//filter the plugins by search value\n\t\trecords = records.filter(document => {\n\t\t\treturn document.ip.toLowerCase().includes(searchValue.toLowerCase()) || document.services.toLowerCase().includes(searchValue.toLowerCase()) || document.id.toLowerCase().includes(searchValue.toLowerCase());\n\t\t})\n\t\treturn records;\n\t}\n\n\tconst getCategories = (row) => {\n\t\tlet availableCategories = {\n\t\t\tdo_not_track: __(\"DNT/GPC\", \"complianz-gdpr\"),\n\t\t\tno_choice: __(\"No Choice\", \"complianz-gdpr\"),\n\t\t\tno_warning: __(\"No Warning\", \"complianz-gdpr\"),\n\t\t\tfunctional: __(\"Functional\", \"complianz-gdpr\"),\n\t\t\tpreferences: __(\"Preferences\", \"complianz-gdpr\"),\n\t\t\tstatistics: __(\"Statistics\", \"complianz-gdpr\"),\n\t\t\tmarketing: __(\"Marketing\", \"complianz-gdpr\")\n\t\t}\n\t\tlet categories = [];\n\t\t//for each availableCategories item, check if  row.category is set to true\n\t\tObject.keys(availableCategories).forEach(category => {\n\t\t\tif (parseInt(row[category]) === 1) {\n\t\t\t\tcategories.push(availableCategories[category]);\n\t\t\t}\n\t\t});\n\t\treturn categories.join(', ');\n\t}\n\n\tconst columns = [\n\t\t{\n\t\t\tname: <input type=\"checkbox\" className={indeterminate? 'indeterminate' : ''} checked={entirePageSelected} onChange={(e) => handleSelectEntirePage(e)} />,\n\t\t\tselector: row => row.selectControl,\n\t\t},\n\t\t{\n\t\t\tname: __('User ID',\"complianz-gdpr\"),\n\t\t\tselector: row => row.id,\n\t\t\tsortable: true,\n\t\t},\n\t\t{\n\t\t\tname: __('IP Adress',\"complianz-gdpr\"),\n\t\t\tselector: row => row.ip,\n\t\t\tsortable: true,\n\t\t},\n\t\t{\n\t\t\tname: __('Region',\"complianz-gdpr\"),\n\t\t\tselector: row => row.region!=='' ? <img alt=\"region\" width=\"20px\" height=\"20px\" src={cmplz_settings.plugin_url+'assets/images/'+row.region+'.svg'} /> : '',\n\t\t\tsortable: true,\n\t\t},\n\t\t{\n\t\t\tname: __('Services',\"complianz-gdpr\"),\n\t\t\tselector: row => row.services,\n\t\t\tsortable: true,\n\t\t},\n\t\t{\n\t\t\tname: __('Consent',\"complianz-gdpr\"),\n\t\t\tselector: row => row.consenttype ? consentLabels[row.consenttype] : '',\n\t\t\tsortable: true,\n\t\t},\n\t\t{\n\t\t\tname: __('Categories',\"complianz-gdpr\"),\n\t\t\tselector: row => getCategories(row),\n\t\t\tsortable: true,\n\t\t},\n\t\t{\n\t\t\tname: __('Date',\"complianz-gdpr\"),\n\t\t\tselector: row => row.time,\n\t\t\tsortable: true,\n\t\t},\n\t];\n\tlet filteredRecords = [...records];\n\tfilteredRecords = handleFiltering(filteredRecords);\n\n\t//add the controls to the plugins\n\tlet data = [];\n\tfilteredRecords.forEach(record => {\n\t\tlet recordCopy = {...record}\n\t\trecordCopy.selectControl = <input type=\"checkbox\" checked={selectedRecords.includes(recordCopy.id)} onChange={(e) => onSelectRecord(e,recordCopy.id )} />\n\t\tdata.push(recordCopy);\n\t});\n\treturn (\n\t\t<>\n\t\t\t{ (disabled) && <>\n\t\t\t\t<div className=\"cmplz-settings-overlay\">\n\t\t\t\t\t<div className=\"cmplz-settings-overlay-message\"></div>\n\t\t\t\t</div>\n\t\t\t</>}\n\t\t\t<div className=\"cmplz-table-header\">\n\t\t\t\t<div className=\"cmplz-table-header-controls\">\n\t\t\t\t\t<input className=\"cmplz-datatable-search\" type=\"text\" placeholder={__(\"Search\", \"complianz-gdpr\")} value={searchValue} onChange={ ( e ) => setSearchValue(e.target.value) } />\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{\n\t\t\t\tselectedRecords.length>0 &&\n\t\t\t\t<div className=\"cmplz-selected-document\">\n\t\t\t\t\t{selectedRecords.length>1 && __(\"%s items selected\", \"complianz-gdpr\").replace(\"%s\", selectedRecords.length)}\n\t\t\t\t\t{selectedRecords.length===1 && __(\"1 item selected\", \"complianz-gdpr\")}\n\t\t\t\t\t<div className=\"cmplz-selected-document-controls\">\n\t\t\t\t\t\t{records.filter((record) => {return selectedRecords.includes(record.id) && record.poc_url!== '' }).length>0 && <button disabled={btnDisabled} className=\"button button-default cmplz-btn-reset\" onClick={() => downloadRecords()}>{__(\"Download Proof of Consent\", \"complianz-gdpr\")}</button> }\n\t\t\t\t\t\t<button className=\"button button-default cmplz-reset-button\" onClick={() => onDeleteRecords(selectedRecords)}>{__(\"Delete\", \"complianz-gdpr\")}</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t}\n\t\t\t{!disabled && DataTable && <>\n\t\t\t\t<DataTable\n\t\t\t\t\tcolumns={columns}\n\t\t\t\t\tdata={data}\n\t\t\t\t\tdense\n\t\t\t\t\tpagination\n\t\t\t\t\tnoDataComponent={<div className=\"cmplz-no-documents\">{__(\"No records\", \"really-simple-ssl\")}</div>}\n\t\t\t\t\tpersistTableHead\n\t\t\t\t\ttheme=\"really-simple-plugins\"\n\t\t\t\t\tcustomStyles={customStyles}\n\t\t\t\t\tpaginationPerPage={paginationPerPage}\n\t\t\t\t\tonChangePage={handlePageChange}\n\t\t\t\t\tpaginationState={pagination}\n\t\t\t\t/></>\n\t\t\t}\n\t\t</>\n\t)\n}\nexport default memo(RecordsOfConsentControl);\n","import {create} from 'zustand';\nimport * as cmplz_api from \"../../utils/api\";\nconst useRecordsOfConsentData = create(( set, get ) => ({\n\trecordsLoaded: false,\n\tfetching:false,\n\tgenerating:false,\n\tprogress:false,\n\trecords: [],\n\texportLink: '',\n\tdownloadUrl: '',\n\tregions: [],\n\tfields: [],\n\tnoData:false,\n\tdeleteRecords: async (ids) => {\n\t\t//get array of records to delete\n\t\tlet deleteRecords = get().records.filter(record => ids.includes(record.id));\n\t\t//remove the ids from the records array\n\t\tset((state) => ({\n\t\t\trecords: state.records.filter(record => !ids.includes(record.id)),\n\t\t}));\n\t\tlet data = {};\n\t\tdata.records = deleteRecords;\n\t\tawait cmplz_api.doAction('delete_records_of_consent', data).then((response) => {\n\t\t\treturn response;\n\t\t}).catch((error) => {\n\t\t\tconsole.error(error);\n\t\t});\n\t},\n\tfetchData: async ( ) => {\n\t\tif (get().fetching) return;\n\t\tset({fetching:true});\n\t\tlet data = {}\n\t\tconst { records, regions, download_url} = await cmplz_api.doAction('get_records_of_consent', data).then((response) => {\n\t\t\treturn response;\n\t\t}).catch((error) => {\n\t\t\tconsole.error(error);\n\t\t});\n\t\tset(() => ({\n\t\t\trecordsLoaded: true,\n\t\t\trecords: records,\n\t\t\tregions: regions,\n\t\t\tdownloadUrl: download_url,\n\t\t\tfetching:false,\n\t\t}));\n\t},\n\tstartExport: async () => {\n\t\tset({\n\t\t\tgenerating: true,\n\t\t\tprogress:0,\n\t\t\texportLink: '',\n\t\t})\n\t},\n\tfetchExportRecordsOfConsentProgress: async (statusOnly, startDate, endDate) => {\n\t\tstatusOnly = typeof statusOnly !== 'undefined' ? statusOnly : false;\n\t\tif (!statusOnly) {\n\t\t\tset({ generating:true });\n\t\t}\n\n\t\tlet data = {};\n\t\tdata.startDate = startDate;\n\t\tdata.endDate = endDate;\n\t\tdata.statusOnly = statusOnly;\n\t\tconst {progress, exportLink, noData} = await cmplz_api.doAction('export_records_of_consent', data).then((response) => {\n\t\t\treturn response;\n\t\t}).catch((error) => {\n\t\t\tconsole.error(error);\n\t\t});\n\t\tlet generating = false;\n\t\tif (progress<100 ){\n\t\t\tgenerating = true;\n\t\t}\n\t\tset({progress:progress, exportLink:exportLink, generating:generating,noData:noData});\n\n\t},\n}));\n\nexport default useRecordsOfConsentData;\n"],"names":["useState","useEffect","__","useRecordsOfConsentData","memo","RecordsOfConsentControl","paginationPerPage","searchValue","setSearchValue","pagination","setPagination","indeterminate","setIndeterminate","entirePageSelected","setEntirePageSelected","handlePageChange","page","currentPage","records","downloadUrl","deleteRecords","recordsLoaded","fetchData","btnDisabled","setBtnDisabled","selectedRecords","setSelectedRecords","disabled","cmplz_settings","is_premium","DataTable","setDataTable","then","_ref","default","customStyles","headCells","style","paddingLeft","paddingRight","cells","onDeleteRecords","ids","downloadRecords","selectedRecordsCopy","filter","record","includes","id","poc_url","downloadNext","length","shift","url","request","XMLHttpRequest","responseType","open","send","onreadystatechange","readyState","status","obj","window","URL","createObjectURL","response","element","document","createElement","setAttribute","filename","body","appendChild","click","setTimeout","revokeObjectURL","error","console","handleSelectEntirePage","e","selected","target","checked","filtered","handleFiltering","recordsOnPage","slice","map","onSelectRecord","docs","push","recordId","allSelected","hasOneSelected","forEach","consentLabels","sort","a","b","file","ip","toLowerCase","services","getCategories","row","availableCategories","do_not_track","no_choice","no_warning","functional","preferences","statistics","marketing","categories","Object","keys","category","parseInt","join","columns","name","type","className","onChange","selector","selectControl","sortable","region","alt","width","height","src","plugin_url","consenttype","time","filteredRecords","data","recordCopy","Fragment","placeholder","value","replace","onClick","dense","noDataComponent","persistTableHead","theme","onChangePage","paginationState","create","cmplz_api","set","get","fetching","generating","progress","exportLink","regions","fields","noData","state","doAction","catch","download_url","startExport","fetchExportRecordsOfConsentProgress","statusOnly","startDate","endDate"],"sourceRoot":""}