{"version":3,"file":"src_Tour_Tour_js.js","mappings":"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","sources":["webpack://complianz-gdpr/./src/Settings/License/LicenseData.js","webpack://complianz-gdpr/./src/Tour/Tour.js"],"sourcesContent":["import {create} from 'zustand';\nimport * as cmplz_api from \"../../utils/api\";\nconst UseLicenseData = create(( set, get ) => ({\n    licenseStatus: cmplz_settings.licenseStatus,\n\tprocessing:false,\n\tlicenseNotices: [],\n\tnoticesLoaded: false,\n\tgetLicenseNotices: async () => {\n\t\tconst {licenseStatus, notices} = await cmplz_api.doAction('license_notices', {}).then( ( response ) => {\n\t\t\treturn response;\n\t\t});\n\t\tset(state => ({ noticesLoaded:true,licenseNotices:notices, licenseStatus:licenseStatus}));\n\t},\n\tactivateLicense: async (license) => {\n\t\tlet data = {};\n\t\tdata.license = license;\n\t\tset({processing:true})\n\t\tconst {licenseStatus, notices} = await cmplz_api.doAction('activate_license', data);\n\t\tset(state => ({processing:false,licenseNotices:notices, licenseStatus:licenseStatus}));\n\t},\n\tdeactivateLicense: async () => {\n\t\tset({processing:true})\n\t\tconst {licenseStatus, notices} = await cmplz_api.doAction('deactivate_license');\n\t\tset(state => ({processing:false,licenseNotices:notices, licenseStatus:licenseStatus}));\n\t}\n\n}));\n\nexport default UseLicenseData;\n\n","import { useContext, useEffect, useState } from 'react';\nimport { __ } from '@wordpress/i18n';\nimport useLicense from \"../Settings/License/LicenseData\";\nimport useFields from \"../Settings/Fields/FieldsData\";\n\nconst onTourEnd = () => {\n\t//remove 'tour' query variable from url\n\tconst url = new URL(window.location.href);\n\turl.searchParams.delete('tour');\n\twindow.history.pushState({}, '', url.href);\n}\n\nconst tourOptions = {\n\tdefaultStepOptions: {\n\t\tcancelIcon: {\n\t\t\tenabled: true\n\t\t},\n\t\tkeyboardNavigation: false\n\t},\n\tuseModalOverlay: false,\n\tmargin: 15,\n};\n\nconst TourInstance = ({ShepherdTourContext}) => {\n\tconst tour = useContext(ShepherdTourContext);\n\ttour.on(\"cancel\", onTourEnd);\n\tuseEffect(() => {\n\t\tif (tour) tour.start();\n\t}, [tour]);\n\n\treturn <></>;\n}\n\nconst newSteps = [\n\t{\n\t\ttitle: __('Welcome to Complianz', 'complianz-gdpr'),\n\t\ttext: '<p>' +  __('Get ready for privacy legislation around the world. Follow a quick tour or start configuring the plugin!', 'complianz-gdpr') + '</p>',\n\t\tclasses: 'cmplz-shepherd',\n\t\tbuttons: [\n\t\t\t{\n\t\t\t\ttype: 'cancel',\n\t\t\t\tclasses: 'button button-default',\n\t\t\t\ttext: __('Configure', 'complianz-gdpr'),\n\t\t\t\taction () {\n\t\t\t\t\tconst url = new URL(window.location.href);\n\t\t\t\t\turl.searchParams.delete('tour');\n\t\t\t\t\twindow.location.hash = 'wizard';\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tclasses: 'button button-primary',\n\t\t\t\ttext: __('Start tour', 'complianz-gdpr'),\n\t\t\t\taction () {\n\t\t\t\t\twindow.location.hash = cmplz_settings.is_premium ? 'settings/license' : 'dashboard';\n\t\t\t\t\treturn this.next()\n\t\t\t\t},\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\ttitle: __( 'Dashboard', 'complianz-gdpr' ),\n\t\ttext: '<p>' + __( 'This is your Dashboard. When the Wizard is completed, this will give you an overview of tasks, tools, and documentation.', 'complianz-gdpr' ) + '</p>',\n\t\tclasses: 'cmplz-shepherd',\n\t\tbuttons: [\n\t\t\t{\n\t\t\t\tclasses: 'button button-default',\n\t\t\t\ttext: __('Previous', 'complianz-gdpr'),\n\t\t\t\taction () {\n\t\t\t\t\twindow.location.hash = cmplz_settings.is_premium ? 'settings/license' : 'dashboard';\n\t\t\t\t\treturn this.back()\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tclasses: 'button button-primary',\n\t\t\t\ttext: __('Next', 'complianz-gdpr'),\n\t\t\t\taction () {\n\t\t\t\t\twindow.location.hash = 'wizard/consent';\n\t\t\t\t\treturn this.next()\n\t\t\t\t},\n\t\t\t}\n\t\t],\n\t},\n\t{\n\t\ttitle: __( 'The Wizard', 'complianz-gdpr' ),\n\t\ttext: '<p>' +  __( 'This is where everything regarding cookies is configured. We will come back to the Wizard soon.', 'complianz-gdpr' ) + '</p>',\n\t\tclasses: 'cmplz-shepherd',\n\t\tbuttons: [\n\t\t\t{\n\t\t\t\tclasses: 'button button-default',\n\t\t\t\ttext: __('Previous', 'complianz-gdpr'),\n\t\t\t\taction () {\n\t\t\t\t\twindow.location.hash = 'dashboard';\n\t\t\t\t\treturn this.back()\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tclasses: 'button button-primary',\n\t\t\t\ttext: __('Next', 'complianz-gdpr'),\n\t\t\t\taction () {\n\t\t\t\t\twindow.location.hash = 'banner';\n\t\t\t\t\treturn this.next()\n\t\t\t\t},\n\t\t\t}\n\t\t],\n\t\t// attachTo: { element: '.cmplz-cookie-scan', on: 'auto' },\n\t},\n\t{\n\t\ttitle: __( 'Cookie Banner', 'complianz-gdpr' ),\n\t\ttext: '<p>' + __( 'Here you can configure and style your cookie banner if the Wizard is completed. An extra tab will be added with region-specific settings.', 'complianz-gdpr' ) + '</p>',\n\t\tclasses: 'cmplz-shepherd',\n\t\tbuttons: [\n\t\t\t{\n\t\t\t\tclasses: 'button button-default',\n\t\t\t\ttext: __('Previous', 'complianz-gdpr'),\n\t\t\t\taction () {\n\t\t\t\t\twindow.location.hash = 'wizard/consent';\n\t\t\t\t\treturn this.back()\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tclasses: 'button button-primary',\n\t\t\t\ttext: __('Next', 'complianz-gdpr'),\n\t\t\t\taction () {\n\t\t\t\t\twindow.location.hash = 'integrations';\n\t\t\t\t\treturn this.next()\n\t\t\t\t},\n\t\t\t}\n\t\t],\n\t},\n\t{\n\t\ttitle: __( 'Integrations', 'complianz-gdpr' ),\n\t\ttext: '<p>' + __( 'Based on your answers in the Wizard, we will automatically enable integrations with relevant services and plugins. In case you want to block extra scripts, you can add them to the Script Center.', 'complianz-gdpr' ) + '</p>',\n\t\tclasses: 'cmplz-shepherd',\n\t\tbuttons: [\n\t\t\t{\n\t\t\t\tclasses: 'button button-default',\n\t\t\t\ttext: __('Previous', 'complianz-gdpr'),\n\t\t\t\taction () {\n\t\t\t\t\twindow.location.hash = 'banner';\n\t\t\t\t\treturn this.back()\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tclasses: 'button button-primary',\n\t\t\t\ttext: __('Next', 'complianz-gdpr'),\n\t\t\t\taction () {\n\t\t\t\t\twindow.location.hash = 'tools/proof-of-consent';\n\t\t\t\t\treturn this.next()\n\t\t\t\t},\n\t\t\t}\n\t\t],\n\t},\n\t{\n\t\ttitle: __( 'Proof of Consent', 'complianz-gdpr' ),\n\t\ttext: '<p>' + __( \"Complianz tracks changes in your Cookie Notice and Cookie Policy with time-stamped documents. This is your consent registration while respecting the data minimization guidelines and won't store any user data.\", 'complianz-gdpr' ) + '</p>',\n\t\tclasses: 'cmplz-shepherd',\n\t\tbuttons: [\n\t\t\t{\n\t\t\t\tclasses: 'button button-default',\n\t\t\t\ttext: __('Previous', 'complianz-gdpr'),\n\t\t\t\taction () {\n\t\t\t\t\twindow.location.hash = 'integrations';\n\t\t\t\t\treturn this.back()\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tclasses: 'button button-primary',\n\t\t\t\ttext: __('Next', 'complianz-gdpr'),\n\t\t\t\taction () {\n\t\t\t\t\twindow.location.hash = 'wizard/visitors';\n\t\t\t\t\treturn this.next()\n\t\t\t\t},\n\t\t\t}\n\t\t],\n\t\t// attachTo: { element: '.cmplz-field-button', on: 'auto' },\n\t},\n\t{\n\t\ttitle: __( \"Let's start the Wizard\", 'complianz-gdpr' ),\n\t\ttext: '<p>' + __( 'You are ready to start the Wizard. For more information, FAQ, and support, please visit Complianz.io.', 'complianz-gdpr' ) + '</p>',\n\t\tclasses: 'cmplz-shepherd',\n\t\tbuttons: [\n\t\t\t{\n\t\t\t\tclasses: 'button button-default',\n\t\t\t\ttext: __('Previous', 'complianz-gdpr'),\n\t\t\t\taction () {\n\t\t\t\t\twindow.location.hash = 'tools/proof-of-consent';\n\t\t\t\t\treturn this.back()\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'cancel',\n\t\t\t\tclasses: 'button button-primary',\n\t\t\t\ttext: __('End tour', 'complianz-gdpr'),\n\t\t\t},\n\t\t]\n\t},\n];\n\nconst Tour = () => {\n\tconst {licenseStatus} = useLicense();\n\tconst [ShepherdTour, setShepherdTour] = useState(null);\n\tconst [ShepherdTourContext, setShepherdTourContext] = useState(null);\n\tconst {fieldsLoaded} = useFields();\n\n\n\tuseEffect( () => {\n\t\tif (!fieldsLoaded) return;\n\n\t\t//import ShepherdTour and ShepherdTourContext from 'react-shepherd' and set them to the state with setShepherdTour and setShepherdTourContext\n\t\timport('react-shepherd').then( ( { ShepherdTour, ShepherdTourContext } ) => {\n\t\t\tsetShepherdTour( () => ShepherdTour );\n\t\t\tsetShepherdTourContext(() => ShepherdTourContext);\n\t\t});\n\n\t\tif ( cmplz_settings.is_premium ) {\n\t\t\tlet licenseText;\n\t\t\tif ( licenseStatus === 'valid' ) {\n\t\t\t\tlicenseText = __( \"Great, your license is activated and valid!\", 'complianz-gdpr' );\n\t\t\t} else {\n\t\t\t\tlicenseText = __( \"To unlock the wizard and future updates, please enter and activate your license.\", 'complianz-gdpr' );\n\t\t\t}\n\t\t\tconst additionalStep = {\n\t\t\t\ttitle: __('Activate your license', 'complianz-gdpr'),\n\t\t\t\ttext: '<p>' +  licenseText + '</p>',\n\t\t\t\tclasses: 'cmplz-shepherd',\n\t\t\t\tbuttons: [\n\t\t\t\t\t{\n\t\t\t\t\t\tclasses: 'button button-default',\n\t\t\t\t\t\ttext: __('Previous', 'complianz-gdpr'),\n\t\t\t\t\t\taction () {\n\t\t\t\t\t\t\twindow.location.hash = 'dashboard';\n\t\t\t\t\t\t\treturn this.back()\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tclasses: 'button button-primary',\n\t\t\t\t\t\ttext: __('Next', 'complianz-gdpr'),\n\t\t\t\t\t\taction () {\n\t\t\t\t\t\t\twindow.location.hash = 'dashboard';\n\t\t\t\t\t\t\treturn this.next()\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\t// attachTo: { element: '.cmplz-license', on: 'auto' },\n\t\t\t};\n\t\t\t//insert additionalStep after the first step\n\t\t\tnewSteps.splice(1, 0, additionalStep);\n\t\t}\n\n\t},[fieldsLoaded] );\n\n\n\tif ( !ShepherdTour || !ShepherdTourContext ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\n\t\t<ShepherdTour steps={newSteps} tourOptions={tourOptions} >\n\t\t\t<TourInstance ShepherdTourContext={ShepherdTourContext}/>\n\t\t</ShepherdTour>\n\t);\n}\n\nexport default Tour;\n"],"names":["create","cmplz_api","UseLicenseData","set","get","licenseStatus","cmplz_settings","processing","licenseNotices","noticesLoaded","getLicenseNotices","notices","doAction","then","response","state","activateLicense","license","data","deactivateLicense","useContext","useEffect","useState","__","useLicense","useFields","onTourEnd","url","URL","window","location","href","searchParams","delete","history","pushState","tourOptions","defaultStepOptions","cancelIcon","enabled","keyboardNavigation","useModalOverlay","margin","TourInstance","_ref","ShepherdTourContext","tour","on","start","createElement","Fragment","newSteps","title","text","classes","buttons","type","action","hash","is_premium","next","back","Tour","ShepherdTour","setShepherdTour","setShepherdTourContext","fieldsLoaded","_ref2","licenseText","additionalStep","splice","steps"],"sourceRoot":""}