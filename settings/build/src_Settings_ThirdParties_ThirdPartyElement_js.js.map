{"version":3,"file":"src_Settings_ThirdParties_ThirdPartyElement_js.js","mappings":"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","sources":["webpack://complianz-gdpr/./src/Settings/Panel.js","webpack://complianz-gdpr/./src/Settings/ThirdParties/ThirdPartyElement.js"],"sourcesContent":["import Icon from \"../utils/Icon\";\nconst Panel = (props) => {\n\treturn (\n\t\t<>\n\t\t  <div className=\"cmplz-panel__list__item\" key={props.id} style={props.style ? props.style : {}}>\n\t\t\t<details>\n\t\t\t  <summary>\n\t\t\t  \t<div className=\"cmplz-panel__list__item__title\">{props.summary}</div>\n\t\t\t    <div className=\"cmplz-panel__list__item__comment\">{props.comment}</div>\n\t\t\t    <div className=\"cmplz-panel__list__item__icons\">{props.icons}</div>\n\t\t\t\t<Icon name={'chevron-down'} size={18} />\n\t\t\t  </summary>\n\t\t\t  <div className=\"cmplz-panel__list__item__details\">\n\t\t\t  \t{props.details}\n\t\t\t  </div>\n\t\t\t</details>\n\t\t  </div>\n\t\t</>\n\n\t);\n}\n\nexport default Panel\n","import Panel from \"./../Panel\";\nimport useFields from \"../../Settings/Fields/FieldsData\";\nimport {memo} from \"react\";\nimport { __ } from '@wordpress/i18n';\nimport useMenu from \"../../Menu/MenuData\";\n\nconst ThirdPartyElement = (props) => {\n\tconst {updateField, setChangedField} = useFields();\n\tconst {selectedMainMenuItem} = useMenu();\n\n\tconst onChangeHandler = (e, id) => {\n\t\tlet thirdParties = [...props.field.value];\n\t\tif ( !Array.isArray(thirdParties) ) {\n\t\t\tthirdParties = [];\n\t\t}\n\n\t\t//update thirdParty with index props.index\n\t\tlet currentThirdParty = {...thirdParties[props.index]};\n\t\tcurrentThirdParty[id] = e.target.value;\n\t\tthirdParties[props.index] = currentThirdParty;\n\t\tupdateField(props.field.id, thirdParties);\n\t\tsetChangedField(props.field.id, thirdParties);\n\t}\n\n\tconst onDeleteHandler = async (e) => {\n\t\tlet thirdParties = props.field.value;\n\t\tif ( !Array.isArray(thirdParties) ) {\n\t\t\tthirdParties = [];\n\t\t}\n\n\t\t//remove thirdParty by props.index\n\t\tlet thirdPartiesCopy = [...thirdParties];\n\n\t\tif ( thirdPartiesCopy.hasOwnProperty(props.index) ) {\n\t\t\tthirdPartiesCopy.splice(props.index, 1);\n\t\t}\n\t\tupdateField(props.field.id, thirdPartiesCopy);\n\t\tsetChangedField(props.field.id, thirdPartiesCopy);\n\n\t\tawait saveFields( selectedMainMenuItem, false, false );\n\t}\n\n\tconst Details = (thirdParty) => {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div className=\"cmplz-details-row\">\n\t\t\t\t\t<label>{__(\"Name\", \"complianz-gdpr\")}</label>\n\t\t\t\t\t<input onChange={ ( e ) => onChangeHandler(e, 'name') } type=\"text\" placeholder={__(\"Name\", \"complianz-gdpr\")} value={thirdParty.name} />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"cmplz-details-row\">\n\t\t\t\t\t<label>{__(\"Country\", \"complianz-gdpr\")}</label>\n\t\t\t\t\t<input onChange={ ( e ) => onChangeHandler(e, 'country') } type=\"text\" placeholder={__(\"Country\", \"complianz-gdpr\")}  value={thirdParty.country} />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"cmplz-details-row\">\n\t\t\t\t\t<label>{__(\"Purpose\", \"complianz-gdpr\")}</label>\n\t\t\t\t\t<input onChange={ ( e ) => onChangeHandler(e, 'purpose') } type=\"text\" placeholder={__(\"Purpose\", \"complianz-gdpr\")}  value={thirdParty.purpose} />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"cmplz-details-row\">\n\t\t\t\t\t<label>{__(\"Data\", \"complianz-gdpr\")}</label>\n\t\t\t\t\t<input onChange={ ( e ) => onChangeHandler(e, 'data') } type=\"text\" placeholder={__(\"Data\", \"complianz-gdpr\")}  value={thirdParty.data} />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"cmplz-details-row__buttons\">\n\t\t\t\t\t<button className=\"button button-default cmplz-reset-button\" onClick={ ( e ) => onDeleteHandler(e) }>{__(\"Delete\", \"complianz-gdpr\")}</button>\n\t\t\t\t</div>\n\t\t\t</>\n\t\t);\n\t}\n\n\t//ensure defaults\n\tlet thirdParty = {...props.thirdParty};\n\tif (!thirdParty.name) thirdParty.name = '';\n\tif (!thirdParty.purpose) thirdParty.purpose = '';\n\tif (!thirdParty.country) thirdParty.country = '';\n\tif (!thirdParty.data) thirdParty.data = '';\n\treturn (\n\t\t<><Panel summary={thirdParty.name} details={Details(thirdParty)}/></>\n\t);\n}\nexport default memo(ThirdPartyElement);\n"],"names":["Icon","Panel","props","createElement","Fragment","className","key","id","style","summary","comment","icons","name","size","details","useFields","memo","__","useMenu","ThirdPartyElement","updateField","setChangedField","selectedMainMenuItem","onChangeHandler","e","thirdParties","field","value","Array","isArray","currentThirdParty","index","target","onDeleteHandler","thirdPartiesCopy","hasOwnProperty","splice","saveFields","Details","thirdParty","onChange","type","placeholder","country","purpose","data","onClick"],"sourceRoot":""}