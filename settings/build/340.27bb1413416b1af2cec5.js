"use strict";(self.webpackChunkcomplianz_gdpr=self.webpackChunkcomplianz_gdpr||[]).push([[340,3909,1789,4064],{53909:(e,t,s)=>{s.r(t),s.d(t,{default:()=>u});var a=s(69307),c=s(65736),i=s(20384),l=s(9818),n=s(48399),o=s(14064),d=s(56293),r=s(82387),m=s(82485);const u=e=>{let{notice:t,index:s}=e;const{dismissNotice:u,fetchProgressData:p}=(0,r.default)(),{getField:_,setHighLightField:h,fetchFieldsData:g}=(0,d.default)(),{setSelectedSubMenuItem:f}=(0,m.default)();let v="premium"===t.icon,b=t.url&&-1!==t.url.indexOf("complianz.io"),N=t.status.charAt(0).toUpperCase()+t.status.slice(1);return(0,a.createElement)("div",{key:s,className:"cmplz-task-element"},(0,a.createElement)("span",{className:"cmplz-task-status cmplz-"+t.status},N),(0,a.createElement)("p",{className:"cmplz-task-message",dangerouslySetInnerHTML:{__html:t.message}}),b&&t.url&&(0,a.createElement)("a",{target:"_blank",href:t.url},(0,c.__)("More info","complianz-gdpr")),t.clear_cache_id&&(0,a.createElement)("span",{className:"cmplz-task-enable button button-secondary",onClick:()=>(async e=>{let t={};t.cache_id=e,n.doAction("clear_cache",t).then((async e=>{(0,l.dispatch)("core/notices").createNotice("success",(0,c.__)("Re-started test","complianz-gdpr"),{__unstableHTML:!0,id:"cmplz_clear_cache",type:"snackbar",isDismissible:!0}).then((0,o.default)(3e3)).then((e=>{(0,l.dispatch)("core/notices").removeNotice("rsssl_clear_cache")})),await g(),await p()}))})(t.clear_cache_id)},(0,c.__)("Re-check","complianz-gdpr")),!v&&!b&&t.url&&(0,a.createElement)("a",{className:"cmplz-task-enable button button-secondary",href:t.url},(0,c.__)("View","complianz-gdpr")),!v&&t.highlight_field_id&&(0,a.createElement)("span",{className:"cmplz-task-enable button button-secondary",onClick:()=>(async()=>{h(t.highlight_field_id);let e=_(t.highlight_field_id);await f(e.menu_id)})()},(0,c.__)("View","complianz-gdpr")),t.plus_one&&(0,a.createElement)("span",{className:"cmplz-plusone"},"1"),t.dismissible&&"completed"!==t.status&&(0,a.createElement)("div",{className:"cmplz-task-dismiss"},(0,a.createElement)("button",{type:"button",onClick:e=>u(t.id)},(0,a.createElement)(i.default,{name:"times"}))))}},10340:(e,t,s)=>{s.r(t),s.d(t,{default:()=>d});var a=s(69307),c=s(53909),i=s(14531),l=s(65736),n=s(56293),o=s(71789);const d=(0,s(99196).memo)((e=>{const{fields:t,setChangedField:s,updateField:d}=(0,n.default)(),{licenseStatus:r,licenseNotices:m,getLicenseNotices:u,noticesLoaded:p,activateLicense:_,deactivateLicense:h,processing:g}=(0,o.default)();(0,a.useEffect)((()=>{p||u()}),[]),(0,a.useEffect)((()=>{u()}),[t]);let f=e.field,v=g?"cmplz-processing":"";return(0,a.createElement)("div",{className:"components-base-control"},(0,a.createElement)("div",{className:"cmplz-license-field"},(0,a.createElement)("input",{className:"components-text-control__input",type:"password",id:f.id,value:f.value,onChange:e=>{return t=e.target.value,s(f.id,t),void d(f.id,t);var t}}),(0,a.createElement)("button",{className:"button button-default",disabled:g,onClick:()=>{"valid"===r?h():_(e.field.value)}},"valid"===r&&(0,l.__)("Deactivate","really-simple-ssl"),"valid"!==r&&(0,l.__)("Activate","really-simple-ssl"))),!p&&(0,a.createElement)(i.default,null),p&&(0,a.createElement)("div",{className:v},m.map(((e,t)=>(0,a.createElement)(c.default,{key:t,index:t,notice:e,highLightField:""})))))}))},71789:(e,t,s)=>{s.r(t),s.d(t,{default:()=>i});var a=s(30270),c=s(48399);const i=(0,a.Ue)(((e,t)=>({licenseStatus:cmplz_settings.licenseStatus,processing:!1,licenseNotices:[],noticesLoaded:!1,getLicenseNotices:async()=>{const{licenseStatus:t,notices:s}=await c.doAction("license_notices",{}).then((e=>e));e((e=>({noticesLoaded:!0,licenseNotices:s,licenseStatus:t})))},activateLicense:async t=>{let s={};s.license=t,e({processing:!0});const{licenseStatus:a,notices:i}=await c.doAction("activate_license",s);e((e=>({processing:!1,licenseNotices:i,licenseStatus:a})))},deactivateLicense:async()=>{e({processing:!0});const{licenseStatus:t,notices:s}=await c.doAction("deactivate_license");e((e=>({processing:!1,licenseNotices:s,licenseStatus:t})))}})))},14064:(e,t,s)=>{s.r(t),s.d(t,{default:()=>a});const a=e=>function(t){return new Promise((s=>setTimeout((()=>s(t)),e)))}}}]);