"use strict";(self.webpackChunkcomplianz_gdpr=self.webpackChunkcomplianz_gdpr||[]).push([[2032,924],{82032:function(t,e,a){a.r(e);var n=a(69307),s=a(924),i=a(99196),o=a(23361),l=a(65736),r=a(55609),c=a(56293);e.default=(0,i.memo)((()=>{const{progress:t,active:e,start:a,next:p,total:m,copySites:u}=(0,s.default)(),[g,d]=(0,i.useState)(!1),{addHelpNotice:f,removeHelpNotice:y}=(0,c.default)();return(0,i.useEffect)((()=>{t<100?e&&((async()=>{await u(!1)})(),f("copy-multisite","warning",(0,l.__)("Complianz is currently copying settings of site %1$s to %2$s of %3$s sites.","complianz-gdpr").replace("%1$s",a).replace("%2$s",p).replace("%3$s",m),(0,l.__)("Copying settings...","complianz-gdpr"),!1)):y("copy-multisite")}),[t]),(0,n.createElement)(n.Fragment,null,(0,n.createElement)("div",{className:"cmplz-export-container"},(0,n.createElement)(r.__experimentalConfirmDialog,{isOpen:g,onConfirm:async()=>{d(!1),await u(!0)},onCancel:()=>{d(!1)}},(0,l.__)("Are you sure? This will overwrite the settings in all your subsites with the Complianz settings of this site.","complianz-gdpr")),(0,n.createElement)("button",{className:"button button-default",onClick:()=>d(!0)},(0,l.__)("Start","complianz-gdpr"),e&&(0,n.createElement)(n.Fragment,null,"Â ",t,"%",(0,n.createElement)(o.default,{name:"loading",color:"grey"})))))}))},924:function(t,e,a){a.r(e);var n=a(30270),s=a(48399);const i=(0,n.Ue)(((t,e)=>({progress:0,total:0,start:0,next:0,active:!1,copySites:async e=>{let a={restart:e};t({active:!0});const{start:n,next:i,total:o}=await s.doAction("copy_multisite",a).then((t=>t));let l=Math.round(i/o*100);t({progress:l,start:n,next:i,total:o}),l>=100&&t({active:!1})}})));e.default=i}}]);