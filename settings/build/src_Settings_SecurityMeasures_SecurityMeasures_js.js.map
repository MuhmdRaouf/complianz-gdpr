{"version":3,"file":"src_Settings_SecurityMeasures_SecurityMeasures_js.js","mappings":"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","sources":["webpack://complianz-gdpr/./src/Settings/InstallPlugin/InstallPluginData.js","webpack://complianz-gdpr/./src/Settings/SecurityMeasures/SecurityMeasures.js","webpack://complianz-gdpr/./src/Settings/SecurityMeasures/useSecurityMeasuresData.js","webpack://complianz-gdpr/./src/Settings/SecurityMeasures/measures.scss?6c1b"],"sourcesContent":["import {create} from 'zustand';\nimport * as cmplz_api from \"../../utils/api\";\nconst UseInstallPluginData = create(( set, get ) => ({\n\tapiRequestActive:false,\n\tpluginAction: 'status',\n\twordPressUrl: '#',\n\trating: [],\n\tstatusLoaded:false,\n\tstartPluginAction: (slug, action) => {\n\t\tlet data = {};\n\t\tset({apiRequestActive:true});\n\t\tdata.pluginAction = typeof action !== 'undefined' ? action : get().pluginAction;\n\t\tdata.slug = slug;\n\t\tlet nextAction = false;\n\t\tif (data.pluginAction === 'download') {\n\t\t\tnextAction = 'activate';\n\t\t}\n\t\tcmplz_api.doAction('plugin_actions', data).then( ( response ) => {\n\t\t\tset({\n\t\t\t\tpluginAction:response.pluginAction,\n\t\t\t\twordPressUrl:response.wordpress_url,\n\t\t\t});//'installed', 'download', 'activate', 'upgrade-to-premium'\n\n\t\t\t//convert to percentage\n\t\t\tlet p = Math.round( response.star_rating.rating / 10, 0 ) / 2;\n\t\t\tset({\n\t\t\t\trating:p,\n\t\t\t\tratingCount:response.star_rating.rating_count,\n\t\t\t\tapiRequestActive:false,\n\t\t\t\tstatusLoaded:true,\n\t\t\t});\n\t\t\t//if the plugin is installed, go ahead and activate as well\n\t\t\tif (nextAction === 'activate' && response.pluginAction!=='installed' ) {\n\t\t\t\tget().startPluginAction(response.pluginAction);\n\t\t\t}\n\n\t\t});\n\t},\n}));\n\nexport default UseInstallPluginData;\n\n","import {useEffect} from \"react\";\nimport { __ } from '@wordpress/i18n';\nimport {memo} from \"react\";\nimport './measures.scss'\n\nimport useSecurityMeasuresData from \"./useSecurityMeasuresData\";\nimport useInstallPluginData from \"../InstallPlugin/InstallPluginData\";\nconst SecurityMeasures = () => {\n\tconst { measuresDataLoaded, measures, has_7, getMeasuresData } = useSecurityMeasuresData();\n\tconst {statusLoaded, startPluginAction, pluginAction} = useInstallPluginData();\n\tconst slug = 'really-simple-ssl';\n\tuseEffect(() => {\n\t\t//get initial data\n\t\tif (!statusLoaded) {\n\t\t\tstartPluginAction(slug);\n\t\t}\n\t}, [])\n\tuseEffect ( () => {\n\t\tif (!measuresDataLoaded) {\n\t\t\tgetMeasuresData();\n\t\t}\n\t},[]);\n\n\tlet status = statusLoaded ? pluginAction : 'loading';\n\tif ( statusLoaded && status!=='installed' && status!=='upgrade-to-premium') {\n\t\tlet notice  = status === 'activate' ? __(\"Please activate Really Simple SSL to unlock this feature.\", \"complianz-gdpr\") : __(\"Please install Really Simple SSL to unlock this feature.\", \"complianz-gdpr\");\n\t\tif (status === 'loading' ) {\n\t\t\tnotice = '...';\n\t\t}\n\t\treturn (\n\t\t\t<div className=\"cmplz-locked\">\n\t\t\t\t<div className=\"cmplz-locked-overlay\">\n\t\t\t\t\t<span className=\"cmplz-task-status cmplz-warning\">{__(\"Not installed\", \"complianz-gdpr\")}</span>\n\t\t\t\t\t<span>\n\t\t\t\t\t{notice}\n\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\n\tconst measuresList = {\n\t\tvulnerability_detection : __(\"Vulnerability detection\",'complianz-gdpr'),\n\t\trecommended_headers : __(\"HTTP Strict Transport Security and related security headers\",'complianz-gdpr'),\n\t\tssl : __(\"TLS / SSL\",'complianz-gdpr'),\n\t\thardening : __(\"Recommended site hardening features\",'complianz-gdpr'),\n\t};\n\n\tconst Measure = ({measure}) => {\n\t\t//get properties of the measure\n\t\tlet enabledClass = measure.enabled ? 'cmplz-measure-enabled' : 'cmplz-measure-disabled';\n\t\treturn (\n\t\t\t<ul className=\"cmplz-measure\">\n\t\t\t\t<li className={\"cmplz-measure-description \"+enabledClass}>{measuresList[measure.id]}</li>\n\t\t\t</ul>\n\t\t)\n\t}\n\n\treturn (\n\t\t<div className=\"cmplz-measures-container\">\n\t\t\t{measuresDataLoaded && has_7 && measures.length>0 && <>\n\t\t\t\t<p>{__(\"We are committed to the security of personal data. We take appropriate security measures to limit abuse of and unauthorized access to personal data. This ensures that only the necessary persons have access to your data, that access to the data is protected, and that our security measures are regularly reviewed.\",'complianz-gdpr')}</p>\n\t\t\t\t<p>{__(\"The security measures we use consist of, but are not limited to:\",'complianz-gdpr')}</p>\n\t\t\t\t{measures.map((measure, index) => <Measure key={index} measure={measure}/>)}\n\t\t\t</>}\n\t\t\t{measuresDataLoaded && measures.length===0 && has_7 && __(\"No security measures enabled in Really Simple SSL\",'complianz-gdpr')}\n\t\t\t{measuresDataLoaded && !has_7 && __(\"Please upgrade Really Simple SSL to the latest version to unlock this feature.\",'complianz-gdpr')}\n\t\t\t{!measuresDataLoaded && <>...</>}\n\t\t</div>\n\t)\n}\nexport default memo(SecurityMeasures)\n\n","import {create} from 'zustand';\nimport * as cmplz_api from \"../../utils/api\";\nconst useSecurityMeasuresData = create(( set, get ) => ({\n\tmeasures: {},\n\thas_7: false,\n\tmeasuresDataLoaded:false,\n\tgetMeasuresData: async () => {\n\t\tconst { measures,has_7 } = await cmplz_api.doAction('get_security_measures_data', {}).then( ( response ) => {\n\t\t\treturn response;\n\t\t});\n\t\tset(state => ({ measuresDataLoaded:true, measures:measures, has_7:has_7}));\n\t},\n}));\nexport default useSecurityMeasuresData;\n\n","// extracted by mini-css-extract-plugin\nexport {};"],"names":["create","cmplz_api","UseInstallPluginData","set","get","apiRequestActive","pluginAction","wordPressUrl","rating","statusLoaded","startPluginAction","slug","action","data","nextAction","doAction","then","response","wordpress_url","p","Math","round","star_rating","ratingCount","rating_count","useEffect","__","memo","useSecurityMeasuresData","useInstallPluginData","SecurityMeasures","measuresDataLoaded","measures","has_7","getMeasuresData","status","notice","createElement","className","measuresList","vulnerability_detection","recommended_headers","ssl","hardening","Measure","_ref","measure","enabledClass","enabled","id","length","Fragment","map","index","key","state"],"sourceRoot":""}