"use strict";(globalThis.webpackChunkcomplianz_gdpr=globalThis.webpackChunkcomplianz_gdpr||[]).push([[7980,382,6527],{20382:(e,t,o)=>{o.r(t),o.d(t,{default:()=>s});var n=o(30270),a=o(48399);const s=(0,n.Ue)(((e,t)=>({documents:[],documentDataLoaded:!1,processingAgreementOptions:[],proofOfConsentOptions:[],dataBreachOptions:[],region:"",setRegion:t=>{"undefined"!=typeof Storage&&(sessionStorage.cmplzSelectedRegion=t),e((e=>({region:t})))},getRegion:()=>{let t="all";"undefined"!=typeof Storage&&sessionStorage.cmplzSelectedRegion&&(t=sessionStorage.cmplzSelectedRegion),e((e=>({region:t})))},getDocuments:async()=>{const{documents:t,processingAgreementOptions:o,proofOfConsentOptions:n,dataBreachOptions:s}=await a.doAction("documents_block_data").then((e=>e));e((e=>({documentDataLoaded:!0,documents:t,processingAgreementOptions:o,proofOfConsentOptions:n,dataBreachOptions:s})))}})))},57980:(e,t,o)=>{o.r(t),o.d(t,{default:()=>c});var n=o(69307),a=o(65736),s=o(20382),l=o(56293),r=o(26527);const c=()=>{const{getFieldValue:e,fields:t}=(0,l.default)(),[o,c]=(0,n.useState)(!1);(0,n.useEffect)((()=>{c(e("records_of_consent"))}),[t]);const{processingAgreementOptions:i,dataBreachOptions:p,proofOfConsentOptions:d}=(0,s.default)();return(0,n.createElement)(n.Fragment,null,(0,n.createElement)("h3",{className:"cmplz-h4"},(0,a.__)("Other documents")),(0,n.createElement)(r.default,{type:"processing-agreements",link:"#tools/processing-agreements",name:(0,a.__)("Processing Agreement","complianz-gdpr"),options:i}),(0,n.createElement)(r.default,{type:"data-breaches",link:"#tools/data-breach-reports",name:(0,a.__)("Data Breach","complianz-gdpr"),options:p}),(0,n.createElement)(r.default,{type:"proof-of-consent",link:o?"#tools/records-of-consent":"#tools/proof-of-consent",name:(0,a.__)("Proof of Consent","complianz-gdpr"),options:d}))}},26527:(e,t,o)=>{o.r(t),o.d(t,{default:()=>r});var n=o(69307),a=o(55609),s=o(43684),l=o(65736);const r=e=>{const[t,o]=(0,n.useState)(!1),[r,c]=(0,n.useState)(!1),[i,p]=(0,n.useState)(!1);(0,n.useEffect)((()=>{let t=e.options;if(0===t.length){let o={label:(0,l.__)("Generate a %s","complianz-gdpr").replace("%s",e.name),value:0};t.unshift(o)}else if(!t.filter((e=>0===e.value)).length>0){let o={label:(0,l.__)("Select a %s","complianz-gdpr").replace("%s",e.name),value:0};t.unshift(o)}p(t)}),[e.options]);const d=()=>{if(r)return;c(!0);let e=new XMLHttpRequest;e.responseType="blob",e.open("get",t,!0),e.send(),e.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=window.URL.createObjectURL(this.response),o=window.document.createElement("a");o.setAttribute("href",e),o.setAttribute("download",i.filter((e=>e.value===t))[0].label),window.document.body.appendChild(o),o.click(),setTimeout((function(){window.URL.revokeObjectURL(e)}),6e4)}},e.onprogress=function(e){c(!0)}};return(0,n.createElement)("div",{className:"cmplz-single-document-other-documents"},(0,n.createElement)(a.SelectControl,{onChange:e=>o(e),value:t,options:i}),(0,n.createElement)("div",{onClick:()=>d()},(0,n.createElement)(s.default,{name:"file-download",color:0==t||r?"grey":"black",tooltip:(0,l.__)("Download file","complianz-gdpr"),size:14})),i.length>0&&(0,n.createElement)("a",{href:e.link},(0,n.createElement)(s.default,{name:"circle-chevron-right",color:"black",tooltip:(0,l.__)("Go to overview","complianz-gdpr"),size:14})),0===i.length&&(0,n.createElement)("a",{href:e.link},(0,n.createElement)(s.default,{name:"plus",color:"black",tooltip:(0,l.__)("Create new","complianz-gdpr"),size:14})))}}}]);