"use strict";(globalThis.webpackChunkcomplianz_gdpr=globalThis.webpackChunkcomplianz_gdpr||[]).push([[7980,382,6527,5070],{20382:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var o=n(30270),a=n(48399);const l=(0,o.Ue)(((e,t)=>({documents:[],documentDataLoaded:!1,processingAgreementOptions:[],proofOfConsentOptions:[],dataBreachOptions:[],region:"",setRegion:t=>{"undefined"!=typeof Storage&&(sessionStorage.cmplzSelectedRegion=t),e((e=>({region:t})))},getRegion:()=>{let t="all";"undefined"!=typeof Storage&&sessionStorage.cmplzSelectedRegion&&(t=sessionStorage.cmplzSelectedRegion),e((e=>({region:t})))},getDocuments:async()=>{const{documents:t,processingAgreementOptions:n,proofOfConsentOptions:o,dataBreachOptions:l}=await a.doAction("documents_block_data").then((e=>e));e((e=>({documentDataLoaded:!0,documents:t,processingAgreementOptions:n,proofOfConsentOptions:o,dataBreachOptions:l})))}})))},57980:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});var o=n(69307),a=n(65736),l=n(20382),i=n(56293),s=(n(5070),n(26527));const r=()=>{const{getFieldValue:e,fields:t}=(0,i.default)(),[n,r]=(0,o.useState)(!1);(0,o.useEffect)((()=>{r(e("records_of_consent"))}),[t]);const{processingAgreementOptions:c,dataBreachOptions:p,proofOfConsentOptions:d}=(0,l.default)();return(0,o.createElement)(o.Fragment,null,(0,o.createElement)("h3",{className:"cmplz-h4"},(0,a.__)("Other documents")),(0,o.createElement)(s.default,{type:"processing-agreements",link:"#tools/processing-agreements",name:(0,a.__)("Processing Agreement","complianz-gdpr"),options:c}),(0,o.createElement)(s.default,{type:"data-breaches",link:"#tools/data-breach-reports",name:(0,a.__)("Data Breach","complianz-gdpr"),options:p}),(0,o.createElement)(s.default,{type:"proof-of-consent",link:n?"#tools/records-of-consent":"#tools/proof-of-consent",name:(0,a.__)("Proof of Consent","complianz-gdpr"),options:d}))}},26527:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var o=n(69307),a=n(55609),l=n(43684),i=n(65736);const s=e=>{const[t,n]=(0,o.useState)(!1),[s,r]=(0,o.useState)(!1),[c,p]=(0,o.useState)(!1);(0,o.useEffect)((()=>{let t=e.options;if(0===t.length){let n={label:(0,i.__)("Generate a %s","complianz-gdpr").replace("%s",e.name),value:0};t.unshift(n)}else if(!t.filter((e=>0===e.value)).length>0){let n={label:(0,i.__)("Select a %s","complianz-gdpr").replace("%s",e.name),value:0};t.unshift(n)}p(t)}),[e.options]);const d=()=>{if(s)return;r(!0);let e=new XMLHttpRequest;e.responseType="blob",e.open("get",t,!0),e.send(),e.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=window.URL.createObjectURL(this.response),n=window.document.createElement("a");n.setAttribute("href",e),n.setAttribute("download",c.filter((e=>e.value===t))[0].label),window.document.body.appendChild(n),n.click(),setTimeout((function(){window.URL.revokeObjectURL(e)}),6e4)}},e.onprogress=function(e){r(!0)}};return(0,o.createElement)("div",{className:"cmplz-single-document-other-documents"},(0,o.createElement)(a.SelectControl,{onChange:e=>n(e),value:t,options:c}),(0,o.createElement)("div",{onClick:()=>d()},(0,o.createElement)(l.default,{name:"file-download",color:0==t||s?"grey":"black",tooltip:(0,i.__)("Download file","complianz-gdpr"),size:14})),c.length>0&&(0,o.createElement)("a",{href:e.link},(0,o.createElement)(l.default,{name:"circle-chevron-right",color:"black",tooltip:(0,i.__)("Go to overview","complianz-gdpr"),size:14})),0===c.length&&(0,o.createElement)("a",{href:e.link},(0,o.createElement)(l.default,{name:"plus",color:"black",tooltip:(0,i.__)("Create new","complianz-gdpr"),size:14})))}},5070:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});var o=n(30270),a=n(48399),l=n(65736);const i=(0,o.Ue)(((e,t)=>({error:!1,dataLoaded:!1,pluginData:[],updatePluginData:(n,o)=>{let a=t().pluginData;a.forEach((function(e,t){e.slug===n&&(a[t]=o)})),e((e=>({dataLoaded:!0,pluginData:a})))},getPluginData:e=>t().pluginData.filter((t=>t.slug===e))[0],fetchOtherPluginsData:async()=>{const{pluginData:t,error:n}=await a.doAction("otherpluginsdata").then((e=>{let t=[];t=e.plugins;let n=e.error;return n||t.forEach((function(e,n){t[n].pluginActionNice=s(e.pluginAction)})),{pluginData:t,error:n}}));e((e=>({dataLoaded:!0,pluginData:t,error:n})))},pluginActions:(e,n,o)=>{o&&o.preventDefault();let l={};l.slug=e,l.pluginAction=n;let i=t().getPluginData(e);"download"===n?i.pluginAction="downloading":"activate"===n&&(i.pluginAction="activating"),i.pluginActionNice=s(i.pluginAction),t().updatePluginData(e,i),"installed"!==n&&"upgrade-to-premium"!==n&&a.doAction("plugin_actions",l).then((n=>{i=n,t().updatePluginData(e,i),t().pluginActions(e,i.pluginAction)}))}}))),s=e=>({download:(0,l.__)("Install","really-simple-ssl"),activate:(0,l.__)("Activate","really-simple-ssl"),activating:(0,l.__)("Activating...","really-simple-ssl"),downloading:(0,l.__)("Downloading...","really-simple-ssl"),"upgrade-to-premium":(0,l.__)("Downloading...","really-simple-ssl")}[e])}}]);