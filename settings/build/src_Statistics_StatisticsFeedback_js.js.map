{"version":3,"file":"src_Statistics_StatisticsFeedback_js.js","mappings":"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","sources":["webpack://complianz-gdpr/./src/Statistics/StatisticsData.js","webpack://complianz-gdpr/./src/Statistics/StatisticsFeedback.js"],"sourcesContent":["import {create} from 'zustand';\nimport * as cmplz_api from \"../utils/api\";\nconst emptyData = {\n\t'optin': {\n\t\t\"labels\": [\n\t\t\t\"Functional\",\n\t\t\t\"Statistics\",\n\t\t\t\"Marketing\",\n\t\t\t\"Do Not Track\",\n\t\t\t\"No choice\",\n\t\t\t\"No warning\",\n\t\t],\n\t\t\"categories\": [\n\t\t\t\"functional\",\n\t\t\t\"statistics\",\n\t\t\t\"marketing\",\n\t\t\t\"do_not_track\",\n\t\t\t\"no_choice\",\n\t\t\t\"no_warning\",\n\t\t],\n\t\t\"datasets\": [\n\t\t\t{\n\t\t\t\t\"data\": [\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\"\n\t\t\t\t],\n\t\t\t\t\"backgroundColor\": \"rgba(255, 99, 132, 1)\",\n\t\t\t\t\"borderColor\": \"rgba(255, 99, 132, 1)\",\n\t\t\t\t\"label\": \"A (default)\",\n\t\t\t\t\"fill\": \"false\",\n\t\t\t\t\"borderDash\": [\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"data\": [\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\"\n\t\t\t\t],\n\t\t\t\t\"backgroundColor\": \"rgba(255, 159, 64, 1)\",\n\t\t\t\t\"borderColor\": \"rgba(255, 159, 64, 1)\",\n\t\t\t\t\"label\": \"B\",\n\t\t\t\t\"fill\": \"false\",\n\t\t\t\t\"borderDash\": [\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t]\n\t\t\t}\n\t\t],\n\t\t\"max\": 5\n\t},\n\t'optout': {\n\t\t\"labels\": [\n\t\t\t\"Functional\",\n\t\t\t\"Statistics\",\n\t\t\t\"Marketing\",\n\t\t\t\"Do Not Track\",\n\t\t\t\"No choice\",\n\t\t\t\"No warning\",\n\t\t],\n\t\t\"categories\": [\n\t\t\t\"functional\",\n\t\t\t\"statistics\",\n\t\t\t\"marketing\",\n\t\t\t\"do_not_track\",\n\t\t\t\"no_choice\",\n\t\t\t\"no_warning\",\n\t\t],\n\t\t\"datasets\": [\n\t\t\t{\n\t\t\t\t\"data\": [\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\"\n\t\t\t\t],\n\t\t\t\t\"backgroundColor\": \"rgba(255, 99, 132, 1)\",\n\t\t\t\t\"borderColor\": \"rgba(255, 99, 132, 1)\",\n\t\t\t\t\"label\": \"A (default)\",\n\t\t\t\t\"fill\": \"false\",\n\t\t\t\t\"borderDash\": [\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"data\": [\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\"\n\t\t\t\t],\n\t\t\t\t\"backgroundColor\": \"rgba(255, 159, 64, 1)\",\n\t\t\t\t\"borderColor\": \"rgba(255, 159, 64, 1)\",\n\t\t\t\t\"label\": \"B\",\n\t\t\t\t\"fill\": \"false\",\n\t\t\t\t\"borderDash\": [\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t]\n\t\t\t}\n\t\t],\n\t\t\"max\": 5\n\t}\n}\nconst defaultData = {\n\t'optin': {\n\t\t\"labels\": [\n\t\t\t\"Functional\",\n\t\t\t\"Statistics\",\n\t\t\t\"Marketing\",\n\t\t\t\"Do Not Track\",\n\t\t\t\"No choice\",\n\t\t\t\"No warning\",\n\t\t],\n\t\t\"categories\": [\n\t\t\t\"functional\",\n\t\t\t\"statistics\",\n\t\t\t\"marketing\",\n\t\t\t\"do_not_track\",\n\t\t\t\"no_choice\",\n\t\t\t\"no_warning\",\n\t\t],\n\t\t\"datasets\": [\n\t\t\t{\n\t\t\t\t\"data\": [\n\t\t\t\t\t\"29\",\n\t\t\t\t\t\"747\",\n\t\t\t\t\t\"174\",\n\t\t\t\t\t\"292\",\n\t\t\t\t\t\"30\",\n\t\t\t\t\t\"10\"\n\t\t\t\t],\n\t\t\t\t\"backgroundColor\": \"rgba(255, 99, 132, 1)\",\n\t\t\t\t\"borderColor\": \"rgba(255, 99, 132, 1)\",\n\t\t\t\t\"label\": \"Demo A (default)\",\n\t\t\t\t\"fill\": \"false\",\n\t\t\t\t\"borderDash\": [\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"data\": [\n\t\t\t\t\t\"3\",\n\t\t\t\t\t\"536\",\n\t\t\t\t\t\"240\",\n\t\t\t\t\t\"389\",\n\t\t\t\t\t\"45\",\n\t\t\t\t\t\"32\"\n\t\t\t\t],\n\t\t\t\t\"backgroundColor\": \"rgba(255, 159, 64, 1)\",\n\t\t\t\t\"borderColor\": \"rgba(255, 159, 64, 1)\",\n\t\t\t\t\"label\": \"Demo B\",\n\t\t\t\t\"fill\": \"false\",\n\t\t\t\t\"borderDash\": [\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t]\n\t\t\t}\n\t\t],\n\t\t\"max\": 5\n\t},\n\t'optout': {\n\t\t\"labels\": [\n\t\t\t\"Functional\",\n\t\t\t\"Statistics\",\n\t\t\t\"Marketing\",\n\t\t\t\"Do Not Track\",\n\t\t\t\"No choice\",\n\t\t\t\"No warning\",\n\t\t],\n\t\t\"categories\": [\n\t\t\t\"functional\",\n\t\t\t\"statistics\",\n\t\t\t\"marketing\",\n\t\t\t\"do_not_track\",\n\t\t\t\"no_choice\",\n\t\t\t\"no_warning\",\n\t\t],\n\t\t\"datasets\": [\n\t\t\t{\n\t\t\t\t\"data\": [\n\t\t\t\t\t\"29\",\n\t\t\t\t\t\"747\",\n\t\t\t\t\t\"174\",\n\t\t\t\t\t\"292\",\n\t\t\t\t\t\"30\",\n\t\t\t\t\t\"10\"\n\t\t\t\t],\n\t\t\t\t\"backgroundColor\": \"rgba(255, 99, 132, 1)\",\n\t\t\t\t\"borderColor\": \"rgba(255, 99, 132, 1)\",\n\t\t\t\t\"label\": \"A (default)\",\n\t\t\t\t\"fill\": \"false\",\n\t\t\t\t\"borderDash\": [\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"data\": [\n\t\t\t\t\t\"3\",\n\t\t\t\t\t\"536\",\n\t\t\t\t\t\"240\",\n\t\t\t\t\t\"389\",\n\t\t\t\t\t\"45\",\n\t\t\t\t\t\"32\"\n\t\t\t\t],\n\t\t\t\t\"backgroundColor\": \"rgba(255, 159, 64, 1)\",\n\t\t\t\t\"borderColor\": \"rgba(255, 159, 64, 1)\",\n\t\t\t\t\"label\": \"Demo B\",\n\t\t\t\t\"fill\": \"false\",\n\t\t\t\t\"borderDash\": [\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t]\n\t\t\t}\n\t\t],\n\t\t\"max\": 5\n\t}\n}\nconst useStatistics = create(( set, get ) => ({\n\tconsentType: 'optin',\n\tsetConsentType: (consentType) => {\n\t\tset({consentType:consentType});\n\t},\n\tstatisticsLoading:false,\n\tconsentTypes:[],\n\tregions:[],\n\tdefaultConsentType: 'optin',\n\tloaded:false,\n\tstatisticsData: defaultData,\n\temptyStatisticsData: emptyData,\n\tbestPerformerEnabled:false,\n\tdaysLeft:'',\n\tabTrackingCompleted:false,\n\tlabels:[],\n\tsetLabels: (labels) => {\n\t\tset({labels:labels});\n\t},\n\tfetchStatisticsData: async () => {\n\t\tset({saving:true });\n\t\tlet data = {};\n\t\tif (get().loaded) return;\n\t\tconst {daysLeft, abTrackingCompleted, consentTypes, statisticsData, defaultConsentType, regions, bestPerformerEnabled} = await cmplz_api.doAction('get_statistics_data', data).then((response) => {\n\t\t\treturn response;\n\t\t}).catch((error) => {\n\t\t\tconsole.error(error);\n\t\t});\n\t\tset({\n\t\t\tsaving:false,\n\t\t\tloaded:true,\n\t\t\tconsentType:defaultConsentType,\n\t\t\tconsentTypes:consentTypes,\n\t\t\tstatisticsData:statisticsData,\n\t\t\tdefaultConsentType:defaultConsentType,\n\t\t\tbestPerformerEnabled:bestPerformerEnabled,\n\t\t\tregions:regions,\n\t\t\tdaysLeft:daysLeft,\n\t\t\tabTrackingCompleted:abTrackingCompleted,\n\t\t});\n\t},\n}));\nexport default useStatistics;\n","import useFields from \"../Settings/Fields/FieldsData\";\nimport useStatistics from \"./StatisticsData\";\nimport { useState, useEffect } from \"@wordpress/element\";\nimport Icon from \"../utils/Icon\";\nimport { __ } from \"@wordpress/i18n\";\nimport {memo} from \"react\";\nconst StatisticsFeedback = () => {\n\n\tconst {fields, getFieldValue, addHelpNotice} = useFields();\n\tconst {regions, abTrackingCompleted, daysLeft, bestPerformerEnabled, loaded, fetchStatisticsData} = useStatistics();\n\tconst [consentStatisticsEnabled, setConsentStatisticsEnabled] = useState(false);\n\tconst [abTestingEnabled, setAbTestingEnabled] = useState(false);\n\n\tuseEffect(() => {\n\t\tif (!loaded) {\n\t\t\tfetchStatisticsData();\n\t\t}\n\t},[])\n\n\tuseEffect (() => {\n\t\tlet consentStats = getFieldValue('a_b_testing')==1;\n\t\tsetConsentStatisticsEnabled(consentStats);\n\t\tlet ab = getFieldValue('a_b_testing_buttons')==1;\n\t\tsetAbTestingEnabled(ab);\n\n\t},[fields])\n\n\tconst Notice = (icon, color, text) => {\n\t\treturn (\n\t\t\t<div className=\"cmplz-statistics-status\">\n\t\t\t\t<Icon name={icon} color={color}/>\n\t\t\t\t{text}\n\t\t\t</div>\n\t\t)\n\t}\n\n\tuseEffect(() => {\n\t\tlet notice = __('The conversion graph shows the ratio for the different choices users have. When a user has made a choice, this will be counted as either a converted user, or a not converted. If no choice is made, the user will be listed in the \"No choice\" category.', 'complianz-gdpr');\n\t\tnotice += '&nbsp;';\n\t\tif ( getFieldValue('use_country')==1 && regions.length>0) {\n\t\t\tconst enabled_regions = regions.filter(region => region.value !== 'label').map(region => region.label);\n\t\t\tnotice += __('As you have enabled geoip, there are several regions in which a banner is shown, in different ways. In regions apart from %s no banner is shown at all.', 'complianz-gdpr').replace('%s', enabled_regions.join(', '));\n\t\t}\n\t\taddHelpNotice('a_b_testing', 'warning', notice, __('Banners in different regions', 'complianz-gdpr') );\n\n\t},[regions])\n\n\tconst options = {\n\t\tresponsive: true,\n\t\tplugins: {\n\t\t\tlegend: {\n\t\t\t\tposition: 'top',\n\t\t\t},\n\t\t},\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t{ bestPerformerEnabled &&\n\t\t\t\tNotice('circle-check', 'green',__('The cookie banner with the best results has been enabled as default banner.', 'complianz-gdpr') )\n\t\t\t}\n\n\t\t\t{ !bestPerformerEnabled && consentStatisticsEnabled && !abTestingEnabled &&\n\t\t\t\tNotice('circle-times', 'grey',__('A/B testing is disabled. Previously made progress is saved.', 'complianz-gdpr') )\n\t\t\t}\n\n\t\t\t{ !bestPerformerEnabled && abTestingEnabled &&\n\t\t\t\t<>\n\t\t\t\t\t{!abTrackingCompleted &&\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{daysLeft>1 && Notice('circle-check', 'green', __('A/B is enabled and will end in %s days.', 'complianz-gdpr').replace( '%s', daysLeft))}\n\t\t\t\t\t\t\t{daysLeft===1 && Notice('circle-check', 'green', __('A/B is enabled and will end in 1 day.', 'complianz-gdpr').replace( '%s', daysLeft))}\n\t\t\t\t\t\t\t{daysLeft===0 && Notice('circle-check', 'green', __('A/B is enabled and will end today.', 'complianz-gdpr'))}\n\t\t\t\t\t\t</>}\n\t\t\t\t\t{abTrackingCompleted &&\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{Notice('circle-check', 'green', __('The A/B tracking period has ended, the best performer will be enabled on the next scheduled check.', 'complianz-gdpr'))}\n\t\t\t\t\t\t</>\n\t\t\t\t\t}\n\t\t\t\t</>\n\t\t\t}\n\t\t</>\n\t);\n};\n\nexport default memo(StatisticsFeedback);\n\n"],"names":["create","cmplz_api","emptyData","defaultData","useStatistics","set","get","consentType","setConsentType","statisticsLoading","consentTypes","regions","defaultConsentType","loaded","statisticsData","emptyStatisticsData","bestPerformerEnabled","daysLeft","abTrackingCompleted","labels","setLabels","fetchStatisticsData","saving","data","doAction","then","response","catch","error","console","useFields","useState","useEffect","Icon","__","memo","StatisticsFeedback","fields","getFieldValue","addHelpNotice","consentStatisticsEnabled","setConsentStatisticsEnabled","abTestingEnabled","setAbTestingEnabled","consentStats","ab","Notice","icon","color","text","createElement","className","name","notice","length","enabled_regions","filter","region","value","map","label","replace","join","options","responsive","plugins","legend","position","Fragment"],"sourceRoot":""}