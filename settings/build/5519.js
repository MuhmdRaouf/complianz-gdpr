"use strict";(globalThis.webpackChunkcomplianz_gdpr=globalThis.webpackChunkcomplianz_gdpr||[]).push([[5519,8603],{43216:(e,n,t)=>{t.d(n,{z:()=>u});var o=t(99196),r=t(91850),a=t(17255),l=t(29563);const u=e=>{const{present:n,children:t}=e,u=function(e){const[n,t]=(0,o.useState)(),a=(0,o.useRef)({}),u=(0,o.useRef)(e),i=(0,o.useRef)("none"),s=e?"mounted":"unmounted",[d,p]=function(e,n){return(0,o.useReducer)(((e,t)=>{const o=n[e][t];return null!=o?o:e}),e)}(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return(0,o.useEffect)((()=>{const e=c(a.current);i.current="mounted"===d?e:"none"}),[d]),(0,l.b)((()=>{const n=a.current,t=u.current;if(t!==e){const o=i.current,r=c(n);e?p("MOUNT"):"none"===r||"none"===(null==n?void 0:n.display)?p("UNMOUNT"):p(t&&o!==r?"ANIMATION_OUT":"UNMOUNT"),u.current=e}}),[e,p]),(0,l.b)((()=>{if(n){const e=e=>{const t=c(a.current).includes(e.animationName);e.target===n&&t&&(0,r.flushSync)((()=>p("ANIMATION_END")))},t=e=>{e.target===n&&(i.current=c(a.current))};return n.addEventListener("animationstart",t),n.addEventListener("animationcancel",e),n.addEventListener("animationend",e),()=>{n.removeEventListener("animationstart",t),n.removeEventListener("animationcancel",e),n.removeEventListener("animationend",e)}}p("ANIMATION_END")}),[n,p]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:(0,o.useCallback)((e=>{e&&(a.current=getComputedStyle(e)),t(e)}),[])}}(n),i="function"==typeof t?t({present:u.isPresent}):o.Children.only(t),s=(0,a.e)(u.ref,i.ref);return"function"==typeof t||u.isPresent?(0,o.cloneElement)(i,{ref:s}):null};function c(e){return(null==e?void 0:e.animationName)||"none"}u.displayName="Presence"},15519:(e,n,t)=>{t.r(n),t.d(n,{default:()=>B});var o=t(69307),r=t(99196),a=t(88603),l=t(87462),u=t(76652),c=t(17255),i=t(32707),s=t(98276),d=t(64839),p=t(9390),m=t(66195),f=t(76501),v=t(60958),h=t(43216),g=t(40192),E=t(88820),C=t(39920),O=t(23541),P=t(10641);const N="Popover",[b,A]=(0,i.b)(N,[f.D7]),M=(0,f.D7)(),[_,F]=b(N),R=(0,r.forwardRef)(((e,n)=>{const{__scopePopover:t,...o}=e,a=F("PopoverTrigger",t),i=M(t),s=(0,c.e)(n,a.triggerRef),d=(0,r.createElement)(g.WV.button,(0,l.Z)({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":S(a.open)},o,{ref:s,onClick:(0,u.M)(e.onClick,a.onOpenToggle)}));return a.hasCustomAnchor?d:(0,r.createElement)(f.ee,(0,l.Z)({asChild:!0},i),d)})),T="PopoverPortal",[w,k]=b(T,{forceMount:void 0}),D="PopoverContent",I=(0,r.forwardRef)(((e,n)=>{const t=k(D,e.__scopePopover),{forceMount:o=t.forceMount,...a}=e,u=F(D,e.__scopePopover);return(0,r.createElement)(h.z,{present:o||u.open},u.modal?(0,r.createElement)(y,(0,l.Z)({},a,{ref:n})):(0,r.createElement)(x,(0,l.Z)({},a,{ref:n})))})),y=(0,r.forwardRef)(((e,n)=>{const t=F(D,e.__scopePopover),o=(0,r.useRef)(null),a=(0,c.e)(n,o),i=(0,r.useRef)(!1);return(0,r.useEffect)((()=>{const e=o.current;if(e)return(0,O.Ry)(e)}),[]),(0,r.createElement)(P.Z,{as:E.g7,allowPinchZoom:!0},(0,r.createElement)(U,(0,l.Z)({},e,{ref:a,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,u.M)(e.onCloseAutoFocus,(e=>{var n;e.preventDefault(),i.current||null===(n=t.triggerRef.current)||void 0===n||n.focus()})),onPointerDownOutside:(0,u.M)(e.onPointerDownOutside,(e=>{const n=e.detail.originalEvent,t=0===n.button&&!0===n.ctrlKey,o=2===n.button||t;i.current=o}),{checkForDefaultPrevented:!1}),onFocusOutside:(0,u.M)(e.onFocusOutside,(e=>e.preventDefault()),{checkForDefaultPrevented:!1})})))})),x=(0,r.forwardRef)(((e,n)=>{const t=F(D,e.__scopePopover),o=(0,r.useRef)(!1);return(0,r.createElement)(U,(0,l.Z)({},e,{ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:n=>{var r,a;null===(r=e.onCloseAutoFocus)||void 0===r||r.call(e,n),n.defaultPrevented||(o.current||null===(a=t.triggerRef.current)||void 0===a||a.focus(),n.preventDefault()),o.current=!1},onInteractOutside:n=>{var r,a;null===(r=e.onInteractOutside)||void 0===r||r.call(e,n),n.defaultPrevented||(o.current=!0);const l=n.target;(null===(a=t.triggerRef.current)||void 0===a?void 0:a.contains(l))&&n.preventDefault()}}))})),U=(0,r.forwardRef)(((e,n)=>{const{__scopePopover:t,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:u,disableOutsidePointerEvents:c,onEscapeKeyDown:i,onPointerDownOutside:m,onFocusOutside:v,onInteractOutside:h,...g}=e,E=F(D,t),C=M(t);return(0,d.EW)(),(0,r.createElement)(p.M,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:a,onUnmountAutoFocus:u},(0,r.createElement)(s.XB,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:h,onEscapeKeyDown:i,onPointerDownOutside:m,onFocusOutside:v,onDismiss:()=>E.onOpenChange(!1)},(0,r.createElement)(f.VY,(0,l.Z)({"data-state":S(E.open),role:"dialog",id:E.contentId},C,g,{ref:n,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}))))}));function S(e){return e?"open":"closed"}const Z=e=>{const{__scopePopover:n,children:t,open:o,defaultOpen:a,onOpenChange:l,modal:u=!1}=e,c=M(n),i=(0,r.useRef)(null),[s,d]=(0,r.useState)(!1),[p=!1,v]=(0,C.T)({prop:o,defaultProp:a,onChange:l});return(0,r.createElement)(f.fC,c,(0,r.createElement)(_,{scope:n,contentId:(0,m.M)(),triggerRef:i,open:p,onOpenChange:v,onOpenToggle:(0,r.useCallback)((()=>v((e=>!e))),[v]),hasCustomAnchor:s,onCustomAnchorAdd:(0,r.useCallback)((()=>d(!0)),[]),onCustomAnchorRemove:(0,r.useCallback)((()=>d(!1)),[]),modal:u},t))},z=R,L=e=>{const{__scopePopover:n,forceMount:t,children:o,container:a}=e,l=F(T,n);return(0,r.createElement)(w,{scope:n,forceMount:t},(0,r.createElement)(h.z,{present:t||l.open},(0,r.createElement)(v.h,{asChild:!0,container:a},o)))},V=I;var K=t(56293);const W=e=>{const{updateField:n,setChangedField:t}=(0,K.default)(),[l,u]=(0,r.useState)(),c=e.field.value.hasOwnProperty(e.item.fieldname)?e.field.value[e.item.fieldname]:e.field.default[e.item.fieldname],i=e.item.fieldname;return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(Z,null,(0,o.createElement)(z,null,(0,o.createElement)("div",{className:"cmplz-color-picker-control-item",onClick:e=>{u(e.currentTarget)}},(0,o.createElement)("div",{className:"cmplz-color-picker-color",style:{backgroundColor:c}}),i)),(0,o.createElement)(L,null,(0,o.createElement)(V,null,(0,o.createElement)(a.default,{colorValue:c,onChangeComplete:(o,r)=>{let a={...e.field.value};a[e.item.fieldname]=o.hex,n(e.field.id,a),t(e.field.id,a)}})))))},B=(0,r.memo)((e=>(0,o.createElement)("div",{className:"cmplz-color-picker-control"},e.field.fields.map(((n,t)=>(0,o.createElement)(W,{key:t,item:n,field:e.field}))))))},88603:(e,n,t)=>{t.r(n),t.d(n,{default:()=>l});var o=t(69307),r=t(58686),a=t(99196);const l=(0,a.memo)((e=>{let{colorValue:n,onChangeComplete:t}=e;const[l,u]=(0,a.useState)(n);return(0,o.createElement)(r.AI,{color:l,onChange:e=>{u(e.hex)},onChangeComplete:t,disableAlpha:!0})}))}}]);