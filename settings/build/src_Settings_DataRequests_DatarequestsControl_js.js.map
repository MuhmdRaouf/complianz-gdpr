{"version":3,"file":"src_Settings_DataRequests_DatarequestsControl_js.js","mappings":"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","sources":["webpack://complianz-gdpr/./src/Settings/DataRequests/DatarequestsControl.js","webpack://complianz-gdpr/./src/Settings/DataRequests/useDatarequestsData.js"],"sourcesContent":["import {useState, useEffect} from \"@wordpress/element\";\nimport { __ } from '@wordpress/i18n';\nimport useDatarequestsData from \"./useDatarequestsData\";\nimport {memo} from \"react\";\nconst progressComponent = () => {\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"cmplz-integrations-placeholder\">\n\t\t\t\t<div></div><div></div><div></div><div></div><div></div><div></div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nconst DatarequestsControl = () => {\n\tconst paginationPerPage = 10;\n\tconst [ pagination, setPagination] = useState({});\n\tconst [ indeterminate, setIndeterminate] = useState(false);\n\tconst [ orderBy, setOrderBy] = useState('ID');\n\tconst [ order, setOrder] = useState('DESC');\n\tconst [ entirePageSelected, setEntirePageSelected ] = useState( false );\n\tconst [timer, setTimer] = useState(null)\n\tconst { records, searchValue, setSearchValue, deleteRecords, recordsLoaded, fetchData,resolveRecords, totalRecords, fetching} = useDatarequestsData();\n\tconst [ btnDisabled, setBtnDisabled ] = useState( '' );\n\tconst [ selectedRecords, setSelectedRecords ] = useState( [] );\n\tconst [DataTable, setDataTable] = useState(null);\n\tuseEffect( () => {\n\t\timport('react-data-table-component').then(({ default: DataTable }) => {\n\t\t\tsetDataTable(() => DataTable);\n\t\t});\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (!recordsLoaded) fetchData(paginationPerPage, 1, orderBy, order);\n\t}, [recordsLoaded])\n\n\tconst customStyles = {\n\t\theadCells: {\n\t\t\tstyle: {\n\t\t\t\tpaddingLeft: '0',\n\t\t\t\tpaddingRight: '0',\n\t\t\t},\n\t\t},\n\t\tcells: {\n\t\t\tstyle: {\n\t\t\t\tpaddingLeft: '0',\n\t\t\t\tpaddingRight: '0',\n\t\t\t},\n\t\t},\n\t};\n\n\tconst onDeleteRecords  = async (ids) => {\n\t\tsetSelectedRecords([]);\n\t\tawait deleteRecords(ids);\n\t}\n\n\tconst handleSelectEntirePage = (e) => {\n\t\tlet selected = e.target.checked;\n\t\tif ( selected ) {\n\t\t\tsetEntirePageSelected(true);\n\t\t\t//add all records on this page to the selectedRecords array\n\t\t\tlet currentPage = pagination.currentPage ? pagination.currentPage : 1;\n\t\t\tlet recordsOnPage = records.slice((currentPage-1) * paginationPerPage, currentPage * paginationPerPage);\n\t\t\tsetSelectedRecords(recordsOnPage.map(record => record.ID));\n\t\t} else {\n\t\t\tsetEntirePageSelected(false);\n\t\t\tsetSelectedRecords([]);\n\t\t}\n\t\tsetIndeterminate(false);\n\t}\n\n\n\n\tconst handleSearch = (search) => {\n\t\tclearTimeout(timer)\n\t\tsetSearchValue(search);\n\n\t\tconst newTimer = setTimeout(() => {\n\t\t\tfetchData(paginationPerPage, 1, orderBy, order);\n\t\t}, 500)\n\n\t\tsetTimer(newTimer)\n\t}\n\tconst handlePerRowsChange = async (newPerPage, page) => {\n\t\tsetPagination({ ...pagination, currentPage: page });\n\t\tfetchData(newPerPage, page, orderBy, order);\n\t};\n\tconst handlePageChange = (page) => {\n\t\tsetPagination({ ...pagination, currentPage: page });\n\t\tfetchData(paginationPerPage, pagination.currentPage, orderBy, order);\n\t};\n\n\tconst handleSort = async (orderBy, order) => {\n\t\tsetOrderBy(orderBy.orderId);\n\t\tsetOrder(order);\n\t\tfetchData(paginationPerPage, pagination.currentPage, orderBy.orderId, order);\n\t};\n\n\tconst onSelectRecord = (e, id) => {\n\t\tlet selected = e.target.checked;\n\t\tlet docs = [...selectedRecords];\n\t\tif (selected) {\n\t\t\tif ( !docs.includes(id) ){\n\t\t\t\tdocs.push(id);\n\t\t\t\tsetSelectedRecords(docs);\n\t\t\t}\n\t\t} else {\n\t\t\t//remove the record from the selected records\n\t\t\tdocs = [...selectedRecords.filter(recordId => recordId!==id)];\n\t\t\tsetSelectedRecords(docs);\n\t\t}\n\t\t//check if all records on this page are selected\n\t\tlet currentPage = pagination.currentPage ? pagination.currentPage : 1;\n\t\tlet recordsOnPage = records.slice((currentPage-1) * paginationPerPage, currentPage * paginationPerPage);\n\t\tlet allSelected = true;\n\t\tlet hasOneSelected = false;\n\t\trecordsOnPage.forEach(record => {\n\t\t\tif ( !docs.includes(record.id) ) {\n\t\t\t\tallSelected = false;\n\t\t\t} else {\n\t\t\t\thasOneSelected = true;\n\t\t\t}\n\t\t});\n\n\t\tif (allSelected) {\n\t\t\tsetEntirePageSelected(true);\n\t\t\tsetIndeterminate(false);\n\t\t} else if (!hasOneSelected) {\n\t\t\tsetIndeterminate(false);\n\t\t} else {\n\t\t\tsetEntirePageSelected(false);\n\t\t\tsetIndeterminate(true);\n\t\t}\n\t}\n\n\tconst columns = [\n\t\t{\n\t\t\tname: <input type=\"checkbox\" className={indeterminate? 'indeterminate' : ''} checked={entirePageSelected} onChange={(e) => handleSelectEntirePage(e)} />,\n\t\t\tselector: row => row.selectControl,\n\t\t\torderId:'select',\n\t\t},\n\t\t{\n\t\t\tname: __('User ID',\"complianz-gdpr\"),\n\t\t\tselector: row => row.ID,\n\t\t\tsortable: true,\n\t\t\torderId:'ID',\n\t\t},\n\t\t{\n\t\t\tname: __('Name',\"complianz-gdpr\"),\n\t\t\tselector: row => row.name,\n\t\t\tsortable: true,\n\t\t\torderId:'name',\n\t\t},\n\t\t{\n\t\t\tname: __('E-mail',\"complianz-gdpr\"),\n\t\t\tselector: row => row.email,\n\t\t\tsortable: true,\n\t\t\torderId:'email',\n\t\t},\n\t\t{\n\t\t\tname: __('Status',\"complianz-gdpr\"),\n\t\t\tselector: row => row.resolved==1 ? __('Resolved',\"complianz-gdpr\") : __('Open',\"complianz-gdpr\"),\n\t\t\tsortable: true,\n\t\t\torderId:'resolved',\n\t\t},\n\t\t{\n\t\t\tname: __('Region',\"complianz-gdpr\"),\n\t\t\tselector: row => row.region ? <img alt=\"region\" width=\"20px\" height=\"20px\" src={cmplz_settings.plugin_url+'assets/images/'+row.region+'.svg'} /> : '',\n\t\t\tsortable: true,\n\t\t},\n\t\t{\n\t\t\tname: __('Date',\"complianz-gdpr\"),\n\t\t\tselector: row => row.request_date,\n\t\t\tsortable: true,\n\t\t},\n\t\t{\n\t\t\tname: __('Data Request',\"complianz-gdpr\"),\n\t\t\tselector: row => row.type ? <a target=\"_blank\" href={\"https://complianz.io/\"+row.type.slug}>{row.type.short}</a> : '',\n\t\t\tsortable: true,\n\t\t\torderId:'resolved',\n\t\t},\n\t];\n\tlet filteredRecords = [...records];\n\n\t//add the controls to the plugins\n\tlet data = [];\n\tfilteredRecords.forEach(record => {\n\t\tlet recordCopy = {...record}\n\t\trecordCopy.selectControl = <input type=\"checkbox\" checked={selectedRecords.includes(recordCopy.ID)} onChange={(e) => onSelectRecord(e,recordCopy.ID )} />\n\t\tdata.push(recordCopy);\n\t});\n\treturn (\n\t\t<>\n\t\t\t<div className=\"cmplz-table-header\">\n\t\t\t\t<div className=\"cmplz-table-header-controls\">\n\t\t\t\t\t<input className=\"cmplz-datatable-search\" type=\"text\" placeholder={__(\"Search\", \"complianz-gdpr\")} value={searchValue} onChange={ ( e ) => handleSearch(e.target.value) } />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{\n\t\t\t\tselectedRecords.length>0 &&\n\t\t\t\t<div className=\"cmplz-selected-document\">\n\t\t\t\t\t{selectedRecords.length>1 && __(\"%s items selected\", \"complianz-gdpr\").replace(\"%s\", selectedRecords.length)}\n\t\t\t\t\t{selectedRecords.length===1 && __(\"1 item selected\", \"complianz-gdpr\")}\n\t\t\t\t\t<div className=\"cmplz-selected-document-controls\">\n\t\t\t\t\t\t{records.filter((record) => {return selectedRecords.includes(record.ID) && record.resolved!=1 }).length>0 && <button disabled={btnDisabled} className=\"button button-default\" onClick={() => resolveRecords(selectedRecords)}>{__(\"Mark as resolved\", \"complianz-gdpr\")}</button> }\n\t\t\t\t\t\t<button className=\"button button-default cmplz-reset-button\" onClick={() => onDeleteRecords(selectedRecords)}>{__(\"Delete\", \"complianz-gdpr\")}</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t}\n\t\t\t{ DataTable && <>\n\t\t\t\t<DataTable\n\t\t\t\t\tcolumns={columns}\n\t\t\t\t\tdata={data}\n\t\t\t\t\tdense\n\t\t\t\t\tprogressPending={fetching}\n\t\t\t\t\tprogressComponent=<progressComponent/>\n\t\t\t\t\tpagination\n\t\t\t\t\tpaginationServer\n\t\t\t\t\tnoDataComponent={<div className=\"cmplz-no-documents\">{__(\"No records\", \"really-simple-ssl\")}</div>}\n\t\t\t\t\tpersistTableHead\n\t\t\t\t\ttheme=\"really-simple-plugins\"\n\t\t\t\t\tcustomStyles={customStyles}\n\t\t\t\t\tpaginationPerPage={paginationPerPage}\n\t\t\t\t\tonChangePage={handlePageChange}\n\t\t\t\t\tpaginationState={pagination}\n\t\t\t\t\tpaginationTotalRows={totalRecords}\n\t\t\t\t\tonChangeRowsPerPage={handlePerRowsChange}\n\t\t\t\t\tonSort={handleSort}\n\t\t\t\t\tsortServer\n\t\t\t\t/></>\n\t\t\t}\n\t\t</>\n\t)\n}\nexport default memo(DatarequestsControl)\n","import {create} from 'zustand';\nimport * as cmplz_api from \"../../utils/api\";\nimport produce from \"immer\";\nconst useDatarequestsData = create(( set, get ) => ({\n\trecordsLoaded: false,\n\tsearchValue: '',\n\tsetSearchValue: (value) => set({searchValue: value}),\n\tfetching:false,\n\tgenerating:false,\n\tprogress:false,\n\trecords: [],\n\ttotalRecords:0,\n\ttotalOpen:0,\n\texportLink: '',\n\tnoData:false,\n\tdeleteRecords: async (ids) => {\n\t\t//get array of records to delete\n\t\tlet deleteRecords = get().records.filter(record => ids.includes(record.ID));\n\t\t//remove the ids from the records array\n\t\tset((state) => ({\n\t\t\trecords: state.records.filter(record => !ids.includes(record.ID)),\n\t\t}));\n\t\tlet data = {};\n\t\tdata.records = deleteRecords;\n\t\tawait cmplz_api.doAction('delete_datarequests', data).then((response) => {\n\t\t\treturn response;\n\t\t}).catch((error) => {\n\t\t\tconsole.error(error);\n\t\t});\n\t},\n\tresolveRecords: async (ids) => {\n\t\t//get array of records to resolve\n\t\tset(\n\t\t\tproduce((state) => {\n\t\t\t\tstate.records.forEach(function(record, i) {\n\t\t\t\t\tif (ids.includes(record.ID) ){\n\t\t\t\t\t\tstate.records[i].resolved = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t})\n\t\t)\n\t\tlet data = {};\n\t\tdata.records = get().records.filter(record => ids.includes(record.ID));\n\t\tawait cmplz_api.doAction('resolve_datarequests', data).then((response) => {\n\t\t\treturn response;\n\t\t}).catch((error) => {\n\t\t\tconsole.error(error);\n\t\t});\n\t},\n\tfetchData: async (perPage, page, orderBy, order ) => {\n\t\tif (get().fetching) return;\n\t\tset({fetching:true});\n\t\tlet data = {}\n\t\tdata.per_page = perPage;\n\t\tdata.page = page;\n\t\tdata.order = order.toUpperCase();\n\t\tdata.orderBy = orderBy;\n\t\tdata.search = get().searchValue;\n\t\tconst { records, totalRecords, totalOpen} = await cmplz_api.doAction('get_datarequests', data).then((response) => {\n\t\t\treturn response;\n\t\t}).catch((error) => {\n\t\t\tconsole.error(error);\n\t\t});\n\n\t\tset(() => ({\n\t\t\trecordsLoaded: true,\n\t\t\trecords: records,\n\t\t\ttotalRecords: totalRecords,\n\t\t\ttotalOpen:totalOpen,\n\t\t\tfetching:false,\n\t\t}));\n\t},\n\tstartExport: async () => {\n\t\tset({\n\t\t\tgenerating: true,\n\t\t\tprogress:0,\n\t\t\texportLink: '',\n\t\t})\n\t},\n\tfetchExportDatarequestsProgress: async (statusOnly, startDate, endDate) => {\n\t\tstatusOnly = typeof statusOnly !== 'undefined' ? statusOnly : false;\n\t\tif (!statusOnly) {\n\t\t\tset({ generating:true });\n\t\t}\n\n\t\tlet data = {};\n\t\tdata.startDate = startDate;\n\t\tdata.endDate = endDate;\n\t\tdata.statusOnly = statusOnly;\n\t\tconst {progress, exportLink, noData} = await cmplz_api.doAction('export_datarequests', data).then((response) => {\n\t\t\treturn response;\n\t\t}).catch((error) => {\n\t\t\tconsole.error(error);\n\t\t});\n\t\tlet generating = false;\n\t\tif (progress<100 ){\n\t\t\tgenerating = true;\n\t\t}\n\t\tset({progress:progress, exportLink:exportLink, generating:generating, noData:noData});\n\n\t},\n}));\n\nexport default useDatarequestsData;\n"],"names":["useState","useEffect","__","useDatarequestsData","memo","progressComponent","createElement","className","DatarequestsControl","paginationPerPage","pagination","setPagination","indeterminate","setIndeterminate","orderBy","setOrderBy","order","setOrder","entirePageSelected","setEntirePageSelected","timer","setTimer","records","searchValue","setSearchValue","deleteRecords","recordsLoaded","fetchData","resolveRecords","totalRecords","fetching","btnDisabled","setBtnDisabled","selectedRecords","setSelectedRecords","DataTable","setDataTable","then","_ref","default","customStyles","headCells","style","paddingLeft","paddingRight","cells","onDeleteRecords","ids","handleSelectEntirePage","e","selected","target","checked","currentPage","recordsOnPage","slice","map","record","ID","handleSearch","search","clearTimeout","newTimer","setTimeout","handlePerRowsChange","newPerPage","page","handlePageChange","handleSort","orderId","onSelectRecord","id","docs","includes","push","filter","recordId","allSelected","hasOneSelected","forEach","columns","name","type","onChange","selector","row","selectControl","sortable","email","resolved","region","alt","width","height","src","cmplz_settings","plugin_url","request_date","href","slug","short","filteredRecords","data","recordCopy","Fragment","placeholder","value","length","replace","disabled","onClick","dense","progressPending","paginationServer","noDataComponent","persistTableHead","theme","onChangePage","paginationState","paginationTotalRows","onChangeRowsPerPage","onSort","sortServer","create","cmplz_api","produce","set","get","generating","progress","totalOpen","exportLink","noData","state","doAction","response","catch","error","console","i","perPage","per_page","toUpperCase","startExport","fetchExportDatarequestsProgress","statusOnly","startDate","endDate"],"sourceRoot":""}