{"version":3,"file":"src_Settings_Editor_Editor_js.js","mappings":";;;;;;;;;;;;;;;;;;;AAAkD;AACO;AAEzD,IAAII,oBAAoB;AACxB,MAAMC,aAAa,GAAG;EACrBC,OAAO,EAAE,CAAC,sBAAsB,EAAE,oBAAoB,EAAE,iBAAiB,CAAC;EAC1EC,oBAAoB,EAAE,CACrB;IAAEC,KAAK,EAAE,MAAM;IAAEC,KAAK,EAAE,MAAM;IAAEC,SAAS,EAAE;EAAmB,CAAC,EAC/D;IAAEF,KAAK,EAAE,QAAQ;IAAEC,KAAK,EAAE;EAAS,CAAC,EACpC;IAAED,KAAK,EAAE,WAAW;IAAEC,KAAK,EAAE;EAAY,CAAC,CAC1C;EACDE,kBAAkB,EAAE,CACnB;IAAEH,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAsB,CAAC,EAC7C;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAoB,CAAC;AAE7C,CAAC;AAED,MAAMG,MAAM,GAAGC,IAAA,IAA6B;EAAA,IAA5B;IAAEC,KAAK;IAAEC,KAAK;IAAEP;EAAM,CAAC,GAAAK,IAAA;EACtC,MAAM,CAACG,WAAW,EAAEC,cAAc,CAAC,GAAGjB,+CAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAACkB,cAAc,EAAEC,eAAe,CAAC,GAAGnB,+CAAQ,CAAC,KAAK,CAAC;EAEzDC,gDAAS,CAAC,MAAM;IACf,kNAAmB,CAACmB,IAAI,CAACC,KAAA,IAA2C;MAAA,IAA1C;QAACC,OAAO,EAAEC;MAA0B,CAAC,GAAAF,KAAA;MAC9DjB,oBAAoB,GAAGmB,0BAA0B;MACjDN,cAAc,CAACM,0BAA0B,CAACC,qBAAqB,CAACV,KAAK,EAAE,MAAM,CAAC,CAAC;MAC/EK,eAAe,CAAC,IAAI,CAAC;IACtB,CAAC,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,MAAM;IAACM,aAAa;IAAEC,WAAW;IAAEC;EAAe,CAAC,GAAGxB,uEAAS,CAAC,CAAC;EAEjEF,gDAAS,CAAC,MAAM;IACf,IAAIiB,cAAc,EAAE;MACnBD,cAAc,CAACb,oBAAoB,CAACoB,qBAAqB,CAACV,KAAK,EAAE,MAAM,CAAC,CAAC;IAC1E;EACD,CAAC,EAAE,CAACW,aAAa,EAAEP,cAAc,CAAC,CAAC;EAEnCjB,gDAAS,CAAC,MAAM;IACf0B,eAAe,CAACZ,KAAK,CAACa,EAAE,EAAEd,KAAK,CAAC;EACjC,CAAC,EAAE,EAAE,CAAC;EAEN,SAASe,mBAAmBA,CAACC,WAAW,EAAE;IACzCb,cAAc,CAACa,WAAW,CAAC;IAC3BJ,WAAW,CAACX,KAAK,CAACa,EAAE,EAAEE,WAAW,CAACC,QAAQ,CAAC,MAAM,CAAC,CAAC;EACpD;EAEA,IAAI,CAACb,cAAc,EAAE;IACpB,OAAO,IAAI,CAAC,CAAE;EACf;;EAEA,OACEc,iEAAA,CAAC5B,oBAAoB;IACpBU,KAAK,EAAEE,WAAY;IACnBiB,QAAQ,EAAEJ,mBAAoB;IAC9BxB,aAAa,EAAEA;EAAc,CAC7B,CAAC;AAEL,CAAC;AAED,iEAAeH,2CAAI,CAACU,MAAM,CAAC","sources":["webpack://complianz-gdpr/./src/Settings/Editor/Editor.js"],"sourcesContent":["import { useState, useEffect, memo } from 'react';\nimport useFields from \"../../Settings/Fields/FieldsData\";\n\nlet SimpleRichTextEditor;\nconst toolbarConfig = {\n\tdisplay: ['INLINE_STYLE_BUTTONS', 'BLOCK_TYPE_BUTTONS', 'HISTORY_BUTTONS'],\n\tINLINE_STYLE_BUTTONS: [\n\t\t{ label: 'Bold', style: 'BOLD', className: 'custom-css-class' },\n\t\t{ label: 'Italic', style: 'ITALIC' },\n\t\t{ label: 'Underline', style: 'UNDERLINE' },\n\t],\n\tBLOCK_TYPE_BUTTONS: [\n\t\t{ label: 'UL', style: 'unordered-list-item' },\n\t\t{ label: 'OL', style: 'ordered-list-item' },\n\t],\n}\n\nconst Editor = ({ value, field, label }) => {\n\tconst [editorState, setEditorState] = useState(null);\n\tconst [isEditorLoaded, setEditorLoaded] = useState(false);\n\n\tuseEffect(() => {\n\t\timport('react-rte').then(({default: loadedSimpleRichTextEditor}) => {\n\t\t\tSimpleRichTextEditor = loadedSimpleRichTextEditor;\n\t\t\tsetEditorState(loadedSimpleRichTextEditor.createValueFromString(value, 'html'));\n\t\t\tsetEditorLoaded(true);\n\t\t});\n\t}, []);\n\n\tconst {changedFields, updateField, setChangedField} = useFields();\n\n\tuseEffect(() => {\n\t\tif (isEditorLoaded) {\n\t\t\tsetEditorState(SimpleRichTextEditor.createValueFromString(value, 'html'));\n\t\t}\n\t}, [changedFields, isEditorLoaded]);\n\n\tuseEffect(() => {\n\t\tsetChangedField(field.id, value);\n\t}, [])\n\n\tfunction editorChangeHandler(editorValue) {\n\t\tsetEditorState(editorValue)\n\t\tupdateField(field.id, editorValue.toString('html'));\n\t}\n\n\tif (!isEditorLoaded) {\n\t\treturn null;  // or return a loader\n\t}\n\n\treturn (\n\t\t\t<SimpleRichTextEditor\n\t\t\t\tvalue={editorState}\n\t\t\t\tonChange={editorChangeHandler}\n\t\t\t\ttoolbarConfig={toolbarConfig}\n\t\t\t/>\n\t)\n}\n\nexport default memo(Editor);\n"],"names":["useState","useEffect","memo","useFields","SimpleRichTextEditor","toolbarConfig","display","INLINE_STYLE_BUTTONS","label","style","className","BLOCK_TYPE_BUTTONS","Editor","_ref","value","field","editorState","setEditorState","isEditorLoaded","setEditorLoaded","then","_ref2","default","loadedSimpleRichTextEditor","createValueFromString","changedFields","updateField","setChangedField","id","editorChangeHandler","editorValue","toString","createElement","onChange"],"sourceRoot":""}