"use strict";(globalThis.webpackChunkcomplianz_gdpr=globalThis.webpackChunkcomplianz_gdpr||[]).push([[1234],{81234:(e,t,l)=>{l.r(t),l.d(t,{default:()=>i});var a=l(69307),n=l(1434),o=l(65736),u=l(48399),r=l(37839),c=l(43684),d=l(99196),m=l(56293);const i=(0,d.memo)((e=>{let{id:t,value:l,options:d,defaultValue:i,disabled:s}=e;const[p,g]=(0,a.useState)(!1),[_,h]=(0,a.useState)(""),[v,y]=(0,a.useState)([]),[E,f]=(0,a.useState)(!1),[b,k]=(0,a.useState)(!1),[z,T]=(0,a.useState)(null),A=(0,a.useRef)(l),{updateField:C,setChangedField:F}=(0,m.default)(),S=e=>{let a=A.current!==l||e;if("custom"!==l||E||(A.current=l,a&&x(!1)),"url"===l&&!b){let e={};A.current=l,e.type=t,u.doAction("get_custom_legal_document_url",e).then((e=>{h(e.pageUrl),k(!0)}))}};(0,a.useEffect)((()=>{d.map((e=>e.value)).includes(l)||C(t,i),S(!0)}),[]),(0,r.Z)((()=>{S(!1)}));const x=e=>{let l={};return l.type=t,l.search=e,u.doAction("get_pages_list",l).then((e=>{let t=e.pages.filter((function(t){return t.value===e.pageId}));return g(t),f(!0),y(e.pages),e.pages}))};return(0,a.createElement)(a.Fragment,null,d.map(((e,n)=>(0,a.createElement)("div",{key:"container_"+n,className:"components-radio-control__option"},(0,a.createElement)("input",{type:"radio",disabled:Array.isArray(s)&&-1!=s.indexOf(e.value),checked:l==e.value,key:n,index:n,onChange:l=>(e=>{C(t,e),F(t,e)})(e.value)}),(0,a.createElement)("label",{key:"label_"+n,htmlFor:e.value,index:n},e.label)))),"custom"===l&&!E&&(0,a.createElement)("div",{className:"cmplz-documents-loader"},(0,a.createElement)("div",null,(0,a.createElement)(c.default,{name:"loading",color:"grey"})),(0,a.createElement)("div",null,(0,o.__)("Loading...","complianz-gdpr"))),"custom"===l&&E&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)(n.Z,{label:(0,o.__)("Link to custom page","complianz-gdpr"),defaultOptions:v,loadOptions:e=>new Promise((t=>{setTimeout((()=>{t(x(e))}),1e3)})),menuPortalTarget:document.body,menuPosition:"fixed",placeholder:(0,o.__)("Type at least two characters"),onChange:e=>(e=>{let l={};l.pageId=e.value,l.type=t,g(e),u.doAction("update_custom_legal_document_id",l).then((e=>{}))})(e),value:p})),"url"===l&&!b&&(0,a.createElement)("div",{className:"cmplz-documents-loader"},(0,a.createElement)("div",null,(0,a.createElement)(c.default,{name:"loading",color:"grey"})),(0,a.createElement)("div",null,(0,o.__)("Loading...","complianz-gdpr"))),"url"===l&&b&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)("input",{type:"text",value:_,onChange:e=>{let l={},a=e.target.value;l.pageUrl=a,l.type=t,h(a),clearTimeout(z);const n=setTimeout((()=>{u.doAction("update_custom_legal_document_url",l).then((e=>{}))}),500);T(n)},placeholder:"https://domain.com/your-policy"})))}))}}]);