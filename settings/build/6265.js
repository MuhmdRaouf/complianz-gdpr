"use strict";(globalThis.webpackChunkcomplianz_gdpr=globalThis.webpackChunkcomplianz_gdpr||[]).push([[6265,8189,5927,4573],{68189:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});var l=a(69307),o=a(43684),c=a(65736),n=a(34573),i=a(99057),r=a(56293);const s=e=>{const{getFieldValue:t,showSavedSettingsNotice:a}=(0,r.default)(),{saving:o,purposesOptions:n,services:s,updateCookie:d,toggleDeleteCookie:m,saveCookie:p}=(0,i.UseSyncData)();let _="yes"===t("use_cdb_api"),u=!!_&&1==e.sync,g=u;o&&(g=!0);let k=!1;e.slug.length>0&&(k="https://cookiedatabase.org/cookie/"+(e.service?e.service:"unknown-service")+"/"+e.slug);const h=(e,t,a)=>{d(t,a,e.target.value)},v=(e,t,a)=>{d(t,a,e.target.checked)};let b=-1!==e.name.indexOf("cmplz_")||u,E=1!=e.deleted?"cmplz-reset-button":"";return(0,l.createElement)(l.Fragment,null,(0,l.createElement)("div",{className:"cmplz-details-row cmplz-details-row__checkbox"},(0,l.createElement)("label",null,(0,c.__)("Sync cookie with cookiedatabase.org","complianz-gdpr")),(0,l.createElement)("input",{disabled:!_,onChange:t=>v(t,e.ID,"sync"),type:"checkbox",checked:u})),(0,l.createElement)("div",{className:"cmplz-details-row cmplz-details-row__checkbox"},(0,l.createElement)("label",null,(0,c.__)("Show cookie on Cookie Policy","complianz-gdpr")),(0,l.createElement)("input",{disabled:g,onChange:t=>v(t,e.ID,"showOnPolicy"),type:"checkbox",checked:e.showOnPolicy})),(0,l.createElement)("div",{className:"cmplz-details-row"},(0,l.createElement)("label",null,(0,c.__)("Name","complianz-gdpr")),(0,l.createElement)("input",{disabled:g,onChange:t=>h(t,e.ID,"name"),type:"text",placeholder:(0,c.__)("Name","complianz-gdpr"),value:e.name})),(0,l.createElement)("div",{className:"cmplz-details-row"},(0,l.createElement)("label",null,(0,c.__)("Service","complianz-gdpr")),(0,l.createElement)("select",{disabled:g,onChange:t=>h(t,e.ID,"serviceID"),value:e.serviceID},(0,l.createElement)("option",{key:-1,value:0},(0,c.__)("Select a service","complianz-gdpr")),s.map(((e,t)=>(0,l.createElement)("option",{key:t,value:e.ID},e.name))))),(0,l.createElement)("div",{className:"cmplz-details-row"},(0,l.createElement)("label",null,(0,c.__)("Expiration","complianz-gdpr")),(0,l.createElement)("input",{disabled:b,onChange:t=>h(t,e.ID,"retention"),type:"text",placeholder:(0,c.__)("1 year","complianz-gdpr"),value:e.retention})),(0,l.createElement)("div",{className:"cmplz-details-row"},(0,l.createElement)("label",null,(0,c.__)("Cookie function","complianz-gdpr")),(0,l.createElement)("input",{disabled:g,onChange:t=>h(t,e.ID,"cookieFunction"),type:"text",placeholder:(0,c.__)("e.g. store user ID","complianz-gdpr"),value:e.cookieFunction})),(0,l.createElement)("div",{className:"cmplz-details-row"},(0,l.createElement)("label",null,(0,c.__)("Purpose","complianz-gdpr")),(0,l.createElement)("select",{disabled:g,onChange:t=>h(t,e.ID,"purpose"),value:e.purpose},(0,l.createElement)("option",{key:-1,value:0},(0,c.__)("Select a purpose","complianz-gdpr")),n.map(((e,t)=>(0,l.createElement)("option",{key:t,value:e.name},e.name))))),k&&(0,l.createElement)("div",{className:"cmplz-details-row"},(0,l.createElement)("a",{href:k,target:"_blank"},(0,c.__)("View cookie on cookiedatabase.org","complianz-gdpr"))),(0,l.createElement)("div",{className:"cmplz-details-row cmplz-details-row__buttons"},(0,l.createElement)("button",{disabled:o,onClick:t=>(async e=>{await p(e),a((0,c.__)("Saved cookie","complianz-gd[r"))})(e.ID),className:"button button-default"},(0,c.__)("Save","complianz-gdpr")),(0,l.createElement)("button",{className:"button button-default "+E,onClick:t=>(async e=>{await m(e)})(e.ID)},1==e.deleted&&(0,c.__)("Restore","complianz-gdpr"),1!=e.deleted&&(0,c.__)("Delete","complianz-gdpr"))))},d=e=>{let t="";1==e.cookie.deleted?t=" | "+(0,c.__)("Deleted","complianz-gdpr"):e.cookie.showOnPolicy?e.cookie.isMembersOnly&&(t=" | "+(0,c.__)("Logged in users only, ignored","complianz-gdpr")):t=" | "+(0,c.__)("Admin, ignored","complianz-gdpr");let a=e.cookie.name;return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(n.default,{summary:a,comment:t,icons:(0,l.createElement)(l.Fragment,null,e.cookie.complete&&(0,l.createElement)(o.default,{tooltip:(0,c.__)("The data for this cookie is complete","complianz-gdpr"),name:"success",color:"green"}),!e.cookie.complete&&(0,l.createElement)(o.default,{tooltip:(0,c.__)("This cookie has missing fields","complianz-gdpr"),name:"times",color:"red"}),e.cookie.sync&&e.cookie.synced&&(0,l.createElement)(o.default,{tooltip:(0,c.__)("This cookie has been synchronized with cookiedatabase.org.","complianz-gdpr"),name:"rotate",color:"green"}),!e.cookie.synced||!e.cookie.sync&&(0,l.createElement)(o.default,{tooltip:(0,c.__)("This cookie is not synchronized with cookiedatabase.org.","complianz-gdpr"),name:"rotate-error",color:"red"}),e.cookie.showOnPolicy&&(0,l.createElement)(o.default,{tooltip:(0,c.__)("This cookie will be on your Cookie Policy","complianz-gdpr"),name:"file",color:"green"}),!e.cookie.showOnPolicy&&(0,l.createElement)(o.default,{tooltip:(0,c.__)("This cookie is not shown on the Cookie Policy","complianz-gdpr"),name:"file-disabled",color:"grey"}),e.cookie.old&&(0,l.createElement)(o.default,{tooltip:(0,c.__)("This cookie has not been detected on your site in the last three months","complianz-gdpr"),name:"calendar-error",color:"red"}),!e.cookie.old&&(0,l.createElement)(o.default,{tooltip:(0,c.__)("This cookie has recently been detected","complianz-gdpr"),name:"calendar",color:"green"})),details:s(e.cookie),style:(()=>{if(1==e.cookie.deleted)return Object.assign({},{backgroundColor:"var(--rsp-red-faded)"})})()}))}},36265:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});var l=a(69307),o=a(99057),c=a(45927),n=a(65736),i=a(56293);const r=(0,a(99196).memo)((()=>{const{buildServicesCookiesArray:e,setShowDeletedCookies:t,servicesAndCookies:a,syncDataLoaded:r,loadingSyncData:s,language:d,setLanguage:m,languages:p,cookies:_,addCookie:u,addService:g,services:k,syncProgress:h,curlExists:v,hasSyncableData:b,setSyncProgress:E,restart:y,fetchSyncProgressData:z,errorMessage:f}=(0,o.UseSyncData)(),{addHelpNotice:w,getFieldValue:C}=(0,i.default)(),[N,S]=(0,l.useState)(!1);return(0,l.useEffect)((()=>{!s&&h<100&&z()}),[h]),(0,l.useEffect)((()=>{if("yes"!==C("use_cdb_api")){S(!0);let e=(0,n.__)("You have opted out of the use of the Cookiedatabase.org synchronisation.","complianz-gdpr");w("cookiedatabase_sync","warning",e,(0,n.__)("Cookiedatabase","complianz-gdpr"))}}),[]),(0,l.useEffect)((()=>{if(!v){S(!0);let e=(0,n.__)("CURL is not enabled on your site, which is required for the Cookiedatabase sync to function.","complianz-gdpr");w("cookiedatabase_sync","warning",e,(0,n.__)("Cookiedatabase","complianz-gdpr"))}}),[v]),(0,l.useEffect)((()=>{if("yes"!==C("use_cdb_api")){S(!0);let e=(0,n.__)("You have opted out of the use of the Cookiedatabase.org synchronisation.","complianz-gdpr");w("cookiedatabase_sync","warning",e,(0,n.__)("Cookiedatabase","complianz-gdpr"))}}),[C("use_cdb_api")]),(0,l.useEffect)((()=>{""!==f&&(S(!0),w("cookiedatabase_sync","warning",f,(0,n.__)("Cookiedatabase","complianz-gdpr")))}),[f]),(0,l.useEffect)((()=>{if(!b){S(!0);let e=(0,n.__)("Synchronization disabled: All detected cookies and services have been synchronised.","complianz-gdpr");w("cookiedatabase_sync","warning",e,(0,n.__)("Cookiedatabase","complianz-gdpr"))}h<100&&h>0&&S(!0)}),[h,b]),(0,l.useEffect)((()=>{if(!b){S(!0);let e=(0,n.__)("Synchronization disabled: All detected cookies and services have been synchronised.","complianz-gdpr");w("cookiedatabase_sync","warning",e,(0,n.__)("Cookiedatabase","complianz-gdpr"))}}),[b]),(0,l.useEffect)((()=>{h<100&&h>0&&S(!0)}),[h]),(0,l.useEffect)((()=>{if(r&&0===a.length){let e=(0,n.__)("No cookies have been found currently. Please try another cookie scan, or check the most common causes in the article below ","complianz-gdpr");w("cookiedatabase_sync","warning",e,(0,n.__)("No cookies found","complianz-gdpr"),"https://complianz.io/cookie-scan-results/")}}),[a,r]),(0,l.useEffect)((()=>{e()}),[k,_]),(0,l.createElement)(l.Fragment,null,(0,l.createElement)("div",{className:"cmplz-cookiedatabase-controls"},(0,l.createElement)("button",{disabled:N,className:"button button-default",onClick:e=>(E(1),void y())},(0,n.__)("Sync","complianz-gdpr")),p.length>1&&(0,l.createElement)("select",{value:d,onChange:e=>m(e.target.value)},p.map(((e,t)=>(0,l.createElement)("option",{key:t,value:e},e)))),(0,l.createElement)("label",null,(0,n.__)("Show deleted cookies","complianz-gdpr"),(0,l.createElement)("input",{type:"checkbox",onClick:e=>t(e.target.checked)}))),(0,l.createElement)("div",{id:"cmplz-scan-progress"},(0,l.createElement)("div",{className:"cmplz-progress-bar",style:Object.assign({},{width:h+"%"})})),(0,l.createElement)("div",{className:"cmplz-panel__list"},a.map(((e,t)=>(0,l.createElement)(c.default,{key:t,addCookie:u,id:e.id,cookies:e.cookies,name:e.name,service:e.service})))),(0,l.createElement)("div",{className:"cmplz-panel__buttons"},(0,l.createElement)("button",{disabled:s,onClick:e=>{g()},className:"button button-default"},(0,n.__)("Add service","complianz-gdpr"))))}))},45927:(e,t,a)=>{a.r(t),a.d(t,{default:()=>m});var l=a(69307),o=a(68189),c=a(34573),n=a(99057),i=a(65736),r=a(43684),s=a(56293);const d=e=>{const{getFieldValue:t,showSavedSettingsNotice:a}=(0,s.default)(),{saving:o,deleteService:c,serviceTypeOptions:r,updateService:d,saveService:m}=(0,n.UseSyncData)();let p="yes"===t("use_cdb_api");if(!e)return(0,l.createElement)(l.Fragment,null);let _=!!p&&1==e.sync,u=_;o&&(u=!0);let g=!1;e.slug.length>0&&(g="https://cookiedatabase.org/service/"+e.slug);const k=(e,t,a)=>{d(t,a,e.target.value)},h=(e,t,a)=>{d(t,a,e.target.checked)};return(0,l.createElement)(l.Fragment,null,(0,l.createElement)("div",{className:"cmplz-details-row cmplz-details-row__checkbox"},(0,l.createElement)("label",null,(0,i.__)("Data is shared with this service","complianz-gdpr")),(0,l.createElement)("input",{disabled:u,onChange:t=>h(t,e.ID,"thirdParty"),type:"checkbox",checked:e.thirdParty})),(0,l.createElement)("div",{className:"cmplz-details-row cmplz-details-row__checkbox"},(0,l.createElement)("label",null,(0,i.__)("Sync service with cookiedatabase.org","complianz-gdpr")),(0,l.createElement)("input",{disabled:!p,onChange:t=>h(t,e.ID,"sync"),type:"checkbox",checked:_})),(0,l.createElement)("div",{className:"cmplz-details-row"},(0,l.createElement)("label",null,(0,i.__)("Name","complianz-gdpr")),(0,l.createElement)("input",{disabled:u,onChange:t=>k(t,e.ID,"name"),type:"text",placeholder:(0,i.__)("Name","complianz-gdpr"),value:e.name})),(0,l.createElement)("div",{className:"cmplz-details-row"},(0,l.createElement)("label",null,(0,i.__)("Service Types","complianz-gdpr")),(0,l.createElement)("select",{disabled:u,onChange:t=>k(t,e.ID,"serviceType"),value:e.serviceType},(0,l.createElement)("option",{key:-1,value:0},(0,i.__)("Select a service","complianz-gdpr")),r.map(((e,t)=>(0,l.createElement)("option",{key:t,value:e.name},e.name))))),(0,l.createElement)("div",{className:"cmplz-details-row"},(0,l.createElement)("label",null,(0,i.__)("Privacy Statement URL","complianz-gdpr")),(0,l.createElement)("input",{disabled:u,onChange:t=>k(t,e.ID,"privacyStatementURL"),type:"text",placeholder:(0,i.__)("https://domain.com/privacy","complianz-gdpr"),value:e.privacyStatementURL})),g&&(0,l.createElement)("div",{className:"cmplz-details-row"},(0,l.createElement)("a",{href:g,target:"_blank"},(0,i.__)("View service on cookiedatabase.org","complianz-gdpr"))),(0,l.createElement)("div",{className:"cmplz-details-row cmplz-details-row__buttons"},(0,l.createElement)("button",{disabled:o,onClick:t=>(async e=>{await m(e),a((0,i.__)("Saved service","complianz-gd[r"))})(e.ID),className:"button button-default"},(0,i.__)("Save","complianz-gdpr")),(0,l.createElement)("button",{className:"button button-default cmplz-reset-button",onClick:t=>(async e=>{await c(e)})(e.ID)},(0,i.__)("Delete Service","complianz-gdpr"))))},m=e=>(0,l.createElement)(l.Fragment,null,(0,l.createElement)(c.default,{summary:e.name,icons:e.service?(0,l.createElement)(l.Fragment,null,e.service.complete&&(0,l.createElement)(r.default,{tooltip:(0,i.__)("The data for this service is complete","complianz-gdpr"),name:"success",color:"green"}),!e.service.complete&&(0,l.createElement)(r.default,{tooltip:(0,i.__)("This service has missing fields","complianz-gdpr"),name:"times",color:"red"}),e.service.synced&&(0,l.createElement)(r.default,{tooltip:(0,i.__)("This service has been synchronized with cookiedatabase.org","complianz-gdpr"),name:"rotate",color:"green"}),!e.service.synced&&(0,l.createElement)(r.default,{tooltip:(0,i.__)("This service is not synchronized with cookiedatabase.org","complianz-gdpr"),name:"rotate-error",color:"red"})):(0,l.createElement)(l.Fragment,null),details:(0,l.createElement)(l.Fragment,null,(0,l.createElement)("div",null,d(e.service)),e.cookies&&e.cookies.length>0&&(0,l.createElement)("div",{className:"cmplz-panel__cookie_list"},e.cookies.map(((e,t)=>(0,l.createElement)(o.default,{key:t,cookie:e})))),e.service&&e.service.ID>0&&e.service.hasOwnProperty("name")&&(0,l.createElement)("div",null,(0,l.createElement)("button",{onClick:t=>{return a=e.service.ID,l=e.service.name,void e.addCookie(a,l);var a,l},className:"button button-default"},(0,i.__)("Add cookie to %s","complianz-gdpr").replace("%s",e.service.name))))}))},34573:(e,t,a)=>{a.r(t),a.d(t,{default:()=>c});var l=a(69307),o=a(43684);const c=e=>(0,l.createElement)(l.Fragment,null,(0,l.createElement)("div",{className:"cmplz-panel__list__item",key:e.id,style:e.style?e.style:{}},(0,l.createElement)("details",null,(0,l.createElement)("summary",null,(0,l.createElement)("div",{className:"cmplz-panel__list__item__title"},e.summary),(0,l.createElement)("div",{className:"cmplz-panel__list__item__comment"},e.comment),(0,l.createElement)("div",{className:"cmplz-panel__list__item__icons"},e.icons),(0,l.createElement)(o.default,{name:"chevron-down",size:18})),(0,l.createElement)("div",{className:"cmplz-panel__list__item__details"},e.details))))}}]);