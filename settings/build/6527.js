"use strict";(globalThis.webpackChunkcomplianz_gdpr=globalThis.webpackChunkcomplianz_gdpr||[]).push([[6527],{26527:(e,t,l)=>{l.r(t),l.d(t,{default:()=>r});var n=l(69307),a=l(55609),o=l(43684),i=l(65736);const r=e=>{const[t,l]=(0,n.useState)(!1),[r,c]=(0,n.useState)(!1),[s,p]=(0,n.useState)(!1);(0,n.useEffect)((()=>{let t=e.options;if(0===t.length){let l={label:(0,i.__)("Generate a %s","complianz-gdpr").replace("%s",e.name),value:0};t.unshift(l)}else if(!t.filter((e=>0===e.value)).length>0){let l={label:(0,i.__)("Select a %s","complianz-gdpr").replace("%s",e.name),value:0};t.unshift(l)}p(t)}),[e.options]);const u=()=>{if(r)return;c(!0);let e=new XMLHttpRequest;e.responseType="blob",e.open("get",t,!0),e.send(),e.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=window.URL.createObjectURL(this.response),l=window.document.createElement("a");l.setAttribute("href",e),l.setAttribute("download",s.filter((e=>e.value===t))[0].label),window.document.body.appendChild(l),l.click(),setTimeout((function(){window.URL.revokeObjectURL(e)}),6e4)}},e.onprogress=function(e){c(!0)}};return(0,n.createElement)("div",{className:"cmplz-single-document-other-documents"},(0,n.createElement)(a.SelectControl,{onChange:e=>l(e),value:t,options:s}),(0,n.createElement)("div",{onClick:()=>u()},(0,n.createElement)(o.default,{name:"file-download",color:0==t||r?"grey":"black",tooltip:(0,i.__)("Download file","complianz-gdpr"),size:14})),s.length>0&&(0,n.createElement)("a",{href:e.link},(0,n.createElement)(o.default,{name:"circle-chevron-right",color:"black",tooltip:(0,i.__)("Go to overview","complianz-gdpr"),size:14})),0===s.length&&(0,n.createElement)("a",{href:e.link},(0,n.createElement)(o.default,{name:"plus",color:"black",tooltip:(0,i.__)("Create new","complianz-gdpr"),size:14})))}}}]);