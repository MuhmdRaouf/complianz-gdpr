"use strict";(self.webpackChunkcomplianz_gdpr=self.webpackChunkcomplianz_gdpr||[]).push([[382,881],{80881:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var r=n(69307),a=n(99196),c=n(48399),o=n(56293),s=n(82485),l=n(55609);const u=(0,a.memo)((e=>{let{type:t="action",style:n="tertiary",label:u,onClick:i,href:d="",target:m="",disabled:p,action:f,field:b,children:h}=e;if(!u&&!h)return null;const k=(b&&b.button_text?b.button_text:u)||h,{fetchFieldsData:v,showSavedSettingsNotice:E}=(0,o.default)(),{selectedSubMenuItem:y}=(0,s.default)(),[N,g]=(0,a.useState)(!1),_=`button cmplz-button button--${n} button-${t}`,C=async e=>{await c.doAction(b.action,{}).then((e=>{e.success&&(v(y),E(e.message))}))},w=b&&b.warn?b.warn:"";return"action"===t?(0,r.createElement)(r.Fragment,null,(0,r.createElement)(l.__experimentalConfirmDialog,{isOpen:N,onConfirm:async()=>{g(!1),await C()},onCancel:()=>{g(!1)}},w),(0,r.createElement)("button",{className:_,onClick:async e=>{"action"===t&&i?i(e):"action"===t&&f?b&&b.warn?g(!0):await C():window.location.href=b.url},disabled:p},k)):"link"===t?(0,r.createElement)("a",{className:_,href:d,target:m},k):void 0}))},382:(e,t,n)=>{n.r(t),n.d(t,{default:()=>A});var r=n(69307),a=n(87462),c=n(99196),o=n(28771),s=n(25360),l=n(36206),u=n(77342),i=n(57898),d=n(7546),m=n(29115),p=n(75320);const f="Checkbox",[b,h]=(0,s.b)(f),[k,v]=b(f),E=(0,c.forwardRef)(((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:d,disabled:m,value:f="on",onCheckedChange:b,...h}=e,[v,E]=(0,c.useState)(null),_=(0,o.e)(t,(e=>E(e))),C=(0,c.useRef)(!1),w=!v||Boolean(v.closest("form")),[O=!1,x]=(0,u.T)({prop:s,defaultProp:i,onChange:b}),A=(0,c.useRef)(O);return(0,c.useEffect)((()=>{const e=null==v?void 0:v.form;if(e){const t=()=>x(A.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}}),[v,x]),(0,c.createElement)(k,{scope:n,state:O,disabled:m},(0,c.createElement)(p.WV.button,(0,a.Z)({type:"button",role:"checkbox","aria-checked":N(O)?"mixed":O,"aria-required":d,"data-state":g(O),"data-disabled":m?"":void 0,disabled:m,value:f},h,{ref:_,onKeyDown:(0,l.M)(e.onKeyDown,(e=>{"Enter"===e.key&&e.preventDefault()})),onClick:(0,l.M)(e.onClick,(e=>{x((e=>!!N(e)||!e)),w&&(C.current=e.isPropagationStopped(),C.current||e.stopPropagation())}))})),w&&(0,c.createElement)(y,{control:v,bubbles:!C.current,name:r,value:f,checked:O,required:d,disabled:m,style:{transform:"translateX(-100%)"}}))})),y=e=>{const{control:t,checked:n,bubbles:r=!0,...o}=e,s=(0,c.useRef)(null),l=(0,i.D)(n),u=(0,d.t)(t);return(0,c.useEffect)((()=>{const e=s.current,t=window.HTMLInputElement.prototype,a=Object.getOwnPropertyDescriptor(t,"checked").set;if(l!==n&&a){const t=new Event("click",{bubbles:r});e.indeterminate=N(n),a.call(e,!N(n)&&n),e.dispatchEvent(t)}}),[l,n,r]),(0,c.createElement)("input",(0,a.Z)({type:"checkbox","aria-hidden":!0,defaultChecked:!N(n)&&n},o,{tabIndex:-1,ref:s,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function N(e){return"indeterminate"===e}function g(e){return N(e)?"indeterminate":e?"checked":"unchecked"}const _=E,C=(0,c.forwardRef)(((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...o}=e,s=v("CheckboxIndicator",n);return(0,c.createElement)(m.z,{present:r||N(s.state)||!0===s.state},(0,c.createElement)(p.WV.span,(0,a.Z)({"data-state":g(s.state),"data-disabled":s.disabled?"":void 0},o,{ref:t,style:{pointerEvents:"none",...e.style}})))}));var w=n(65736),O=n(20384),x=n(80881);const A=(0,c.memo)((e=>{let{indeterminate:t,label:n,value:a,id:o,onChange:s,required:l,disabled:u,options:i={}}=e,d=a;Array.isArray(d)||(d=""===d?[]:[d]),t&&(a=!0);const m=d,[p,f]=(0,c.useState)(!1);let b=!1;Object.keys(i).length>10&&(b=!0);const h=e=>m.includes(e),k=()=>{f(!p)};let v=u&&!Array.isArray(u);return(0,r.createElement)("div",{className:"cmplz-checkbox-group"},Object.entries(i).map(((e,c)=>{let[d,f]=e;return(0,r.createElement)("div",{key:d,className:"cmplz-checkbox-group__item"+(!p&&c>10?" cmplz-hidden":"")},(0,r.createElement)(_,{className:"cmplz-checkbox-group__checkbox",id:o+"_"+d,checked:1===Object.keys(i).length?a:h(d),"aria-label":n,disabled:v||Array.isArray(u)&&u.includes(d),required:l,onCheckedChange:e=>((e,t)=>{if(1===Object.keys(i).length)s(!a);else{const e=m.includes(t)?m.filter((e=>e!==t)):[...m,t];s(e)}})(0,d)},(0,r.createElement)(C,{className:"cmplz-checkbox-group__indicator"},(0,r.createElement)(O.default,{name:t?"indeterminate":"check",size:14,color:"dark-blue"}))),(0,r.createElement)("label",{className:"cmplz-checkbox-group__label",htmlFor:o+"_"+d},f))})),!p&&b&&(0,r.createElement)(x.default,{onClick:k},(0,w.__)("Show more","complianz-gdpr")),p&&b&&(0,r.createElement)(x.default,{onClick:k},(0,w.__)("Show less","complianz-gdpr")))}))},29115:(e,t,n)=>{n.d(t,{z:()=>s});var r=n(99196),a=n(91850),c=n(28771),o=n(9981);const s=e=>{const{present:t,children:n}=e,s=function(e){const[t,n]=(0,r.useState)(),c=(0,r.useRef)({}),s=(0,r.useRef)(e),u=(0,r.useRef)("none"),i=e?"mounted":"unmounted",[d,m]=function(e,t){return(0,r.useReducer)(((e,n)=>{const r=t[e][n];return null!=r?r:e}),e)}(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return(0,r.useEffect)((()=>{const e=l(c.current);u.current="mounted"===d?e:"none"}),[d]),(0,o.b)((()=>{const t=c.current,n=s.current;if(n!==e){const r=u.current,a=l(t);e?m("MOUNT"):"none"===a||"none"===(null==t?void 0:t.display)?m("UNMOUNT"):m(n&&r!==a?"ANIMATION_OUT":"UNMOUNT"),s.current=e}}),[e,m]),(0,o.b)((()=>{if(t){const e=e=>{const n=l(c.current).includes(e.animationName);e.target===t&&n&&(0,a.flushSync)((()=>m("ANIMATION_END")))},n=e=>{e.target===t&&(u.current=l(c.current))};return t.addEventListener("animationstart",n),t.addEventListener("animationcancel",e),t.addEventListener("animationend",e),()=>{t.removeEventListener("animationstart",n),t.removeEventListener("animationcancel",e),t.removeEventListener("animationend",e)}}m("ANIMATION_END")}),[t,m]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:(0,r.useCallback)((e=>{e&&(c.current=getComputedStyle(e)),n(e)}),[])}}(t),u="function"==typeof n?n({present:s.isPresent}):r.Children.only(n),i=(0,c.e)(s.ref,u.ref);return"function"==typeof n||s.isPresent?(0,r.cloneElement)(u,{ref:i}):null};function l(e){return(null==e?void 0:e.animationName)||"none"}s.displayName="Presence"},57898:(e,t,n)=>{n.d(t,{D:()=>a});var r=n(99196);function a(e){const t=(0,r.useRef)({value:e,previous:e});return(0,r.useMemo)((()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous)),[e])}}}]);