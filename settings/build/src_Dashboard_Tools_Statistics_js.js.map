{"version":3,"file":"src_Dashboard_Tools_Statistics_js.js","mappings":"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","sources":["webpack://complianz-gdpr/./src/Dashboard/Tools/Statistics.js","webpack://complianz-gdpr/./src/Statistics/StatisticsData.js"],"sourcesContent":["import Icon from \"../../utils/Icon\";\nimport {__} from \"@wordpress/i18n\";\nimport useStatistics from \"../../Statistics/StatisticsData\";\nimport {\n\tuseEffect, useState\n} from '@wordpress/element';\n\nconst Statistics = () => {\n\tconst [data, setData] = useState(false);\n\tconst [total, setTotal] = useState(1);\n\tconst [fullConsent, setFullConsent] = useState(0);\n\tconst [noConsent, setNoConsent] = useState(0);\n\tconst {consentType, statisticsData, loaded, fetchStatisticsData, labels, setLabels} = useStatistics();\n\tuseEffect ( () => {\n\t\tif (!loaded && cmplz_settings.is_premium) {\n\t\t\tfetchStatisticsData();\n\t\t}\n\t},[]);\n\n\tuseEffect(() => {\n\t\tif ( consentType==='' || !loaded ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( !statisticsData || !statisticsData.hasOwnProperty(consentType) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet temp = [ ...statisticsData[consentType]['labels'] ];\n\t\t//get categories\n\t\tlet categories = statisticsData[consentType]['categories'];\n\n\t\t//if it's optin, slice these indexes from the labels.\n\t\tif ( consentType==='optin' ) {\n\t\t\tcategories = categories.filter((category) => category==='functional' || category==='no_warning' || category==='do_not_track');\n\t\t} else {\n\t\t\t//get array of indexes for categories functional, marketing, statistics, preferences\n\t\t\tcategories = categories.filter((category) => category==='functional' || category==='marketing' || category==='statistics' || category==='preferences');\n\t\t}\n\n\t\t//get indexes for these categories\n\t\tlet categoryIndexes = categories.map((category) => statisticsData[consentType]['categories'].indexOf(category));\n\t\t//remove these indexes from the labels array\n\t\tfor (let i = categoryIndexes.length - 1; i >= 0; i--) {\n\t\t\ttemp.splice(categoryIndexes[i], 1);\n\t\t}\n\t\tsetLabels(temp);\n\t},[loaded, consentType])\n\n\tuseEffect(() => {\n\t\tif ( consentType==='' || !loaded || !statisticsData ) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet data = statisticsData[consentType]['datasets'];\n\t\t//get the dataset with default flag\n\t\tlet defaultDatasets = data.filter((dataset) => dataset.default);\n\t\tif (defaultDatasets.length>0) {\n\t\t\tlet defaultDataset = defaultDatasets[0]['data'];\n\t\t\t//sum all values of the default dataset\n\t\t\tlet total = defaultDataset.reduce((a, b) => parseInt(a) + parseInt(b), 0);\n\t\t\ttotal = total>0 ? total : 1;\n\t\t\tsetTotal(total);\n\t\t\tsetFullConsent(defaultDatasets[0].full_consent);\n\t\t\tsetNoConsent(defaultDatasets[0].no_consent);\n\t\t\tdefaultDataset = defaultDataset.slice(2);\n\t\t\tsetData(defaultDataset);\n\t\t}\n\t},[loaded, consentType])\n\n\tconst getPercentage = (value) => {\n\t\tvalue = parseInt(value);\n\t\treturn Math.round((value/total)*100);\n\t}\n\n\tconst getRowIcon = (index) => {\n\t\tlet name = 'dial-med-low-light';\n\t\tif (index===1) {\n\t\t\tname = 'dial-med-light';\n\t\t} else if (index===2) {\n\t\t\tname = 'dial-light';\n\t\t}else if (index===3) {\n\t\t\tname = 'dial-off-light';\n\t\t} else if (index===4) {\n\t\t\tname = 'dial-min-light';\n\t\t}\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Icon name = {name} color = 'black' />\n\t\t\t</>\n\t\t)\n\t}\n\n\treturn (\n\t\t<div className=\"cmplz-tools-statistics\">\n\t\t\t<div className={\"cmplz-statistics-container\"}>\n\t\t\t\t<div className=\"cmplz-main-consent\">\n\t\t\t\t\t<div className=\"cmplz-main-consent-count cmplz-full-consent\">\n\t\t\t\t\t\t<Icon name = \"dial-max-light\" color={\"green\"} size=\"22\"/>\n\t\t\t\t\t\t{fullConsent}\n\t\t\t\t\t\t<div>{__(\"Full Consent\",\"complianz-gdpr\")}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={\"cmplz-main-consent-count  cmplz-no-consent\"}>\n\t\t\t\t\t\t<Icon name = \"dial-min-light\"  color={\"red\"} size=\"22\" />\n\t\t\t\t\t\t{noConsent}\n\t\t\t\t\t\t<div>{__(\"No Consent\",\"complianz-gdpr\")}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{labels.length===0 &&\n\t\t\t\t<div className=\"cmplz-details\">\n\t\t\t\t\t<div className=\"cmplz-detail-icon\">\n\t\t\t\t\t\t{getRowIcon(0)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"cmplz-detail\">\n\t\t\t\t\t\t<div className=\"cmplz-detail-name\">...</div>\n\t\t\t\t\t\t<div className=\"cmplz-detail-data\">0%</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t}\n\t\t\t{labels.length>0 && labels.map((label, index) =>\n\t\t\t\t<div key={index} className=\"cmplz-details\">\n\t\t\t\t\t<div className=\"cmplz-detail-icon\">\n\t\t\t\t\t\t{getRowIcon(index)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"cmplz-detail\">\n\t\t\t\t\t\t<div className=\"cmplz-detail-name\">{label}</div>\n\t\t\t\t\t\t<div className=\"cmplz-detail-data\">{data.hasOwnProperty(index) ? getPercentage(data[index]) : 0}%</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t)\n}\nexport default Statistics;\n","import {create} from 'zustand';\nimport * as cmplz_api from \"../utils/api\";\nconst emptyData = {\n\t'optin': {\n\t\t\"labels\": [\n\t\t\t\"Functional\",\n\t\t\t\"Statistics\",\n\t\t\t\"Marketing\",\n\t\t\t\"Do Not Track\",\n\t\t\t\"No choice\",\n\t\t\t\"No warning\",\n\t\t],\n\t\t\"categories\": [\n\t\t\t\"functional\",\n\t\t\t\"statistics\",\n\t\t\t\"marketing\",\n\t\t\t\"do_not_track\",\n\t\t\t\"no_choice\",\n\t\t\t\"no_warning\",\n\t\t],\n\t\t\"datasets\": [\n\t\t\t{\n\t\t\t\t\"data\": [\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\"\n\t\t\t\t],\n\t\t\t\t\"backgroundColor\": \"rgba(255, 99, 132, 1)\",\n\t\t\t\t\"borderColor\": \"rgba(255, 99, 132, 1)\",\n\t\t\t\t\"label\": \"A (default)\",\n\t\t\t\t\"fill\": \"false\",\n\t\t\t\t\"borderDash\": [\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"data\": [\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\"\n\t\t\t\t],\n\t\t\t\t\"backgroundColor\": \"rgba(255, 159, 64, 1)\",\n\t\t\t\t\"borderColor\": \"rgba(255, 159, 64, 1)\",\n\t\t\t\t\"label\": \"B\",\n\t\t\t\t\"fill\": \"false\",\n\t\t\t\t\"borderDash\": [\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t]\n\t\t\t}\n\t\t],\n\t\t\"max\": 5\n\t},\n\t'optout': {\n\t\t\"labels\": [\n\t\t\t\"Functional\",\n\t\t\t\"Statistics\",\n\t\t\t\"Marketing\",\n\t\t\t\"Do Not Track\",\n\t\t\t\"No choice\",\n\t\t\t\"No warning\",\n\t\t],\n\t\t\"categories\": [\n\t\t\t\"functional\",\n\t\t\t\"statistics\",\n\t\t\t\"marketing\",\n\t\t\t\"do_not_track\",\n\t\t\t\"no_choice\",\n\t\t\t\"no_warning\",\n\t\t],\n\t\t\"datasets\": [\n\t\t\t{\n\t\t\t\t\"data\": [\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\"\n\t\t\t\t],\n\t\t\t\t\"backgroundColor\": \"rgba(255, 99, 132, 1)\",\n\t\t\t\t\"borderColor\": \"rgba(255, 99, 132, 1)\",\n\t\t\t\t\"label\": \"A (default)\",\n\t\t\t\t\"fill\": \"false\",\n\t\t\t\t\"borderDash\": [\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"data\": [\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\",\n\t\t\t\t\t\"0\"\n\t\t\t\t],\n\t\t\t\t\"backgroundColor\": \"rgba(255, 159, 64, 1)\",\n\t\t\t\t\"borderColor\": \"rgba(255, 159, 64, 1)\",\n\t\t\t\t\"label\": \"B\",\n\t\t\t\t\"fill\": \"false\",\n\t\t\t\t\"borderDash\": [\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t]\n\t\t\t}\n\t\t],\n\t\t\"max\": 5\n\t}\n}\nconst defaultData = {\n\t'optin': {\n\t\t\"labels\": [\n\t\t\t\"Functional\",\n\t\t\t\"Statistics\",\n\t\t\t\"Marketing\",\n\t\t\t\"Do Not Track\",\n\t\t\t\"No choice\",\n\t\t\t\"No warning\",\n\t\t],\n\t\t\"categories\": [\n\t\t\t\"functional\",\n\t\t\t\"statistics\",\n\t\t\t\"marketing\",\n\t\t\t\"do_not_track\",\n\t\t\t\"no_choice\",\n\t\t\t\"no_warning\",\n\t\t],\n\t\t\"datasets\": [\n\t\t\t{\n\t\t\t\t\"data\": [\n\t\t\t\t\t\"29\",\n\t\t\t\t\t\"747\",\n\t\t\t\t\t\"174\",\n\t\t\t\t\t\"292\",\n\t\t\t\t\t\"30\",\n\t\t\t\t\t\"10\"\n\t\t\t\t],\n\t\t\t\t\"backgroundColor\": \"rgba(255, 99, 132, 1)\",\n\t\t\t\t\"borderColor\": \"rgba(255, 99, 132, 1)\",\n\t\t\t\t\"label\": \"Demo A (default)\",\n\t\t\t\t\"fill\": \"false\",\n\t\t\t\t\"borderDash\": [\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"data\": [\n\t\t\t\t\t\"3\",\n\t\t\t\t\t\"536\",\n\t\t\t\t\t\"240\",\n\t\t\t\t\t\"389\",\n\t\t\t\t\t\"45\",\n\t\t\t\t\t\"32\"\n\t\t\t\t],\n\t\t\t\t\"backgroundColor\": \"rgba(255, 159, 64, 1)\",\n\t\t\t\t\"borderColor\": \"rgba(255, 159, 64, 1)\",\n\t\t\t\t\"label\": \"Demo B\",\n\t\t\t\t\"fill\": \"false\",\n\t\t\t\t\"borderDash\": [\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t]\n\t\t\t}\n\t\t],\n\t\t\"max\": 5\n\t},\n\t'optout': {\n\t\t\"labels\": [\n\t\t\t\"Functional\",\n\t\t\t\"Statistics\",\n\t\t\t\"Marketing\",\n\t\t\t\"Do Not Track\",\n\t\t\t\"No choice\",\n\t\t\t\"No warning\",\n\t\t],\n\t\t\"categories\": [\n\t\t\t\"functional\",\n\t\t\t\"statistics\",\n\t\t\t\"marketing\",\n\t\t\t\"do_not_track\",\n\t\t\t\"no_choice\",\n\t\t\t\"no_warning\",\n\t\t],\n\t\t\"datasets\": [\n\t\t\t{\n\t\t\t\t\"data\": [\n\t\t\t\t\t\"29\",\n\t\t\t\t\t\"747\",\n\t\t\t\t\t\"174\",\n\t\t\t\t\t\"292\",\n\t\t\t\t\t\"30\",\n\t\t\t\t\t\"10\"\n\t\t\t\t],\n\t\t\t\t\"backgroundColor\": \"rgba(255, 99, 132, 1)\",\n\t\t\t\t\"borderColor\": \"rgba(255, 99, 132, 1)\",\n\t\t\t\t\"label\": \"A (default)\",\n\t\t\t\t\"fill\": \"false\",\n\t\t\t\t\"borderDash\": [\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"data\": [\n\t\t\t\t\t\"3\",\n\t\t\t\t\t\"536\",\n\t\t\t\t\t\"240\",\n\t\t\t\t\t\"389\",\n\t\t\t\t\t\"45\",\n\t\t\t\t\t\"32\"\n\t\t\t\t],\n\t\t\t\t\"backgroundColor\": \"rgba(255, 159, 64, 1)\",\n\t\t\t\t\"borderColor\": \"rgba(255, 159, 64, 1)\",\n\t\t\t\t\"label\": \"Demo B\",\n\t\t\t\t\"fill\": \"false\",\n\t\t\t\t\"borderDash\": [\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t]\n\t\t\t}\n\t\t],\n\t\t\"max\": 5\n\t}\n}\nconst useStatistics = create(( set, get ) => ({\n\tconsentType: 'optin',\n\tsetConsentType: (consentType) => {\n\t\tset({consentType:consentType});\n\t},\n\tstatisticsLoading:false,\n\tconsentTypes:[],\n\tregions:[],\n\tdefaultConsentType: 'optin',\n\tloaded:false,\n\tstatisticsData: defaultData,\n\temptyStatisticsData: emptyData,\n\tbestPerformerEnabled:false,\n\tdaysLeft:'',\n\tabTrackingCompleted:false,\n\tlabels:[],\n\tsetLabels: (labels) => {\n\t\tset({labels:labels});\n\t},\n\tfetchStatisticsData: async () => {\n\t\tset({saving:true });\n\t\tlet data = {};\n\t\tif (get().loaded) return;\n\t\tconst {daysLeft, abTrackingCompleted, consentTypes, statisticsData, defaultConsentType, regions, bestPerformerEnabled} = await cmplz_api.doAction('get_statistics_data', data).then((response) => {\n\t\t\treturn response;\n\t\t}).catch((error) => {\n\t\t\tconsole.error(error);\n\t\t});\n\t\tset({\n\t\t\tsaving:false,\n\t\t\tloaded:true,\n\t\t\tconsentType:defaultConsentType,\n\t\t\tconsentTypes:consentTypes,\n\t\t\tstatisticsData:statisticsData,\n\t\t\tdefaultConsentType:defaultConsentType,\n\t\t\tbestPerformerEnabled:bestPerformerEnabled,\n\t\t\tregions:regions,\n\t\t\tdaysLeft:daysLeft,\n\t\t\tabTrackingCompleted:abTrackingCompleted,\n\t\t});\n\t},\n}));\nexport default useStatistics;\n"],"names":["Icon","__","useStatistics","useEffect","useState","Statistics","data","setData","total","setTotal","fullConsent","setFullConsent","noConsent","setNoConsent","consentType","statisticsData","loaded","fetchStatisticsData","labels","setLabels","cmplz_settings","is_premium","hasOwnProperty","temp","categories","filter","category","categoryIndexes","map","indexOf","i","length","splice","defaultDatasets","dataset","default","defaultDataset","reduce","a","b","parseInt","full_consent","no_consent","slice","getPercentage","value","Math","round","getRowIcon","index","name","createElement","Fragment","color","className","size","label","key","create","cmplz_api","emptyData","defaultData","set","get","setConsentType","statisticsLoading","consentTypes","regions","defaultConsentType","emptyStatisticsData","bestPerformerEnabled","daysLeft","abTrackingCompleted","saving","doAction","then","response","catch","error","console"],"sourceRoot":""}