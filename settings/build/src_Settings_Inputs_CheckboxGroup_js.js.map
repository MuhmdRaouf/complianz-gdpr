{"version":3,"file":"src_Settings_Inputs_CheckboxGroup_js.js","mappings":"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","sources":["webpack://complianz-gdpr/./src/Settings/Inputs/Button.js","webpack://complianz-gdpr/./src/Settings/Inputs/CheckboxGroup.js","webpack://complianz-gdpr/./src/Settings/Inputs/Buttons.scss?eb9c","webpack://complianz-gdpr/./src/Settings/Inputs/CheckboxGroup.scss?b45c"],"sourcesContent":["import './Buttons.scss'\nimport {memo, useState} from 'react';\nimport * as cmplz_api from '../../utils/api';\nimport useFields from '../Fields/FieldsData';\nimport useMenu from '../../Menu/MenuData';\nimport {\n\t__experimentalConfirmDialog as ConfirmDialog\n} from '@wordpress/components';\n// import AreYouSureModal from '../AreYouSureModal';\n\nconst Button = ({\n\ttype = 'action',\n\tstyle = 'tertiary',\n\tlabel,\n\tonClick,\n\thref = '',\n\ttarget = '',\n\tdisabled,\n\taction,\n\tfield,\n\tchildren\n}) =>\n{\n\tif ( !label && !children ) return null;\n\tconst buttonLabel = field && field.button_text ? field.button_text : label;\n\tconst content = buttonLabel ? buttonLabel : children;\n\tconst {fetchFieldsData, showSavedSettingsNotice} = useFields();\n\tconst {selectedSubMenuItem } = useMenu();\n\tconst [ isOpen, setIsOpen ] = useState( false );\n\tconst classes = `button cmplz-button button--${style} button-${type}`;\n\n\tconst clickHandler = async (e) => {\n\t\tif (type === 'action' && onClick) {\n\t\t\tonClick(e);\n\t\t\treturn;\n\t\t}\n\t\tif (type === 'action' && action) {\n\t\t\tif (field && field.warn) {\n\t\t\t\tsetIsOpen( true );\n\t\t\t} else {\n\t\t\t\tawait executeAction();\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\twindow.location.href=field.url;\n\t}\n\n\tconst handleConfirm = async () => {\n\t\tsetIsOpen( false );\n\t\tawait executeAction();\n\t};\n\n\tconst handleCancel = () => {\n\t\tsetIsOpen( false );\n\t};\n\n\tconst executeAction = async (e) => {\n\t\tlet data = {};\n\t\tawait cmplz_api.doAction(field.action, data).then((response) => {\n\t\t\tif (response.success) {\n\t\t\t\tfetchFieldsData(selectedSubMenuItem);\n\t\t\t\tshowSavedSettingsNotice(response.message);\n\t\t\t}\n\t\t});\n\t}\n\tconst warningText = field && field.warn ? field.warn : '';\n\tif ( type === 'action' ) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<ConfirmDialog\n\t\t\t\t\tisOpen={ isOpen }\n\t\t\t\t\tonConfirm={ handleConfirm }\n\t\t\t\t\tonCancel={ handleCancel }\n\t\t\t\t>\n\t\t\t\t\t{warningText}\n\t\t\t\t</ConfirmDialog>\n\t\t\t\t{/*Commented out because the below still needs css */}\n\t\t\t\t{/*<AreYouSureModal isOpen={isOpen} onConfirm={handleConfirm} onCancel={handleCancel} >*/}\n\t\t\t\t{/*\t{warningText}*/}\n\t\t\t\t{/*</AreYouSureModal>*/}\n\n\t\t\t\t<button\n\t\t\t\t\tclassName={classes}\n\t\t\t\t\tonClick={clickHandler}\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t>\n\t\t\t\t\t{content}\n\n\t\t\t\t</button>\n\t\t\t</>\n\n\n\t\t)\n\t}\n\tif (type === 'link') {\n\t\treturn (\n\t\t\t<a\n\t\t\t\tclassName={classes}\n\t\t\t\thref={href}\n\t\t\t\ttarget={target}\n\t\t\t\t>\n\t\t\t\t{content}\n\t\t\t</a>\n\t\t)\n\t}\n}\n\nexport default memo(Button);\n","import * as Checkbox from '@radix-ui/react-checkbox';\nimport {memo, useState} from 'react';\nimport { __ } from '@wordpress/i18n';\nimport './CheckboxGroup.scss';\nimport Icon from '../../utils/Icon';\nimport Button from '../Inputs/Button';\n\nconst CheckboxGroup = ({ label, value, id, onChange, required, disabled, options = {} }) => {\n\tlet valueValidated = value;\n\tif ( !Array.isArray(valueValidated) ){\n\t\tvalueValidated = valueValidated === '' ? [] : [valueValidated];\n\t}\n\n\tconst selected = valueValidated;\n\tconst loadMoreCount = 10;\n\tconst [loadMoreExpanded, setLoadMoreExpanded] = useState(false);\n\n\t// check if there are more options than the loadmore count\n\tlet loadMoreEnabled = false;\n\tif (Object.keys(options).length > loadMoreCount) {\n\t\tloadMoreEnabled = true;\n\t}\n\n\tconst handleCheckboxChange = (e, option) => {\n\t\tconst newSelected = selected.includes(option)\n\t\t\t? selected.filter((item) => item !== option)\n\t\t\t: [...selected, option];\n\t\tonChange(newSelected);\n\t};\n\n\tconst isEnabled = (id) => {\n\t\treturn selected.includes(id);\n\t};\n\n\tconst loadMoreHandler = () => {\n\t\tsetLoadMoreExpanded(!loadMoreExpanded);\n\t};\n\tlet allDisabled = disabled && !Array.isArray(disabled);\n\treturn (\n\t\t<div className={'cmplz-checkbox-group'}>\n\t\t\t{Object.entries(options).map(([key, optionLabel], i) => (\n\t\t\t\t<div\n\t\t\t\t\tkey={key}\n\t\t\t\t\tclassName={`cmplz-checkbox-group__item${\n\t\t\t\t\t\t!loadMoreExpanded && i > loadMoreCount ? ' cmplz-hidden' : ''\n\t\t\t\t\t}`}\n\t\t\t\t>\n\t\t\t\t\t<Checkbox.Root\n\t\t\t\t\t\tclassName=\"cmplz-checkbox-group__checkbox\"\n\t\t\t\t\t\tid={id + '_' + key}\n\t\t\t\t\t\tchecked={ isEnabled(key) }\n\t\t\t\t\t\taria-label={label}\n\t\t\t\t\t\tdisabled={allDisabled || (Array.isArray(disabled) && disabled.includes(key)) }\n\t\t\t\t\t\trequired={required}\n\t\t\t\t\t\tonCheckedChange={(e) => handleCheckboxChange(e, key)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Checkbox.Indicator className=\"cmplz-checkbox-group__indicator\">\n\t\t\t\t\t\t\t<Icon name={'check'} size={14} color={'dark-blue'} />\n\t\t\t\t\t\t</Checkbox.Indicator>\n\t\t\t\t\t</Checkbox.Root>\n\t\t\t\t\t<label className=\"cmplz-checkbox-label\" htmlFor={id + '_' + key}>\n\t\t\t\t\t\t{optionLabel}\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t))}\n\t\t\t{!loadMoreExpanded && loadMoreEnabled && (\n\t\t\t\t<Button onClick={loadMoreHandler}>\n\t\t\t\t\t{__('Show more', 'complianz-gdpr')}\n\t\t\t\t</Button>\n\t\t\t)}\n\t\t\t{loadMoreExpanded && loadMoreEnabled && (\n\t\t\t\t<Button onClick={loadMoreHandler}>\n\t\t\t\t\t{__('Show less', 'complianz-gdpr')}\n\t\t\t\t</Button>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default memo(CheckboxGroup);\n","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};"],"names":["memo","useState","cmplz_api","useFields","useMenu","__experimentalConfirmDialog","ConfirmDialog","Button","_ref","type","style","label","onClick","href","target","disabled","action","field","children","buttonLabel","button_text","content","fetchFieldsData","showSavedSettingsNotice","selectedSubMenuItem","isOpen","setIsOpen","classes","clickHandler","e","warn","executeAction","window","location","url","handleConfirm","handleCancel","data","doAction","then","response","success","message","warningText","createElement","Fragment","onConfirm","onCancel","className","Checkbox","__","Icon","CheckboxGroup","value","id","onChange","required","options","valueValidated","Array","isArray","selected","loadMoreCount","loadMoreExpanded","setLoadMoreExpanded","loadMoreEnabled","Object","keys","length","handleCheckboxChange","option","newSelected","includes","filter","item","isEnabled","loadMoreHandler","allDisabled","entries","map","_ref2","i","key","optionLabel","Root","checked","onCheckedChange","Indicator","name","size","color","htmlFor"],"sourceRoot":""}