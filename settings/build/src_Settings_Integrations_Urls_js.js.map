{"version":3,"file":"src_Settings_Integrations_Urls_js.js","mappings":"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","sources":["webpack://complianz-gdpr/./src/Settings/Inputs/TextInput.js","webpack://complianz-gdpr/./src/Settings/Integrations/IntegrationsData.js","webpack://complianz-gdpr/./src/Settings/Integrations/Urls.js","webpack://complianz-gdpr/./src/utils/readMore.js","webpack://complianz-gdpr/./src/Settings/Inputs/Input.scss?1cff"],"sourcesContent":["import {memo, useEffect, useState} from 'react';\nimport './Input.scss';\n\nconst TextInput = ({\n\tvalue,\n\tonChange,\n\trequired,\n\tdefaultValue,\n\tdisabled,\n\tid,\n\tname,\n\tplaceholder\n}) => {\n\tconst inputId = id || name;\n\tconst [inputValue, setInputValue] = useState('');\n\n\t//ensure that the initial value is set\n\tuseEffect(() => {\n\t\tsetInputValue(value || '');\n\t},[value]);\n\n\t//because an update on the entire Fields array is costly, we only update after the user has stopped typing\n\tuseEffect(() => {\n\t\t// skip first render\n\t\tconst typingTimer = setTimeout(() => {\n\t\t\tonChange(inputValue);\n\t\t}, 500);\n\n\t\treturn () => {\n\t\t\tclearTimeout(typingTimer);\n\t\t};\n\t}, [inputValue]);\n\n\tconst handleChange = ( value ) => {\n\t\tsetInputValue(value);\n\t};\n\n\treturn (\n\t\t<div className=\"cmplz-input-group cmplz-text-input-group\">\n\t\t\t<input\n\t\t\t\ttype='text'\n\t\t\t\tid={inputId}\n\t\t\t\tname={name}\n\t\t\t\tvalue={inputValue}\n\t\t\t\tonChange={(event) => handleChange(event.target.value)}\n\t\t\t\trequired={required}\n\t\t\t\tdisabled={disabled}\n\t\t\t\tclassName=\"cmplz-text-input-group__input\"\n\t\t\t\tplaceholder={placeholder}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport default memo(TextInput);\n","import {create} from 'zustand';\nimport produce from 'immer';\nimport * as cmplz_api from \"../../utils/api\";\n\n\nconst useIntegrations = create(( set, get ) => ({\n\tintegrationsLoaded: false,\n\tfetching:false,\n\tservices: [],\n\tplugins:[],\n\tscripts:[],\n\tplaceholders:[],\n\tblockedScripts:[],\n\tsetScript: (script, type) => {\n\t\tset(\n\t\t\tproduce((state) => {\n\t\t\t\t//update blocked scripts options list if new urls were added.\n\t\t\t\tif (type==='block_script') {\n\t\t\t\t\tlet options = state.blockedScripts;\n\t\t\t\t\tif ( script.urls ) {\n\t\t\t\t\t\tfor (const [index, url] of Object.entries(script.urls)) {\n\t\t\t\t\t\t\tif (!url || url.length===0) continue;\n\t\t\t\t\t\t\t//check if url exists in the options object\n\t\t\t\t\t\t\tlet found = false;\n\t\t\t\t\t\t\tfor (const [optionIndex, optionValue] of Object.entries(options)) {\n\t\t\t\t\t\t\t\tif (url===optionIndex) found = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (!found) {\n\t\t\t\t\t\t\t\toptions[url] = url;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstate.blockedScripts = options;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst index = state.scripts[type].findIndex(item => {\n\t\t\t\t\treturn item.id===script.id;\n\t\t\t\t});\n\t\t\t\tif (index!==-1) state.scripts[type][index] = script;\n\t\t\t})\n\t\t)\n\t},\n\tfetchIntegrationsData: async ( ) => {\n\t\tif (get().fetching) return;\n\n\t\tset({fetching:true});\n\t\tconst { services, plugins, scripts, placeholders, blocked_scripts}   = await fetchData();\n\t\tlet scriptsWithId = scripts;\n\t\t//add a unique id to each script\n\t\tscriptsWithId.block_script.forEach((script, i) => {\n\t\t\tscript.id = i;\n\t\t})\n\t\tscriptsWithId.add_script.forEach((script, i) => {\n\t\t\tscript.id = i;\n\t\t})\n\t\tscriptsWithId.whitelist_script.forEach((script, i) => {\n\t\t\tscript.id = i;\n\t\t})\n\t\tset(() => ({\n\t\t\tintegrationsLoaded: true,\n\t\t\tservices: services,\n\t\t\tplugins: plugins,\n\t\t\tscripts: scriptsWithId,\n\t\t\tfetching:false,\n\t\t\tplaceholders: placeholders,\n\t\t\tblockedScripts:blocked_scripts,\n\t\t}));\n\t},\n\taddScript:(type) => {\n\t\tset({fetching:true});\n\t\tset(\n\t\t\tproduce((state) => {\n\t\t\t\tstate.scripts[type].push({'name':'general', 'id':state.scripts[type].length, 'enable':true});\n\t\t\t})\n\t\t)\n\t\tlet scripts = get().scripts;\n\t\treturn cmplz_api.doAction('update_scripts', {scripts: scripts}).then((response) => {\n\t\t\tset({fetching:false});\n\t\t\treturn response;\n\t\t}).catch((error) => {\n\t\t\tconsole.error(error);\n\t\t});\n\t},\n\tsaveScript:(script, type) => {\n\t\tset({fetching:true});\n\n\t\tset(\n\t\t\tproduce((state) => {\n\t\t\t\tconst index = state.scripts[type].findIndex(item => {\n\t\t\t\t\treturn item.id===script.id;\n\t\t\t\t});\n\t\t\t\tif (index!==-1) state.scripts[type][index] = script;\n\t\t\t})\n\t\t)\n\t\tlet scripts = get().scripts;\n\t\treturn cmplz_api.doAction('update_scripts', {scripts: scripts}).then((response) => {\n\t\t\tset({fetching:false});\n\t\t\treturn response;\n\t\t}).catch((error) => {\n\t\t\tconsole.error(error);\n\t\t});\n\t},\n\tdeleteScript:(script, type) => {\n\t\tset({fetching:true});\n\t\tset(\n\t\t\tproduce((state) => {\n\t\t\t\tconst index = state.scripts[type].findIndex(item => {\n\t\t\t\t\treturn item.id===script.id;\n\t\t\t\t});\n\t\t\t\t//drop script with this index\n\t\t\t\tif (index!==-1) state.scripts[type].splice(index, 1);\n\t\t\t})\n\t\t)\n\t\tlet scripts = get().scripts;\n\t\treturn cmplz_api.doAction('update_scripts', {scripts: scripts}).then((response) => {\n\t\t\tset({fetching:false});\n\t\t\treturn response;\n\t\t}).catch((error) => {\n\t\t\tconsole.error(error);\n\t\t});\n\t},\n\tupdatePluginStatus: async (pluginId, enabled) => {\n\t\tset(\n\t\t\tproduce((state) => {\n\t\t\t\tconst index = state.plugins.findIndex(plugin => {\n\t\t\t\t\treturn plugin.id===pluginId;\n\t\t\t\t});\n\t\t\t\tif (index!==-1) state.plugins[index].enabled = enabled;\n\t\t\t})\n\t\t)\n\t\treturn cmplz_api.doAction('update_plugin_status', {plugin: pluginId, enabled: enabled}).then((response) => {\n\t\t\treturn response;\n\t\t}).catch((error) => {\n\t\t\tconsole.error(error);\n\t\t});\n\t},\n\tupdatePlaceholderStatus: async (id, enabled, isPlugin) => {\n\t\tif (isPlugin) {\n\t\t\tset(\n\t\t\t\tproduce((state) => {\n\t\t\t\t\tconst index = state.plugins.findIndex(plugin => {\n\t\t\t\t\t\treturn plugin.id===id;\n\t\t\t\t\t});\n\t\t\t\t\tif (index!==-1) state.plugins[index].placeholder = enabled ? 'enabled' : 'disabled';\n\t\t\t\t})\n\t\t\t)\n\t\t}\n\t\treturn cmplz_api.doAction('update_placeholder_status', {id: id, enabled: enabled}).then((response) => {\n\t\t\treturn response;\n\t\t}).catch((error) => {\n\t\t\tconsole.error(error);\n\t\t});\n\t}\n}));\n\nexport default useIntegrations;\n\nconst fetchData = () => {\n\treturn cmplz_api.doAction('get_integrations_data', {}).then((response) => {\n\t\treturn response;\n\t}).catch((error) => {\n\t\tconsole.error(error);\n\t});\n}\n","import { __ } from '@wordpress/i18n';\nimport readMore from \"../../utils/readMore\";\nimport TextInput from \"../Inputs/TextInput\";\nimport Icon from \"../../utils/Icon\";\nimport useIntegrations from \"./IntegrationsData\";\n\nconst Urls = (props) => {\n\tconst { setScript, fetching } = useIntegrations();\n\tconst script = props.script;\n\tconst type = props.type;\n\n\tconst onChangeUrlHandler = (index, url) => {\n\t\tlet copyScript = {...script};\n\t\tlet urls = {...copyScript.urls};\n\t\turls[index] = url;\n\t\tcopyScript.urls = urls;\n\t\tsetScript(copyScript, props.type);\n\t}\n\n\tconst addUrl = () => {\n\t\tlet copyScript = {...script};\n\t\tlet curLength = Object.keys(copyScript.urls).length;\n\t\tlet urls = {...copyScript.urls};\n\n\t\turls[curLength+1] = '';\n\t\tcopyScript.urls = urls;\n\t\tsetScript(copyScript, props.type);\n\t}\n\n\tconst deleteUrl = (key) => {\n\t\tlet copyScript = {...script};\n\t\tlet urls = {...copyScript.urls};\n\t\t//delete index 'key' from copyScript.urls\n\t\tdelete urls[key];\n\t\tcopyScript.urls = urls;\n\t\tsetScript(copyScript, props.type);\n\t}\n\n\tlet urls = Object.entries(script.urls);\n\treturn (\n\t\t<div className=\"cmplz-details-row\">\n\t\t\t<label>\n\t\t\t\t{type==='block_script' && __(\"URLs that should be blocked before consent.\", \"complianz-gdpr\")}\n\t\t\t\t{type==='whitelist_script' &&\n\t\t\t\t\t<>{__(\"URLs that should be whitelisted.\", \"complianz-gdpr\")}\n\t\t\t\t\t\t{readMore(\"https://complianz.io/whitelisting-inline-script/\") }\n\t\t\t\t\t</>\n\t\t\t\t}\n\t\t\t</label>\n\t\t\t{ urls.map( ([index, url], i)=>\n\t\t\t\t<div key={i} className=\"cmplz-scriptcenter-url\">\n\t\t\t\t\t<TextInput\n\t\t\t\t\t\tdisabled={fetching}\n\t\t\t\t\t\tvalue={url ? url : ''}\n\t\t\t\t\t\tonChange={(value)=>onChangeUrlHandler(index, value)}\n\t\t\t\t\t\tid={i+\"_url\"}\n\t\t\t\t\t\tname={\"url\"}\n\t\t\t\t\t/>\n\t\t\t\t\t{i===0 && <button className=\"button button-default\" onClick={() => addUrl() }> <Icon name=\"plus\" size={14}/></button>}\n\t\t\t\t\t{i!==0 && <button className=\"button button-default\" onClick={() => deleteUrl(index) }> <Icon name=\"minus\" size={14}/></button>}\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n}\nexport default Urls;\n","import { __ } from '@wordpress/i18n';\nimport Hyperlink from \"./Hyperlink\";\n\nconst readMore = (url) => {\n\treturn <>&nbsp;<Hyperlink url={url} text={__('For more information, please read this %sarticle%s.', 'complianz-gdpr')}/>&nbsp;</>\n}\n\nexport default readMore;\n","// extracted by mini-css-extract-plugin\nexport {};"],"names":["memo","useEffect","useState","TextInput","_ref","value","onChange","required","defaultValue","disabled","id","name","placeholder","inputId","inputValue","setInputValue","typingTimer","setTimeout","clearTimeout","handleChange","createElement","className","type","event","target","create","produce","cmplz_api","useIntegrations","set","get","integrationsLoaded","fetching","services","plugins","scripts","placeholders","blockedScripts","setScript","script","state","options","urls","index","url","Object","entries","length","found","optionIndex","optionValue","findIndex","item","fetchIntegrationsData","blocked_scripts","fetchData","scriptsWithId","block_script","forEach","i","add_script","whitelist_script","addScript","push","doAction","then","response","catch","error","console","saveScript","deleteScript","splice","updatePluginStatus","pluginId","enabled","plugin","updatePlaceholderStatus","isPlugin","__","readMore","Icon","Urls","props","onChangeUrlHandler","copyScript","addUrl","curLength","keys","deleteUrl","key","Fragment","map","onClick","size","Hyperlink","text"],"sourceRoot":""}