"use strict";(self.webpackChunkcomplianz_gdpr=self.webpackChunkcomplianz_gdpr||[]).push([[3709,7499,6057,2640,5671,1789,3252],{17499:function(e,t,a){a.r(t);var s=a(69307),i=a(23361),n=a(65736),l=a(23252);t.default=()=>{const[e,t]=(0,s.useState)(!1),[a,c]=(0,s.useState)(1),[o,r]=(0,s.useState)(0),[d,p]=(0,s.useState)(0),{consentType:u,statisticsData:g,loaded:f,fetchStatisticsData:m,labels:h,setLabels:b}=(0,l.default)();return(0,s.useEffect)((()=>{!f&&cmplz_settings.is_premium&&m()}),[]),(0,s.useEffect)((()=>{if(""===u||!f)return;if(!g||!g.hasOwnProperty(u))return;let e=[...g[u].labels],t=g[u].categories;t="optin"===u?t.filter((e=>"functional"===e||"no_warning"===e||"do_not_track"===e)):t.filter((e=>"functional"===e||"marketing"===e||"statistics"===e||"preferences"===e));let a=t.map((e=>g[u].categories.indexOf(e)));for(let t=a.length-1;t>=0;t--)e.splice(a[t],1);b(e)}),[f,u]),(0,s.useEffect)((()=>{if(""===u||!f||!g)return;let e=g[u].datasets.filter((e=>e.default));if(e.length>0){let a=e[0].data,s=a.reduce(((e,t)=>parseInt(e)+parseInt(t)),0);s=s>0?s:1,c(s),r(e[0].full_consent),p(e[0].no_consent),a=a.slice(2),t(a)}}),[f,u]),(0,s.createElement)("div",{className:"cmplz-statistics"},(0,s.createElement)("div",{className:"cmplz-statistics-select"},(0,s.createElement)("div",{className:"cmplz-statistics-select-item"},(0,s.createElement)(i.default,{name:"dial-max-light",color:"green",size:"22"}),(0,s.createElement)("h2",null,o),(0,s.createElement)("span",null,(0,n.__)("Full Consent","complianz-gdpr"))),(0,s.createElement)("div",{className:"cmplz-statistics-select-item"},(0,s.createElement)(i.default,{name:"dial-min-light",color:"red",size:"22"}),(0,s.createElement)("h2",null,d),(0,s.createElement)("span",null,(0,n.__)("No Consent","complianz-gdpr")))),(0,s.createElement)("div",{className:"cmplz-statistics-list"},h.length>0&&h.map(((t,n)=>{return(0,s.createElement)("div",{className:"cmplz-statistics-list-item",key:n},(e=>{let t="dial-med-low-light";return 1===e?t="dial-med-light":2===e?t="dial-light":3===e?t="dial-off-light":4===e&&(t="dial-min-light"),(0,s.createElement)(s.Fragment,null,(0,s.createElement)(i.default,{name:t,color:"black"}))})(n),(0,s.createElement)("p",{className:"cmplz-statistics-list-item-text"},t),(0,s.createElement)("p",{className:"cmplz-statistics-list-item-number"},e.hasOwnProperty(n)?(l=e[n],l=parseInt(l),Math.round(l/a*100)):0,"%"));var l}))))}},26057:function(e,t,a){a.r(t);var s=a(69307),i=a(56293),n=a(85671),l=a(23361),c=a(65736),o=a(71789);t.default=e=>{const{fields:t,getFieldValue:a}=(0,i.default)(),[r,d]=(0,s.useState)(!1),{integrationsLoaded:p,plugins:u,fetchIntegrationsData:g}=(0,n.default)(),{licenseStatus:f}=(0,o.default)();(0,s.useEffect)((()=>{let t=e.item;if(t.field){let e=a(t.field.name)==t.field.value;d(e)}}),[t]),(0,s.useEffect)((()=>{p||g()}),[]);let m=e.item;if(m.plugin)return u.filter((e=>e.id===m.plugin)).length>0?(0,s.createElement)("div",{className:"cmplz-tool"},(0,s.createElement)("div",{className:"cmplz-tool-title"},m.title),(0,s.createElement)("div",{className:"cmplz-tool-link"},(0,s.createElement)("a",{href:m.link,target:"_blank"},(0,s.createElement)(l.default,{name:"circle-chevron-right",color:"black",size:14})))):null;let h=cmplz_settings.is_premium&&"valid"===f,b=(0,c.__)("Read more","complianz-gdpr"),_=m.link;h&&(!r&&m.enableLink&&(b=(0,c.__)("Enable","complianz-gdpr"),_=m.enableLink),m.field&&!r||!m.viewLink||(b=(0,c.__)("View","complianz-gdpr"),_=m.viewLink));let k=-1!==_.indexOf("https://"),v=k?"_blank":"_self",E=k?"external-link":"circle-chevron-right";return(0,s.createElement)("div",{className:"cmplz-tool"},(0,s.createElement)("div",{className:"cmplz-tool-title"},m.title,m.plusone&&m.plusone),(0,s.createElement)("div",{className:"cmplz-tool-link"},(0,s.createElement)("a",{href:_,target:v},k&&b,!k&&(0,s.createElement)(l.default,{name:E,color:"black",size:14}))))}},83709:function(e,t,a){a.r(t);var s=a(69307),i=a(56293),n=a(65736),l=a(82640),c=a(17499),o=a(26057);const r=e=>(0,s.createElement)("div",{className:"cmplz-plusone"},e.count);t.default=()=>{const{fields:e,getFieldValue:t}=(0,i.default)(),[a,d]=(0,s.useState)(!1),[p,u]=(0,s.useState)(!1),{recordsLoaded:g,fetchData:f,totalOpen:m}=(0,l.default)();(0,s.useEffect)((()=>{g||f(10,1,"ID","ASC")}),[g]),(0,s.useEffect)((()=>{let e=1==t("a_b_testing");d(e);let a=1==t("a_b_testing_buttons");u(a)}),[e]);const h=[{title:(0,n.__)("Data Requests","complianz-gdpr"),viewLink:"#tools/data-requests",enableLink:"#wizard/security-consent",field:{name:"datarequest",value:"yes"},link:"https://complianz.io/definition/what-is-a-data-request/",plusone:(0,s.createElement)(r,{count:m})},{title:(0,n.__)("Records of Consent","complianz-gdpr"),viewLink:"#tools/records-of-consent",enableLink:"#wizard/security-consent",field:{name:"records_of_consent",value:"yes"},link:"https://complianz.io/records-of-consent/"},{title:(0,n.__)("Processing Agreements","complianz-gdpr"),viewLink:"#tools/processing-agreements",link:"https://complianz.io/definition/what-is-a-processing-agreement/"},{title:(0,n.__)("Consent Statistics","complianz-gdpr"),viewLink:"#tools/ab-testing",link:"https://complianz.io/a-quick-introduction-to-a-b-testing/"},{title:(0,n.__)("A/B Testing","complianz-gdpr"),viewLink:"#tools/ab-testing",link:"https://complianz.io/a-quick-introduction-to-a-b-testing/"},{title:(0,n.__)("Documentation","complianz-gdpr"),link:"https://complianz.io/support/"},{title:(0,n.__)("Premium Support","complianz-gdpr"),viewLink:"#tools/support",link:"https://complianz.io/about-premium-support/"},{title:"WooCommerce",plugin:"woocommerce",link:cmplz_settings.admin_url+"admin.php?page=wc-settings&tab=account"},{title:(0,n.__)("Multisite","complianz-gdpr"),link:"#tools/multisite",viewLink:"#tools/multisite"},{title:(0,n.__)("Security","complianz-gdpr"),link:"#tools/security",viewLink:"#tools/security"}];return a?(0,s.createElement)(s.Fragment,null,(0,s.createElement)(c.default,{abTestingEnabled:p})):(0,s.createElement)(s.Fragment,null,h.map(((e,t)=>(0,s.createElement)(o.default,{key:t,item:e}))))}},82640:function(e,t,a){a.r(t);var s=a(30270),i=a(48399),n=a(12902);const l=(0,s.Ue)(((e,t)=>({recordsLoaded:!1,searchValue:"",setSearchValue:t=>e({searchValue:t}),fetching:!1,generating:!1,progress:!1,records:[],totalRecords:0,totalOpen:0,exportLink:"",noData:!1,deleteRecords:async a=>{let s=t().records.filter((e=>a.includes(e.ID)));e((e=>({records:e.records.filter((e=>!a.includes(e.ID)))})));let n={};n.records=s,await i.doAction("delete_datarequests",n).then((e=>e)).catch((e=>{console.error(e)}))},resolveRecords:async a=>{e((0,n.ZP)((e=>{e.records.forEach((function(t,s){a.includes(t.ID)&&(e.records[s].resolved=!0)}))})));let s={};s.records=t().records.filter((e=>a.includes(e.ID))),await i.doAction("resolve_datarequests",s).then((e=>e)).catch((e=>{console.error(e)}))},fetchData:async(a,s,n,l)=>{if(t().fetching)return;e({fetching:!0});let c={};c.per_page=a,c.page=s,c.order=l.toUpperCase(),c.orderBy=n,c.search=t().searchValue;const{records:o,totalRecords:r,totalOpen:d}=await i.doAction("get_datarequests",c).then((e=>e)).catch((e=>{console.error(e)}));e((()=>({recordsLoaded:!0,records:o,totalRecords:r,totalOpen:d,fetching:!1})))},startExport:async()=>{e({generating:!0,progress:0,exportLink:""})},fetchExportDatarequestsProgress:async(t,a,s)=>{(t=void 0!==t&&t)||e({generating:!0});let n={};n.startDate=a,n.endDate=s,n.statusOnly=t;const{progress:l,exportLink:c,noData:o}=await i.doAction("export_datarequests",n).then((e=>e)).catch((e=>{console.error(e)}));let r=!1;l<100&&(r=!0),e({progress:l,exportLink:c,generating:r,noData:o})}})));t.default=l},85671:function(e,t,a){a.r(t);var s=a(30270),i=a(12902),n=a(48399);const l=(0,s.Ue)(((e,t)=>({integrationsLoaded:!1,fetching:!1,services:[],plugins:[],scripts:[],placeholders:[],blockedScripts:[],setScript:(t,a)=>{e((0,i.ZP)((e=>{if("block_script"===a){let a=e.blockedScripts;if(t.urls){for(const[e,s]of Object.entries(t.urls)){if(!s||0===s.length)continue;let e=!1;for(const[t,i]of Object.entries(a))s===t&&(e=!0);e||(a[s]=s)}e.blockedScripts=a}}const s=e.scripts[a].findIndex((e=>e.id===t.id));-1!==s&&(e.scripts[a][s]=t)})))},fetchIntegrationsData:async()=>{if(t().fetching)return;e({fetching:!0});const{services:a,plugins:s,scripts:i,placeholders:n,blocked_scripts:l}=await c();let o=i;o.block_script&&o.block_script.length>0&&o.block_script.forEach(((e,t)=>{e.id=t})),o.add_script&&o.add_script.length>0&&o.add_script.forEach(((e,t)=>{e.id=t})),o.whitelist_script&&o.whitelist_script.length>0&&o.whitelist_script.forEach(((e,t)=>{e.id=t})),e((()=>({integrationsLoaded:!0,services:a,plugins:s,scripts:o,fetching:!1,placeholders:n,blockedScripts:l})))},addScript:a=>{e({fetching:!0}),e((0,i.ZP)((e=>{e.scripts[a].push({name:"general",id:e.scripts[a].length,enable:!0})})));let s=t().scripts;return n.doAction("update_scripts",{scripts:s}).then((t=>(e({fetching:!1}),t))).catch((e=>{console.error(e)}))},saveScript:(a,s)=>{e({fetching:!0}),e((0,i.ZP)((e=>{const t=e.scripts[s].findIndex((e=>e.id===a.id));-1!==t&&(e.scripts[s][t]=a)})));let l=t().scripts;return n.doAction("update_scripts",{scripts:l}).then((t=>(e({fetching:!1}),t))).catch((e=>{console.error(e)}))},deleteScript:(a,s)=>{e({fetching:!0}),e((0,i.ZP)((e=>{const t=e.scripts[s].findIndex((e=>e.id===a.id));-1!==t&&e.scripts[s].splice(t,1)})));let l=t().scripts;return n.doAction("update_scripts",{scripts:l}).then((t=>(e({fetching:!1}),t))).catch((e=>{console.error(e)}))},updatePluginStatus:async(t,a)=>{e({fetching:!0}),e((0,i.ZP)((e=>{const s=e.plugins.findIndex((e=>e.id===t));-1!==s&&(e.plugins[s].enabled=a)})));const s=await n.doAction("update_plugin_status",{plugin:t,enabled:a}).then((e=>e)).catch((e=>{console.error(e)}));return e({fetching:!1}),s},updatePlaceholderStatus:async(t,a,s)=>{e({fetching:!0}),s&&e((0,i.ZP)((e=>{const s=e.plugins.findIndex((e=>e.id===t));-1!==s&&(e.plugins[s].placeholder=a?"enabled":"disabled")})));const l=await n.doAction("update_placeholder_status",{id:t,enabled:a}).then((e=>e)).catch((e=>{console.error(e)}));return e({fetching:!1}),l}})));t.default=l;const c=()=>n.doAction("get_integrations_data",{}).then((e=>e)).catch((e=>{console.error(e)}))},71789:function(e,t,a){a.r(t);var s=a(30270),i=a(48399);const n=(0,s.Ue)(((e,t)=>({licenseStatus:cmplz_settings.licenseStatus,processing:!1,licenseNotices:[],noticesLoaded:!1,getLicenseNotices:async()=>{const{licenseStatus:t,notices:a}=await i.doAction("license_notices",{}).then((e=>e));e((e=>({noticesLoaded:!0,licenseNotices:a,licenseStatus:t})))},activateLicense:async t=>{let a={};a.license=t,e({processing:!0});const{licenseStatus:s,notices:n}=await i.doAction("activate_license",a);e((e=>({processing:!1,licenseNotices:n,licenseStatus:s})))},deactivateLicense:async()=>{e({processing:!0});const{licenseStatus:t,notices:a}=await i.doAction("deactivate_license");e((e=>({processing:!1,licenseNotices:a,licenseStatus:t})))}})));t.default=n},23252:function(e,t,a){a.r(t);var s=a(30270),i=a(48399);const n={optin:{labels:["Functional","Statistics","Marketing","Do Not Track","No Choice","No Warning"],categories:["functional","statistics","marketing","do_not_track","no_choice","no_warning"],datasets:[{data:["0","0","0","0","0","0"],backgroundColor:"rgba(46, 138, 55, 1)",borderColor:"rgba(46, 138, 55, 1)",label:"A (default)",fill:"false",borderDash:[0,0]},{data:["0","0","0","0","0","0"],backgroundColor:"rgba(244, 191, 62, 1)",borderColor:"rgba(244, 191, 62, 1)",label:"B",fill:"false",borderDash:[0,0]}],max:5},optout:{labels:["Functional","Statistics","Marketing","Do Not Track","No Choice","No Warning"],categories:["functional","statistics","marketing","do_not_track","no_choice","no_warning"],datasets:[{data:["0","0","0","0","0","0"],backgroundColor:"rgba(46, 138, 55, 1)",borderColor:"rgba(46, 138, 55, 1)",label:"A (default)",fill:"false",borderDash:[0,0]},{data:["0","0","0","0","0","0"],backgroundColor:"rgba(244, 191, 62, 1)",borderColor:"rgba(244, 191, 62, 1)",label:"B",fill:"false",borderDash:[0,0]}],max:5}},l={optin:{labels:["Functional","Statistics","Marketing","Do Not Track","No Choice","No Warning"],categories:["functional","statistics","marketing","do_not_track","no_choice","no_warning"],datasets:[{data:["29","747","174","292","30","10"],backgroundColor:"rgba(46, 138, 55, 1)",borderColor:"rgba(46, 138, 55, 1)",label:"Demo A (default)",fill:"false",borderDash:[0,0]},{data:["3","536","240","389","45","32"],backgroundColor:"rgba(244, 191, 62, 1)",borderColor:"rgba(244, 191, 62, 1)",label:"Demo B",fill:"false",borderDash:[0,0]}],max:5},optout:{labels:["Functional","Statistics","Marketing","Do Not Track","No Choice","No Warning"],categories:["functional","statistics","marketing","do_not_track","no_choice","no_warning"],datasets:[{data:["29","747","174","292","30","10"],backgroundColor:"rgba(46, 138, 55, 1)",borderColor:"rgba(46, 138, 55, 1)",label:"A (default)",fill:"false",borderDash:[0,0]},{data:["3","536","240","389","45","32"],backgroundColor:"rgba(244, 191, 62, 1)",borderColor:"rgba(244, 191, 62, 1)",label:"Demo B",fill:"false",borderDash:[0,0]}],max:5}},c=(0,s.Ue)(((e,t)=>({consentType:"optin",setConsentType:t=>{e({consentType:t})},statisticsLoading:!1,consentTypes:[],regions:[],defaultConsentType:"optin",loaded:!1,statisticsData:complianz.is_premium?l:n,emptyStatisticsData:n,bestPerformerEnabled:!1,daysLeft:"",abTrackingCompleted:!1,labels:[],setLabels:t=>{e({labels:t})},fetchStatisticsData:async()=>{if(e({saving:!0}),t().loaded)return;const{daysLeft:a,abTrackingCompleted:s,consentTypes:n,statisticsData:l,defaultConsentType:c,regions:o,bestPerformerEnabled:r}=await i.doAction("get_statistics_data",{}).then((e=>e)).catch((e=>{console.error(e)}));e({saving:!1,loaded:!0,consentType:c,consentTypes:n,statisticsData:l,defaultConsentType:c,bestPerformerEnabled:r,regions:o,daysLeft:a,abTrackingCompleted:s})}})));t.default=c}}]);