{"version":3,"file":"src_Settings_Settings_js.js","mappings":"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","sources":["webpack://complianz-gdpr/./src/Settings/DocumentsMenu/MenuData.js","webpack://complianz-gdpr/./src/Settings/Help.js","webpack://complianz-gdpr/./src/Settings/License/LicenseData.js","webpack://complianz-gdpr/./src/Settings/Settings.js","webpack://complianz-gdpr/./src/Settings/SettingsGroup.js","webpack://complianz-gdpr/./src/utils/lib.js"],"sourcesContent":["import {create} from 'zustand';\nimport * as cmplz_api from \"../../utils/api\";\nimport produce from \"immer\";\nimport {toast} from \"react-toastify\";\nimport {__} from '@wordpress/i18n';\n\nexport const UseMenuData = create(( set, get ) => ({\n\tmenuDataLoaded: false,\n\tsaving: false,\n\tmenu: [],\n\tmenuChanged:false,\n\tchangedMenuType:'per_document',\n\temptyMenuLink:'#',\n\trequiredDocuments:[],\n\tcreatedDocuments:[],\n\tgenericDocuments:[],\n\tdocumentsNotInMenu:[],\n\tpageTypes:[],\n\tregions:[],\n\tfetchMenuData: async () => {\n\t\tconst response = await fetchMenuData(false);\n\t\tlet createdDocuments = response.required_documents.filter( document => document.page_id );\n\n\t\tset({\n\t\t\tmenuDataLoaded:true,\n\t\t\temptyMenuLink: response.empty_menu_link,\n\t\t\tmenu: response.menu,\n\t\t\trequiredDocuments: response.required_documents,\n\t\t\tgenericDocuments: response.generic_documents_list,\n\t\t\tcreatedDocuments: createdDocuments,\n\t\t\tpageTypes: response.page_types,\n\t\t\tdocumentsNotInMenu: response.documents_not_in_menu,\n\t\t\tregions: response.regions,\n\t\t});\n\t},\n\tupdateMenu: (page_id, menu_id) => {\n\t\tlet menuType = isNaN(page_id) ? 'per_type' : 'per_document';\n\t\tset({ menuType:menuType });\n\t\tif (menuType==='per_type') {\n\t\t\tset(\n\t\t\t\tproduce((state) => {\n\t\t\t\t\tlet genIndex = state.genericDocuments.findIndex(function(page, i) {\n\t\t\t\t\t\treturn page.page_id === page_id || page.type === page_id;\n\t\t\t\t\t});\n\t\t\t\t\tlet createdIndex = state.createdDocuments.findIndex(function(page, i) {\n\t\t\t\t\t\treturn page.page_id === page_id || page.type === page_id;\n\t\t\t\t\t});\n\t\t\t\t\tif ( genIndex!==-1 ) {\n\t\t\t\t\t\tstate.genericDocuments[genIndex].menu_id = menu_id;\n\t\t\t\t\t\tif (createdIndex!==-1) state.createdDocuments[createdIndex].menu_id = -1;\n\t\t\t\t\t\tstate.menuChanged = true;\n\t\t\t\t\t}\n\n\t\t\t\t})\n\t\t\t)\n\t\t} else {\n\t\t\tset(\n\t\t\t\tproduce((state) => {\n\t\t\t\t\tlet genIndex = state.genericDocuments.findIndex(function(page, i) {\n\t\t\t\t\t\treturn page.page_id === page_id || page.type === page_id;\n\t\t\t\t\t});\n\t\t\t\t\tlet createdIndex = state.createdDocuments.findIndex(function(page, i) {\n\t\t\t\t\t\treturn page.page_id === page_id || page.type === page_id;\n\t\t\t\t\t});;\n\t\t\t\t\tif ( createdIndex!==-1 ) {\n\t\t\t\t\t\tstate.createdDocuments[createdIndex].menu_id = menu_id;\n\t\t\t\t\t\tif (genIndex!==-1) state.genericDocuments[genIndex].menu_id = -1;\n\t\t\t\t\t\tstate.menuChanged = true;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t)\n\t\t}\n\t},\n\tsaveDocumentsMenu: async (hasChangedFields, showNotice) => {\n\t\tset({saving:true });\n\t\tlet menuChanged = get().menuChanged;\n\t\tif ( menuChanged || hasChangedFields ) {\n\t\t\tlet data = {};\n\t\t\t//post for generic documents only the redirected ones.\n\t\t\tdata.genericDocuments = get().genericDocuments.filter(document => document.can_region_redirect);\n\t\t\tdata.createdDocuments = get().createdDocuments;\n\t\t\tconst response = cmplz_api.doAction('save_documents_menu_data', data).then((response) => {\n\t\t\t\tset({saving:false });\n\t\t\t\treturn response;\n\t\t\t}).catch((error) => {\n\t\t\t\tconsole.error(error);\n\t\t\t});\n\t\t\tshowNotice && toast.promise(\n\t\t\t\tresponse,\n\t\t\t\t{\n\t\t\t\t\tpending: __('Saving menu...', 'complianz-gdpr'),\n\t\t\t\t\tsuccess: __('Menu saved', 'complianz-gdpr'),\n\t\t\t\t\terror: __('Something went wrong', 'complianz-gdpr'),\n\t\t\t\t}\n\t\t\t);\n\t\t} else {\n\t\t\tshowNotice && toast.info(__('Settings have not been changed','complianz-gdpr'));\n\t\t}\n\n\t},\n}));\n\nconst fetchMenuData = () => {\n\tlet data = {};\n\tdata.generate = false;\n\treturn cmplz_api.doAction('documents_menu_data', data).then((response) => {\n\t\treturn response;\n\t}).catch((error) => {\n\t\tconsole.error(error);\n\t});\n}\n\n\n\n","import Icon from \"../utils/Icon\";\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Render a help notice in the sidebar\n */\nconst Help = (props) => {\n\tlet notice = props.help;\n\tif ( !notice.title ){\n\t\tnotice.title = notice.text;\n\t\tnotice.text = false;\n\t}\n\tlet openStatus = props.noticesExpanded ? 'open' : '';\n\t//we can use notice.linked_field to create a visual link to the field.\n\n\tlet target = notice.url && notice.url.indexOf(\"complianz.io\") !==-1 ? \"_blank\" : '_self';\n\treturn (\n\t\t<>\n\t\t\t{ notice.title && notice.text &&\n\t\t\t\t<details className={\"cmplz-wizard-help-notice cmplz-\" + notice.label.toLowerCase()} open={openStatus}>\n\t\t\t\t\t<summary>{notice.title} <Icon name='chevron-down' /></summary>\n\t\t\t\t\t{/*some notices contain html, like for the htaccess notices. A title is required for those options, otherwise the text becomes the title. */}\n\t\t\t\t\t<div dangerouslySetInnerHTML={{__html:notice.text}}></div>\n\t\t\t\t\t{notice.url && <div className=\"cmplz-help-more-info\"><a target={target} href={notice.url}>{__(\"More info\", \"complianz-gdpr\")}</a></div>}\n\t\t\t\t</details>\n\t\t\t}\n\t\t\t{ notice.title && !notice.text &&\n\t\t\t\t<div className={\"cmplz-wizard-help-notice cmplz-\" + notice.label.toLowerCase()}><p>{notice.title}</p></div>\n\t\t\t}\n\t\t</>\n\n\t);\n\n}\n\nexport default Help\n","import {create} from 'zustand';\nimport * as cmplz_api from \"../../utils/api\";\nconst UseLicenseData = create(( set, get ) => ({\n    licenseStatus: cmplz_settings.licenseStatus,\n\tprocessing:false,\n\tlicenseNotices: [],\n\tnoticesLoaded: false,\n\tgetLicenseNotices: async () => {\n\t\tconst {licenseStatus, notices} = await cmplz_api.doAction('license_notices', {}).then( ( response ) => {\n\t\t\treturn response;\n\t\t});\n\t\tset(state => ({ noticesLoaded:true,licenseNotices:notices, licenseStatus:licenseStatus}));\n\t},\n\tactivateLicense: async (license) => {\n\t\tlet data = {};\n\t\tdata.license = license;\n\t\tset({processing:true})\n\t\tconst {licenseStatus, notices} = await cmplz_api.doAction('activate_license', data);\n\t\tset(state => ({processing:false,licenseNotices:notices, licenseStatus:licenseStatus}));\n\t},\n\tdeactivateLicense: async () => {\n\t\tset({processing:true})\n\t\tconst {licenseStatus, notices} = await cmplz_api.doAction('deactivate_license');\n\t\tset(state => ({processing:false,licenseNotices:notices, licenseStatus:licenseStatus}));\n\t}\n\n}));\n\nexport default UseLicenseData;\n\n","import {in_array} from \"../utils/lib\";\nimport SettingsGroup from \"./SettingsGroup\";\nimport Help from \"./Help\";\nimport {useState, useEffect} from \"@wordpress/element\";\nimport { __ } from '@wordpress/i18n';\nimport useFields from \"../Settings/Fields/FieldsData\";\nimport useMenu from \"../Menu/MenuData\";\nimport {UseMenuData} from \"./DocumentsMenu/MenuData\";\nimport UseBannerData from \"./CookieBannerPreview/CookieBannerData\";\nimport useProgress from \"../Dashboard/Progress/ProgressData\";\nimport SettingsPlaceholder from \"../Placeholder/SettingsPlaceholder\";\n\n/**\n * Renders the selected settings\n *\n */\nconst Settings = () => {\n    const [noticesExpanded, setNoticesExpanded] = useState(true);\n\tconst {progressLoaded, notices, fetchProgressData} = useProgress();\n\tconst {getFieldNotices, fieldNotices,fieldNoticesLoaded, fieldsLoaded, saveFields, changedFields, fields, notCompletedRequiredFields, completableFields,fetchAllFieldsCompleted, nextButtonDisabled} = useFields();\n\tconst {subMenuLoaded, saveButtonsRequired, subMenu, selectedSubMenuItem, selectedMainMenuItem, nextMenuItem, previousMenuItem} = useMenu();\n\tconst { saveBanner, setBannerDataLoaded} = UseBannerData();\n\tconst { saveDocumentsMenu } = UseMenuData();\n\tconst [CookieBannerPreview, setCookieBannerPreview] = useState(null);\n\tuseEffect( () => {\n\t\tif (selectedMainMenuItem === 'banner' && !CookieBannerPreview ){\n\t\t\timport ( \"./CookieBannerPreview/CookieBannerPreview\").then(({ default: CookieBannerPreview }) => {\n\t\t\t\tsetCookieBannerPreview(() => CookieBannerPreview);\n\t\t\t});\n\t\t}\n\t}, [selectedMainMenuItem]);\n\n\tuseEffect (() => {\n\t\tgetFieldNotices();\n\t\tfetchAllFieldsCompleted();\n\t},[fields]);\n\n    const toggleNotices = () => {\n        setNoticesExpanded(!noticesExpanded);\n    }\n\tconst getProgressBarWidth = () => {\n\t\tlet fieldsCompletedPercentage = notCompletedRequiredFields.length>0 ? Math.round((completableFields.length-notCompletedRequiredFields.length)/completableFields.length*100) : 100;\n\t\treturn Object.assign(\n\t\t\t{},\n\t\t\t{width: fieldsCompletedPercentage+\"%\"},\n\t\t);\n\t}\n\n\tconst saveData = async (finish, showNotice) => {\n\t\tconst regionIndex = changedFields.findIndex(field => {\n\t\t\treturn field.id==='regions';\n\t\t});\n\t\tif (regionIndex !== -1) {\n\t\t\t//if the region field is changed, we need to update the banner\n\t\t\tsetBannerDataLoaded(false);\n\t\t}\n\t\tif ( selectedSubMenuItem === 'document-menu' ) {\n\t\t\tawait saveFields(selectedSubMenuItem, showNotice, false);\n\t\t\tawait saveDocumentsMenu(changedFields.length>0, showNotice);\n\t\t} else if ( selectedMainMenuItem === 'banner' ) {\n\t\t\tawait saveBanner(fields);\n\t\t} else {\n\t\t\tawait saveFields(selectedSubMenuItem, showNotice, finish);\n\t\t\tawait fetchProgressData();\n\t\t}\n\t}\n\n\tconst { menu_items: menuItems } = subMenu;\n\tif ( !subMenuLoaded || !fieldsLoaded || menuItems.length===0 ) {\n\t\treturn(\n\t\t\t<SettingsPlaceholder />\n\t\t)\n\t}\n\tlet selectedFields = fields.filter(field => field.menu_id === selectedSubMenuItem);\n\tlet groups = [];\n\tfor (const selectedField of selectedFields){\n\t\tif ( !in_array(selectedField.group_id, groups) ){\n\t\t\tgroups.push(selectedField.group_id);\n\t\t}\n\t}\n\tlet btnSaveText = __('Save', 'complianz-gdpr');\n\n\tlet helpNotices = [];\n\n\t//add some notices conditionally for fields\n\tif (fieldNoticesLoaded) {\n\t\tfor (const fieldNotice of fieldNotices ) {\n\t\t\tlet noticeFields = selectedFields.filter(field => fieldNotice.field_id === field.id)\n\t\t\tif (noticeFields.length>0) {\n\t\t\t\thelpNotices.push(fieldNotice);\n\t\t\t}\n\t\t}\n\t}\n\n\t//convert progress notices to an array useful for the help blocks\n\tif (progressLoaded) {\n\t\tfor (const notice of notices){\n\t\t\tlet noticeIsLinkedToField = false;\n\n\t\t\t//notices that are linked to a field. Only in case of warnings.\n\t\t\tif ( notice.show_with_options && notice.status === 'warning') {\n\t\t\t\tlet noticeFields = selectedFields.filter(field => notice.show_with_options.includes(field.id));\n\t\t\t\tnoticeIsLinkedToField = noticeFields.length>0;\n\t\t\t}\n\t\t\t//notices that are linked to a menu id.\n\t\t\tif ( noticeIsLinkedToField || notice.menu_id === selectedSubMenuItem ) {\n\t\t\t\tlet help = {};\n\t\t\t\thelp.title = notice.title ? notice.title : false;\n\t\t\t\thelp.label = notice.label;\n\t\t\t\thelp.id = notice.id;\n\t\t\t\thelp.text = notice.message;\n\t\t\t\thelp.url = notice.url;\n\t\t\t\thelp.linked_field = notice.show_with_option;\n\t\t\t\thelpNotices.push(help);\n\t\t\t}\n\t\t}\n\t}\n\n\t//help items belonging to a field\n\t//if field is hidden, hide the notice as well\n\tfor (const notice of selectedFields.filter(field => field.help && !field.conditionallyDisabled)){\n\t\tlet help = notice.help;\n\t\t//check if the notices array already includes this help item\n\t\t//this can happen in case of dynamic fields, like details per purpose\n\t\tlet existingNotices = helpNotices.filter(noticeItem => noticeItem.id && noticeItem.id===help.id);\n\t\tif ( existingNotices.length===0) {\n\t\t\thelpNotices.push(notice.help);\n\t\t}\n\t}\n\thelpNotices = helpNotices.filter(notice => notice.label.toLowerCase()!=='completed');\n\tlet cookiebannerEnabled = fields.filter(field => field.id === 'enable_cookie_banner' && field.value === 'yes' ).length>0;\n\tlet continueLink = nextButtonDisabled ? `#${selectedMainMenuItem}/${selectedSubMenuItem}` : nextMenuItem;\n\tlet finishLink = cookiebannerEnabled ? `#banner` : `#dashboard`;\n\treturn (\n\t\t<>\n\t\t\t<div className=\"cmplz-wizard-settings cmplz-column-2\">\n\t\t\t\t{ groups.map((group, i) =>\n\t\t\t\t\t<SettingsGroup key={i} index={i} group={group} fields={selectedFields}/>)\n\t\t\t\t}\n\n\t\t\t\t<div className=\"cmplz-grid-item-footer\">\n\t\t\t\t\t{selectedMainMenuItem==='wizard' &&\n\t\t\t\t\t<div className=\"cmplz-grid-item-footer-progress-bar\">\n\t\t\t\t\t\t\t<div className=\"cmplz-bar\" style={getProgressBarWidth()}></div>\n\t\t\t\t\t</div>}\n\t\t\t\t\t{selectedMainMenuItem!=='wizard' &&\n\t\t\t\t\t\t<div className=\"cmplz-grid-item-footer-upsell-bar\">\n\t\t\t\t\t\t\t{!cmplz_settings.is_premium && <a className=\"button button-default\" href=\"https://complianz.io/pricing\" target=\"_blank\">{__(\"Get Premium\",\"complianz-gdpr\")}</a>}\n\t\t\t\t\t\t</div>}\n\t\t\t\t\t<div className={'cmplz-grid-item-footer-buttons'}>\n\t\t\t\t\t{/*This will be shown only if current step is not the first one*/}\n\t\t\t\t\t{ previousMenuItem!=='#' &&\n\t\t\t\t\t\t<a href={previousMenuItem} >\n\t\t\t\t\t\t\t{ __('Previous', 'complianz-gdpr') }\n\t\t\t\t\t\t</a>\n\t\t\t\t\t}\n\t\t\t\t\t{ saveButtonsRequired() &&\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\"button button-default\"\n\t\t\t\t\t\t\t\tonClick={ ( e ) => saveData(false, true) }>\n\t\t\t\t\t\t\t\t{ btnSaveText }\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{/*This will be shown only if current step is not the last one*/}\n\t\t\t\t\t\t{ selectedSubMenuItem !== menuItems[menuItems.length-1].id &&\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{ saveButtonsRequired() &&\n\n\t\t\t\t\t\t\t\t<a disabled={nextButtonDisabled} className=\"button button-primary\" href={continueLink} onClick={ ( e ) => saveData(false, false) }>\n\t\t\t\t\t\t\t\t\t{ __( 'Save and Continue', 'complianz-gdpr' ) }\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{ !saveButtonsRequired() &&\n\t\t\t\t\t\t\t\t<a className=\"button button-primary\" href={continueLink} onClick={ ( e ) => saveData(false, false) }>\n\t\t\t\t\t\t\t\t\t{ __( 'Continue', 'complianz-gdpr' ) }\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t}\n\n\t\t\t\t\t{ selectedMainMenuItem ==='wizard' && selectedSubMenuItem === menuItems[menuItems.length-1].id &&\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<a disabled={nextButtonDisabled} className=\"button button-primary\" href={finishLink} onClick={ ( e ) => saveData(true, false) }>\n\t\t\t\t\t\t\t\t{ __( 'Finish', 'complianz-gdpr' ) }\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</>\n\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"cmplz-wizard-help\">\n\t\t\t\t<div className=\"cmplz-help-header\">\n\t\t\t\t\t<h3 className=\"cmplz-h4\">\n\t\t\t\t\t\t{__(\"Notifications\", \"complianz-gdpr\")}\n\t\t\t\t\t</h3>\n\t\t\t\t\t<div className=\"cmplz-help-control\" onClick={ () => toggleNotices() }>\n\t\t\t\t\t\t{!noticesExpanded && __(\"Expand all\",\"complianz-gdpr\")}\n\t\t\t\t\t\t{noticesExpanded && __(\"Collapse all\",\"complianz-gdpr\")}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{helpNotices.map((field, i) => <Help key={i} noticesExpanded={noticesExpanded} help={field} fieldId={field.id}/>)}\n\t\t\t</div>\n\t\t\t{selectedMainMenuItem==='banner' && CookieBannerPreview && <CookieBannerPreview /> }\n\t\t</>\n\t)\n\n}\nexport default Settings\n","import Hyperlink from \"../utils/Hyperlink\";\nimport { __ } from '@wordpress/i18n';\nimport useMenu from \"../Menu/MenuData\";\nimport useLicense from \"./License/LicenseData\";\nimport {useEffect,useState} from '@wordpress/element';\nimport useFields from './Fields/FieldsData';\nimport UseBannerData from \"./CookieBannerPreview/CookieBannerData\";\n\n/**\n * Render a grouped block of settings\n */\nconst SettingsGroup = (props) => {\n\tconst { highLightField} = useFields();\n\t//@todo uncomment uselicense\n\tconst {licenseStatus} = useLicense();\n\tconst { bannerDataLoaded} = UseBannerData();\n\tlet upgrade='https://complianz.io/pricing/';\n\tconst {subMenu, getMenuRegions, selectedSubMenuItem} = useMenu();\n\n\tlet regions = getMenuRegions();\n\tconst [Field, setField] = useState(null);\n\tuseEffect( () => {\n\t\timport(\"./Fields/Field\").then(({ default: Field }) => {\n\t\t\tsetField(() => Field);\n\t\t});\n\t}, []);\n\n\tlet selectedFields = [];\n\t//get all fields with group_id props.group_id\n\tfor (const selectedField of props.fields){\n\t\tif (selectedField.group_id === props.group ){\n\t\t\tselectedFields.push(selectedField);\n\t\t}\n\t}\n\n\tlet activeGroup;\n\t//first, set the selected menu item as active group, so we have a default in case there are no groups\n\tfor (const item of subMenu.menu_items){\n\t\tif (item.id === selectedSubMenuItem ) {\n\t\t\tactiveGroup = item;\n\t\t} else if (item.menu_items) {\n\t\t\tactiveGroup = item.menu_items.filter(menuItem => menuItem.id === selectedSubMenuItem)[0];\n\t\t}\n\t\tif ( activeGroup ) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\t//now check if we have actual groups\n\tfor (const item of subMenu.menu_items){\n\t\tif (item.id === selectedSubMenuItem && item.hasOwnProperty('groups')) {\n\t\t\tlet currentGroup = item.groups.filter(group => group.id === props.group);\n\t\t\tif (currentGroup.length>0) {\n\t\t\t\tactiveGroup = currentGroup[0];\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( !activeGroup ) {\n\t\treturn (<></>);\n\t}\n\tlet msg = activeGroup.premium_text ? activeGroup.premium_text : __(\"Learn more about %sPremium%s\", \"complianz-gdpr\");\n\tif ( cmplz_settings.is_premium ) {\n\t\tif ( licenseStatus === 'empty' || licenseStatus === 'deactivated' ) {\n\t\t\tmsg = cmplz_settings.messageInactive;\n\t\t} else {\n\t\t\tmsg = cmplz_settings.messageInvalid;\n\t\t}\n\t}\n\n\tlet disabled = licenseStatus !=='valid' && activeGroup.premium;\n\t//if a feature can only be used on networkwide or single site setups, pass that info here.\n\tupgrade = activeGroup.upgrade ? activeGroup.upgrade : upgrade;\n\tlet helplinkText = activeGroup.helpLink_text ? activeGroup.helpLink_text : __(\"Instructions\",\"complianz-gdpr\");\n\tlet disabledClass = disabled ? 'cmplz-disabled' : '';\n\treturn (\n\t\t<div className={\"cmplz-grid-item cmplz-\"+activeGroup.id + ' ' +  disabledClass}>\n\t\t\t{activeGroup.title && <div className=\"cmplz-grid-item-header\">\n\t\t\t\t<h3 className=\"cmplz-h4\">{activeGroup.title}</h3>\n\t\t\t\t{regions.length>0 && <div className=\"cmplz-grid-item-controls\">\n\t\t\t\t\t{regions.map((region, i) =>\n\t\t\t\t\t\t<div key={i}><img className=\"cmplz-settings-region\" src={cmplz_settings.plugin_url+'/assets/images/'+region+'.svg'} /></div>\n\t\t\t\t\t)}\n\t\t\t\t</div>}\n\n\t\t\t\t{regions.length===0 && activeGroup.helpLink && <div className=\"cmplz-grid-item-controls\">\n\t\t\t\t\t<Hyperlink target=\"_blank\" className=\"cmplz-helplink\" text={helplinkText} url={activeGroup.helpLink}/>\n\t\t\t\t</div>}\n\t\t\t</div>}\n\t\t\t<div className=\"cmplz-grid-item-content\">\n\t\t\t\t{activeGroup.intro && <div className=\"cmplz-settings-block-intro\" dangerouslySetInnerHTML={{__html:activeGroup.intro}}></div>}\n\t\t\t\t{Field && selectedFields.map((field, i) =>\n\t\t\t\t\t<Field key={field.id} field={field} highLightField={highLightField} />)\n\t\t\t\t}\n\t\t\t</div>\n\t\t\t{ disabled && <div className=\"cmplz-locked\">\n\t\t\t\t<div className=\"cmplz-locked-overlay\">\n\t\t\t\t\t<span className=\"cmplz-task-status cmplz-premium\">{__(\"Upgrade\",\"complianz-gdpr\")}</span>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t{ cmplz_settings.is_premium && <span>{msg}&nbsp;<a className=\"cmplz-locked-link\" href=\"#settings/license\">{__(\"Check license\", \"complianz-gdpr\")}</a></span>}\n\t\t\t\t\t\t{ !cmplz_settings.is_premium && <Hyperlink target=\"_blank\" text={msg} url={upgrade}/> }\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</div>}\n\t\t\t{ subMenu.id==='banner' && !bannerDataLoaded && <div className=\"cmplz-locked\">\n\t\t\t\t<div className=\"cmplz-locked-overlay\">\n\t\t\t\t</div>\n\t\t\t</div>}\n\t\t</div>\n\t)\n}\n\nexport default SettingsGroup\n","export const in_array = (needle, haystack) => {\n    let length = haystack.length;\n    for(let i = 0; i < length; i++) {\n        if( haystack[i] == needle ) return true;\n\n    }\n    return false;\n}\n\n\n"],"names":["create","cmplz_api","produce","toast","__","UseMenuData","set","get","menuDataLoaded","saving","menu","menuChanged","changedMenuType","emptyMenuLink","requiredDocuments","createdDocuments","genericDocuments","documentsNotInMenu","pageTypes","regions","fetchMenuData","response","required_documents","filter","document","page_id","empty_menu_link","generic_documents_list","page_types","documents_not_in_menu","updateMenu","menu_id","menuType","isNaN","state","genIndex","findIndex","page","i","type","createdIndex","saveDocumentsMenu","hasChangedFields","showNotice","data","can_region_redirect","doAction","then","catch","error","console","promise","pending","success","info","generate","Icon","Help","props","notice","help","title","text","openStatus","noticesExpanded","target","url","indexOf","createElement","Fragment","className","label","toLowerCase","open","name","dangerouslySetInnerHTML","__html","href","UseLicenseData","licenseStatus","cmplz_settings","processing","licenseNotices","noticesLoaded","getLicenseNotices","notices","activateLicense","license","deactivateLicense","in_array","SettingsGroup","useState","useEffect","useFields","useMenu","UseBannerData","useProgress","SettingsPlaceholder","Settings","setNoticesExpanded","progressLoaded","fetchProgressData","getFieldNotices","fieldNotices","fieldNoticesLoaded","fieldsLoaded","saveFields","changedFields","fields","notCompletedRequiredFields","completableFields","fetchAllFieldsCompleted","nextButtonDisabled","subMenuLoaded","saveButtonsRequired","subMenu","selectedSubMenuItem","selectedMainMenuItem","nextMenuItem","previousMenuItem","saveBanner","setBannerDataLoaded","CookieBannerPreview","setCookieBannerPreview","_ref","default","toggleNotices","getProgressBarWidth","fieldsCompletedPercentage","length","Math","round","Object","assign","width","saveData","finish","regionIndex","field","id","menu_items","menuItems","selectedFields","groups","selectedField","group_id","push","btnSaveText","helpNotices","fieldNotice","noticeFields","field_id","noticeIsLinkedToField","show_with_options","status","includes","message","linked_field","show_with_option","conditionallyDisabled","existingNotices","noticeItem","cookiebannerEnabled","value","continueLink","finishLink","map","group","key","index","style","is_premium","onClick","e","disabled","fieldId","Hyperlink","useLicense","highLightField","bannerDataLoaded","upgrade","getMenuRegions","Field","setField","activeGroup","item","menuItem","hasOwnProperty","currentGroup","msg","premium_text","messageInactive","messageInvalid","premium","helplinkText","helpLink_text","disabledClass","region","src","plugin_url","helpLink","intro","needle","haystack"],"sourceRoot":""}