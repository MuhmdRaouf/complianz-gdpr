"use strict";(self.webpackChunkcomplianz_gdpr=self.webpackChunkcomplianz_gdpr||[]).push([[8884,2175,881],{78884:function(e,t,a){a.r(t);var n=a(69307),o=a(80881),s=a(48399),l=a(56293),i=a(82485),r=a(55609);t.default=e=>{let{label:t,field:a,disabled:c}=e;const{fetchFieldsData:d,showSavedSettingsNotice:u}=(0,l.default)(),{selectedSubMenuItem:m}=(0,i.default)(),[f,g]=(0,n.useState)(!1);let p=a.button_text?a.button_text:a.label;if(a.action){const e=async e=>{a.warn?g(!0):await i()},t=async()=>{g(!1),await i()},l=()=>{g(!1)},i=async e=>{await s.doAction(a.action,{}).then((e=>{e.success&&(d(m),u(e.message))}))};return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(o.default,{text:p,style:"secondary",disabled:c,onClick:t=>e(t)}),(0,n.createElement)(r.__experimentalConfirmDialog,{isOpen:f,onConfirm:t,onCancel:l},a.warn))}return(0,n.createElement)(o.default,{style:"secondary",label:p,disabled:c,href:a.url})}},32175:function(e,t,a){a.r(t),a.d(t,{UseCookieScanData:function(){return s}});var n=a(30270),o=a(48399);const s=(0,n.Ue)(((e,t)=>({initialLoadCompleted:!1,setInitialLoadCompleted:t=>e({initialLoadCompleted:t}),iframeLoaded:!1,loading:!1,nextPage:!1,progress:0,cookies:[],lastLoadedIframe:"",setIframeLoaded:t=>e({iframeLoaded:t}),setLastLoadedIframe:t=>e((e=>({lastLoadedIframe:t}))),setProgress:t=>e({progress:t}),fetchProgress:()=>(e({loading:!0}),o.doAction("get_scan_progress",{}).then((t=>(e({initialLoadCompleted:!0,loading:!1,nextPage:t.next_page,progress:t.progress,cookies:t.cookies}),t))))})))},80881:function(e,t,a){a.r(t);var n=a(69307),o=a(99196),s=a(48399),l=a(56293),i=a(82485),r=a(55609),c=a(32175),d=a(82387);t.default=(0,o.memo)((e=>{let{type:t="action",style:a="tertiary",label:u,onClick:m,href:f="",target:g="",disabled:p,action:b,field:C,children:w}=e;if(!u&&!w)return null;const h=(C&&C.button_text?C.button_text:u)||w,{fetchFieldsData:_,showSavedSettingsNotice:k}=(0,l.default)(),{setInitialLoadCompleted:y,setProgress:L}=(0,c.UseCookieScanData)(),{setProgressLoaded:x}=(0,d.default)(),{selectedSubMenuItem:S}=(0,i.default)(),[E,I]=(0,o.useState)(!1),v=`button cmplz-button button--${a} button-${t}`,D=async e=>{await s.doAction(C.action,{}).then((e=>{e.success&&(_(S),"reset_settings"===e.id&&(y(!1),L(0),x(!1)),k(e.message))}))},P=C&&C.warn?C.warn:"";return"action"===t?(0,n.createElement)(n.Fragment,null,(0,n.createElement)(r.__experimentalConfirmDialog,{isOpen:E,onConfirm:async()=>{I(!1),await D()},onCancel:()=>{I(!1)}},P),(0,n.createElement)("button",{className:v,onClick:async e=>{"action"===t&&m?m(e):"action"===t&&b?C&&C.warn?I(!0):await D():window.location.href=C.url},disabled:p},h)):"link"===t?(0,n.createElement)("a",{className:v,href:f,target:g},h):void 0}))}}]);