{"version":3,"file":"src_Modal_Modal_js.js","mappings":"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","sources":["webpack://complianz-gdpr/./src/Modal/Modal.js"],"sourcesContent":["import {Component} from \"@wordpress/element\";\nimport { __ } from '@wordpress/i18n';\nimport * as cmplz_api from \"../utils/api\";\nimport Icon from \"../utils/Icon\";\n\nclass Modal extends Component {\n    constructor() {\n        super( ...arguments );\n        this.state = {\n            data:[],\n            buttonsDisabled:false,\n        };\n    }\n\n    dismissModal(dropItem){\n        this.props.handleModal(false, null, dropItem);\n    }\n    componentDidMount() {\n        this.setState({\n            data:this.props.data,\n            buttonsDisabled:false,\n        });\n    }\n\n    handleFix(e){\n        //set to disabled\n        let action = this.props.data.action;\n        this.setState({\n            buttonsDisabled:true\n        });\n        cmplz_api.doAction(action, 'refresh', this.props.data ).then( ( response ) => {\n            this.props.data\n            let {\n                data,\n            } = this.state;\n            data.description = response.msg;\n            data.subtitle = '';\n            this.setState({\n                data: data,\n            });\n            let item = this.props.data;\n            if (response.success) {\n                this.dismissModal(this.props.data);\n            }\n        });\n    }\n\n    render(){\n        const {\n            data,\n            buttonsDisabled,\n        } = this.state;\n        let disabled = buttonsDisabled ? 'disabled' : '';\n        let description = data.description;\n\n        return (\n            <div>\n                <div className=\"cmplz-modal-backdrop\" onClick={ (e) => this.dismissModal(e) }>&nbsp;</div>\n                <div className=\"cmplz-modal\" id=\"{id}\">\n                    <div className=\"cmplz-modal-header\">\n                        <h2 className=\"modal-title\">\n                            {data.title}\n                        </h2>\n                        <button type=\"button\" className=\"cmplz-modal-close\" data-dismiss=\"modal\" aria-label=\"Close\" onClick={ (e) => this.dismissModal(e) }>\n                            <Icon name='times' />\n                        </button>\n                    </div>\n                    <div className=\"cmplz-modal-content\">\n                        {data.subtitle && <div className=\"cmplz-modal-subtitle\">{data.subtitle}</div>}\n\t\t\t\t\t\t{ Array.isArray(description) && description.map(\n\t\t\t\t\t\t\t(s, i) => <div key={i} className=\"cmplz-modal-description\">{s}</div>\n\t\t\t\t\t\t) }\n                    </div>\n                    <div className=\"cmplz-modal-footer\">\n                        { data.edit && <a href={data.edit} target=\"_blank\" className=\"button button-secondary\">{__(\"Edit\", \"complianz-gdpr\")}</a>}\n                        { data.help && <a href={data.help} target=\"_blank\"  className=\"button cmplz-button-help\">{__(\"Help\", \"complianz-gdpr\")}</a>}\n                        { (!data.ignored && data.action==='ignore_url') && <button disabled={disabled} className=\"button button-primary\" onClick={ (e) => this.handleFix(e) }>{ __(\"Ignore\", \"complianz-gdpr\")}</button>}\n                        { data.action!=='ignore_url' &&  <button disabled={disabled} className=\"button button-primary\" onClick={ (e) => this.handleFix(e) }>{__(\"Fix\", \"complianz-gdpr\")}</button> }\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Modal;\n"],"names":["Component","__","cmplz_api","Icon","Modal","constructor","arguments","state","data","buttonsDisabled","dismissModal","dropItem","props","handleModal","componentDidMount","setState","handleFix","e","action","doAction","then","response","description","msg","subtitle","item","success","render","disabled","createElement","className","onClick","id","title","type","name","Array","isArray","map","s","i","key","edit","href","target","help","ignored"],"sourceRoot":""}