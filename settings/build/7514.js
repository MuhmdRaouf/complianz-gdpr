"use strict";(globalThis.webpackChunkcomplianz_gdpr=globalThis.webpackChunkcomplianz_gdpr||[]).push([[7514,126,5671],{64053:(e,t,r)=>{r.d(t,{B:()=>a});var c=r(99196),n=r.n(c),i=r(32707),l=r(17255),s=r(88820);function a(e){const t=e+"CollectionProvider",[r,c]=(0,i.b)(t),[a,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),d=e+"CollectionSlot",u=e+"CollectionItemSlot",p="data-radix-collection-item";return[{Provider:e=>{const{scope:t,children:r}=e,c=n().useRef(null),i=n().useRef(new Map).current;return n().createElement(a,{scope:t,itemMap:i,collectionRef:c},r)},Slot:n().forwardRef(((e,t)=>{const{scope:r,children:c}=e,i=o(d,r),a=(0,l.e)(t,i.collectionRef);return n().createElement(s.g7,{ref:a},c)})),ItemSlot:n().forwardRef(((e,t)=>{const{scope:r,children:c,...i}=e,a=n().useRef(null),d=(0,l.e)(t,a),f=o(u,r);return n().useEffect((()=>(f.itemMap.set(a,{ref:a,...i}),()=>{f.itemMap.delete(a)}))),n().createElement(s.g7,{[p]:"",ref:d},c)}))},function(t){const r=o(e+"CollectionConsumer",t);return n().useCallback((()=>{const e=r.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll(`[${p}]`));return Array.from(r.itemMap.values()).sort(((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current)))}),[r.collectionRef,r.itemMap])},c]}},41931:(e,t,r)=>{r.d(t,{gm:()=>i});var c=r(99196);const n=(0,c.createContext)(void 0);function i(e){const t=(0,c.useContext)(n);return e||t||"ltr"}},66195:(e,t,r)=>{r.d(t,{M:()=>s});var c=r(99196),n=r(29563);const i=c["useId".toString()]||(()=>{});let l=0;function s(e){const[t,r]=c.useState(i());return(0,n.b)((()=>{e||r((e=>null!=e?e:String(l++)))}),[e]),e||(t?`radix-${t}`:"")}},67571:(e,t,r)=>{r.d(t,{D:()=>n});var c=r(99196);function n(e){const t=(0,c.useRef)({value:e,previous:e});return(0,c.useMemo)((()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous)),[e])}},41629:(e,t,r)=>{r.r(t),r.d(t,{default:()=>i});var c=r(69307),n=r(64693);const i=(0,r(99196).memo)((e=>{let{label:t,id:r,value:i,onChange:l,required:s,defaultValue:a,disabled:o,options:d={}}=e;return(0,c.createElement)(n.fC,{disabled:o&&!Array.isArray(o),className:"cmplz-input-group cmplz-radio-group",value:i,"aria-label":t,onValueChange:l,required:s,default:a},Object.entries(d).map((e=>{let[t,i]=e;return(0,c.createElement)("div",{key:t,className:"cmplz-radio-group__item"},(0,c.createElement)(n.ck,{disabled:Array.isArray(o)&&o.includes(t),value:t,id:r+"_"+t},(0,c.createElement)(n.z$,{className:"cmplz-radio-group__indicator"})),(0,c.createElement)("label",{className:"cmplz-radio-label",htmlFor:r+"_"+t},i))})))}))},17347:(e,t,r)=>{r.r(t),r.d(t,{default:()=>s});var c=r(69307),n=r(41629),i=r(65736),l=r(85671);const s=e=>{const{setScript:t,fetching:r}=(0,l.default)(),s=e.script,a={statistics:(0,i.__)("Statistics","complianz-gdpr"),marketing:(0,i.__)("Marketing","complianz-gdpr")};return(0,c.createElement)(c.Fragment,null,(0,c.createElement)("label",null,(0,i.__)("Category","complianz-gdpr")),(0,c.createElement)(n.default,{disabled:r,label:(0,i.__)("Marketing","complianz-gdpr"),id:"category",value:s.category,onChange:r=>((r,c)=>{let n={...s};n.category=r,t(n,e.type)})(r),defaultValue:"marketing",options:a}))}},85671:(e,t,r)=>{r.r(t),r.d(t,{default:()=>l});var c=r(30270),n=r(12902),i=r(48399);const l=(0,c.Ue)(((e,t)=>({integrationsLoaded:!1,fetching:!1,services:[],plugins:[],scripts:[],placeholders:[],blockedScripts:[],setScript:(t,r)=>{e((0,n.ZP)((e=>{if("block_script"===r){let r=e.blockedScripts;if(t.urls){for(const[e,c]of Object.entries(t.urls)){if(!c||0===c.length)continue;let e=!1;for(const[t,n]of Object.entries(r))c===t&&(e=!0);e||(r[c]=c)}e.blockedScripts=r}}const c=e.scripts[r].findIndex((e=>e.id===t.id));-1!==c&&(e.scripts[r][c]=t)})))},fetchIntegrationsData:async()=>{if(t().fetching)return;e({fetching:!0});const{services:r,plugins:c,scripts:n,placeholders:i,blocked_scripts:l}=await s();let a=n;a.block_script.forEach(((e,t)=>{e.id=t})),a.add_script.forEach(((e,t)=>{e.id=t})),a.whitelist_script.forEach(((e,t)=>{e.id=t})),e((()=>({integrationsLoaded:!0,services:r,plugins:c,scripts:a,fetching:!1,placeholders:i,blockedScripts:l})))},addScript:r=>{e({fetching:!0}),e((0,n.ZP)((e=>{e.scripts[r].push({name:"general",id:e.scripts[r].length,enable:!0})})));let c=t().scripts;return i.doAction("update_scripts",{scripts:c}).then((t=>(e({fetching:!1}),t))).catch((e=>{console.error(e)}))},saveScript:(r,c)=>{e({fetching:!0}),e((0,n.ZP)((e=>{const t=e.scripts[c].findIndex((e=>e.id===r.id));-1!==t&&(e.scripts[c][t]=r)})));let l=t().scripts;return i.doAction("update_scripts",{scripts:l}).then((t=>(e({fetching:!1}),t))).catch((e=>{console.error(e)}))},deleteScript:(r,c)=>{e({fetching:!0}),e((0,n.ZP)((e=>{const t=e.scripts[c].findIndex((e=>e.id===r.id));-1!==t&&e.scripts[c].splice(t,1)})));let l=t().scripts;return i.doAction("update_scripts",{scripts:l}).then((t=>(e({fetching:!1}),t))).catch((e=>{console.error(e)}))},updatePluginStatus:async(t,r)=>(e((0,n.ZP)((e=>{const c=e.plugins.findIndex((e=>e.id===t));-1!==c&&(e.plugins[c].enabled=r)}))),i.doAction("update_plugin_status",{plugin:t,enabled:r}).then((e=>e)).catch((e=>{console.error(e)}))),updatePlaceholderStatus:async(t,r,c)=>(c&&e((0,n.ZP)((e=>{const c=e.plugins.findIndex((e=>e.id===t));-1!==c&&(e.plugins[c].placeholder=r?"enabled":"disabled")}))),i.doAction("update_placeholder_status",{id:t,enabled:r}).then((e=>e)).catch((e=>{console.error(e)})))}))),s=()=>i.doAction("get_integrations_data",{}).then((e=>e)).catch((e=>{console.error(e)}))}}]);