{"version":3,"file":"src_Dashboard_Documents_DocumentsHeader_js.js","mappings":"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","sources":["webpack://complianz-gdpr/./src/Dashboard/Documents/DocumentsData.js","webpack://complianz-gdpr/./src/Dashboard/Documents/DocumentsHeader.js"],"sourcesContent":["import {create} from 'zustand';\nimport * as cmplz_api from \"../../utils/api\";\n\nconst useDocuments = create(( set, get ) => ({\n\tdocuments:[],\n\tdocumentDataLoaded:false,\n\tprocessingAgreementOptions:[],\n\tproofOfConsentOptions:[],\n\tdataBreachOptions:[],\n\tregion:'',\n\tsetRegion: (region) => {\n\t\tif (typeof (Storage) !== \"undefined\" ) {\n\t\t\tsessionStorage.cmplzSelectedRegion = region;\n\t\t}\n\t\tset(state => ({ region:region}));\n\t},\n\tgetRegion: () => {\n\t\tlet region = 'all';\n\t\tif (typeof (Storage) !== \"undefined\"){\n\t\t\tif (sessionStorage.cmplzSelectedRegion) {\n\t\t\t\tregion = sessionStorage.cmplzSelectedRegion;\n\t\t\t}\n\t\t}\n\t\tset(state => ({ region:region}));\n\t},\n\tgetDocuments: async () => {\n\t\tconst {documents, processingAgreementOptions, proofOfConsentOptions,dataBreachOptions} = await cmplz_api.doAction('documents_block_data').then( ( response ) => {\n\t\t\treturn response;\n\t\t});\n\t\tset(state => ({ documentDataLoaded:true,documents:documents, processingAgreementOptions:processingAgreementOptions, proofOfConsentOptions:proofOfConsentOptions,dataBreachOptions:dataBreachOptions}));\n\t},\n\n}));\n\nexport default useDocuments;\n\n","import {\n\tuseEffect\n} from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport useFields from \"../../Settings/Fields/FieldsData\";\nimport useDocuments from \"./DocumentsData\";\nimport {SelectControl} from \"@wordpress/components\";\n\nconst DocumentsHeader = (props) => {\n\tconst {getFieldValue, fieldsLoaded} = useFields();\n\tconst {getRegion, setRegion, region} = useDocuments();\n\n\tuseEffect( () => {\n\t\tgetRegion();\n\t}, [] );\n\n\tif (!fieldsLoaded) {\n\t\treturn null;\n\t}\n\tlet regions = getFieldValue('regions');\n\n\tif (!Array.isArray(regions)) regions = [regions];\n\tif (regions.length===0) regions = ['eu'];\n\tif (!regions) regions = [];\n\t//get labels from regions\n\tlet regionsOptions = [];\n\tfor ( const region of regions ){\n\t\tif (!cmplz_settings.regions.hasOwnProperty(region)) {\n\t\t\tcontinue;\n\t\t}\n\t\tlet item = {};\n\t\titem.label = cmplz_settings.regions[region]['label_full']\n\t\titem.value = region;\n\t\tregionsOptions.push(item);\n\t}\n\tlet item = {};\n\titem.label = __(\"General\",\"complianz-gdpr\");\n\titem.value = 'all';\n\tregionsOptions.push(item);\n\n\treturn (\n\t\t<>\n\t\t\t<h3 className=\"cmplz-grid-title cmplz-h4\">{ __( \"Documents\", 'complianz-gdpr' ) }</h3>\n\t\t\t<div className=\"cmplz-grid-item-controls\">\n\t\t\t\t<SelectControl\n\t\t\t\t\tonChange={ ( fieldValue ) => setRegion(fieldValue) }\n\t\t\t\t\tvalue= { region }\n\t\t\t\t\toptions={ regionsOptions }\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t</>\n\t);\n\n}\nexport default DocumentsHeader;\n"],"names":["create","cmplz_api","useDocuments","set","get","documents","documentDataLoaded","processingAgreementOptions","proofOfConsentOptions","dataBreachOptions","region","setRegion","Storage","sessionStorage","cmplzSelectedRegion","state","getRegion","getDocuments","doAction","then","response","useEffect","__","useFields","SelectControl","DocumentsHeader","props","getFieldValue","fieldsLoaded","regions","Array","isArray","length","regionsOptions","cmplz_settings","hasOwnProperty","item","label","value","push","createElement","Fragment","className","onChange","fieldValue","options"],"sourceRoot":""}