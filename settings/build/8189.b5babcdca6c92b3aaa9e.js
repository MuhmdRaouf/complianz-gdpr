"use strict";(self.webpackChunkcomplianz_gdpr=self.webpackChunkcomplianz_gdpr||[]).push([[8189,881,2588,4573],{68189:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var a=n(69307),l=n(20384),o=n(65736),c=n(34573),r=n(99057),i=n(56293),s=n(99196),d=n(382),m=n(32588);const u=e=>{const{getFieldValue:t,showSavedSettingsNotice:n}=(0,i.default)(),{saving:l,purposesOptions:c,services:u,updateCookie:p,toggleDeleteCookie:_,saveCookie:b}=(0,r.UseSyncData)(),[f,g]=(0,s.useState)({ID:e.ID,value:e.name}),[E,h]=(0,s.useState)({ID:e.ID,value:e.retention}),[v,y]=(0,s.useState)({ID:e.ID,value:e.cookieFunction});let k="yes"===t("use_cdb_api"),z=!!k&&1==e.sync,N=z;l&&(N=!0);let w=!1;e.slug.length>0&&(w="https://cookiedatabase.org/cookie/"+(e.service?e.service:"unknown-service")+"/"+e.slug);const C=(e,t,n)=>{p(t,n,e)};(0,s.useEffect)((()=>{const e=setTimeout((()=>{p(f.ID,"name",f.value)}),500);return()=>{clearTimeout(e)}}),[f]),(0,s.useEffect)((()=>{const e=setTimeout((()=>{p(v.ID,"cookieFunction",v.value)}),500);return()=>{clearTimeout(e)}}),[v]),(0,s.useEffect)((()=>{const e=setTimeout((()=>{p(E.ID,"retention",E.value)}),700);return()=>{clearTimeout(e)}}),[E]);const D=(e,t,n)=>{p(t,n,e)};let I=-1!==e.name.indexOf("cmplz_")||z,O=1!=e.deleted?"cmplz-reset-button":"",T=u.map(((e,t)=>({value:e.ID,label:e.name})));return(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{className:"cmplz-details-row cmplz-details-row__checkbox"},(0,a.createElement)(d.default,{id:e.ID+"_cdb_api",disabled:!k,value:z,onChange:t=>D(t,e.ID,"sync"),options:{sync:(0,o.__)("Sync cookie with cookiedatabase.org","complianz-gdpr")}})),(0,a.createElement)("div",{className:"cmplz-details-row cmplz-details-row__checkbox"},(0,a.createElement)(d.default,{id:e.ID+"showOnPolicy",disabled:N,value:e.showOnPolicy,onChange:t=>D(t,e.ID,"showOnPolicy"),options:{showOnPolicy:(0,o.__)("Show cookie on Cookie Policy","complianz-gdpr")}})),(0,a.createElement)("div",{className:"cmplz-details-row"},(0,a.createElement)("label",null,(0,o.__)("Name","complianz-gdpr")),(0,a.createElement)("input",{disabled:N,onChange:t=>((e,t,n)=>{let a={ID:t,value:e.target.value};g(a)})(t,e.ID),type:"text",placeholder:(0,o.__)("Name","complianz-gdpr"),value:f.value})),(0,a.createElement)("div",{className:"cmplz-details-row"},(0,a.createElement)("label",null,(0,o.__)("Service","complianz-gdpr")),(0,a.createElement)(m.default,{disabled:N,value:e.serviceID,options:T,onChange:t=>C(t,e.ID,"serviceID")})),(0,a.createElement)("div",{className:"cmplz-details-row"},(0,a.createElement)("label",null,(0,o.__)("Expiration","complianz-gdpr")),(0,a.createElement)("input",{disabled:I,onChange:t=>((e,t,n)=>{let a={ID:t,value:e.target.value};h(a)})(t,e.ID),type:"text",placeholder:(0,o.__)("1 year","complianz-gdpr"),value:E.value})),(0,a.createElement)("div",{className:"cmplz-details-row"},(0,a.createElement)("label",null,(0,o.__)("Cookie function","complianz-gdpr")),(0,a.createElement)("input",{disabled:N,onChange:t=>((e,t,n)=>{let a={ID:t,value:e.target.value};y(a)})(t,e.ID),type:"text",placeholder:(0,o.__)("e.g. store user ID","complianz-gdpr"),value:v.value})),(0,a.createElement)("div",{className:"cmplz-details-row"},(0,a.createElement)("label",null,(0,o.__)("Purpose","complianz-gdpr")),(0,a.createElement)(m.default,{disabled:N,value:e.purpose,options:c,onChange:t=>C(t,e.ID,"purpose")})),w&&(0,a.createElement)("div",{className:"cmplz-details-row"},(0,a.createElement)("a",{href:w,target:"_blank"},(0,o.__)("View cookie on cookiedatabase.org","complianz-gdpr"))),(0,a.createElement)("div",{className:"cmplz-details-row cmplz-details-row__buttons"},(0,a.createElement)("button",{disabled:l,onClick:t=>(async e=>{await b(e),n((0,o.__)("Saved cookie","complianz-gd[r"))})(e.ID),className:"button button-default"},(0,o.__)("Save","complianz-gdpr")),(0,a.createElement)("button",{className:"button button-default "+O,onClick:t=>(async e=>{await _(e)})(e.ID)},1==e.deleted&&(0,o.__)("Restore","complianz-gdpr"),1!=e.deleted&&(0,o.__)("Delete","complianz-gdpr"))))},p=e=>{let{cookie:t}=e,n="";t.deleted?n=" | "+(0,o.__)("Deleted","complianz-gdpr"):t.showOnPolicy?t.isMembersOnly&&(n=" | "+(0,o.__)("Logged in users only, ignored","complianz-gdpr")):n=" | "+(0,o.__)("Admin, ignored","complianz-gdpr");let r=t.name;return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(c.default,{summary:r,comment:n,icons:(0,a.createElement)(a.Fragment,null,t.complete&&(0,a.createElement)(l.default,{tooltip:(0,o.__)("The data for this cookie is complete","complianz-gdpr"),name:"success",color:"green"}),!t.complete&&(0,a.createElement)(l.default,{tooltip:(0,o.__)("This cookie has missing fields","complianz-gdpr"),name:"times",color:"red"}),t.sync&&t.synced&&(0,a.createElement)(l.default,{name:"rotate",color:"green"}),!t.synced||!t.sync&&(0,a.createElement)(l.default,{tooltip:(0,o.__)("This cookie is not synchronized with cookiedatabase.org.","complianz-gdpr"),name:"rotate-error",color:"red"}),t.showOnPolicy&&(0,a.createElement)(l.default,{tooltip:(0,o.__)("This cookie will be on your Cookie Policy","complianz-gdpr"),name:"file",color:"green"}),!t.showOnPolicy&&(0,a.createElement)(l.default,{tooltip:(0,o.__)("This cookie is not shown on the Cookie Policy","complianz-gdpr"),name:"file-disabled",color:"grey"}),t.old&&(0,a.createElement)(l.default,{tooltip:(0,o.__)("This cookie has not been detected on your site in the last three months","complianz-gdpr"),name:"calendar-error",color:"red"}),!t.old&&(0,a.createElement)(l.default,{tooltip:(0,o.__)("This cookie has recently been detected","complianz-gdpr"),name:"calendar",color:"green"})),details:u(t),style:(()=>{if(t.deleted)return Object.assign({},{backgroundColor:"var(--rsp-red-faded)"})})()}))}},80881:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var a=n(69307),l=n(99196),o=n(48399),c=n(56293),r=n(82485),i=n(55609);const s=(0,l.memo)((e=>{let{type:t="action",style:n="tertiary",label:s,onClick:d,href:m="",target:u="",disabled:p,action:_,field:b,children:f}=e;if(!s&&!f)return null;const g=(b&&b.button_text?b.button_text:s)||f,{fetchFieldsData:E,showSavedSettingsNotice:h}=(0,c.default)(),{selectedSubMenuItem:v}=(0,r.default)(),[y,k]=(0,l.useState)(!1),z=`button cmplz-button button--${n} button-${t}`,N=async e=>{await o.doAction(b.action,{}).then((e=>{e.success&&(E(v),h(e.message))}))},w=b&&b.warn?b.warn:"";return"action"===t?(0,a.createElement)(a.Fragment,null,(0,a.createElement)(i.__experimentalConfirmDialog,{isOpen:y,onConfirm:async()=>{k(!1),await N()},onCancel:()=>{k(!1)}},w),(0,a.createElement)("button",{className:z,onClick:async e=>{"action"===t&&d?d(e):"action"===t&&_?b&&b.warn?k(!0):await N():window.location.href=b.url},disabled:p},g)):"link"===t?(0,a.createElement)("a",{className:z,href:m,target:u},g):void 0}))},382:(e,t,n)=>{n.r(t),n.d(t,{default:()=>I});var a=n(69307),l=n(87462),o=n(99196),c=n(28771),r=n(25360),i=n(36206),s=n(77342),d=n(57898),m=n(7546),u=n(29115),p=n(75320);const _="Checkbox",[b,f]=(0,r.b)(_),[g,E]=b(_),h=(0,o.forwardRef)(((e,t)=>{const{__scopeCheckbox:n,name:a,checked:r,defaultChecked:d,required:m,disabled:u,value:_="on",onCheckedChange:b,...f}=e,[E,h]=(0,o.useState)(null),z=(0,c.e)(t,(e=>h(e))),N=(0,o.useRef)(!1),w=!E||Boolean(E.closest("form")),[C=!1,D]=(0,s.T)({prop:r,defaultProp:d,onChange:b}),I=(0,o.useRef)(C);return(0,o.useEffect)((()=>{const e=null==E?void 0:E.form;if(e){const t=()=>D(I.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}}),[E,D]),(0,o.createElement)(g,{scope:n,state:C,disabled:u},(0,o.createElement)(p.WV.button,(0,l.Z)({type:"button",role:"checkbox","aria-checked":y(C)?"mixed":C,"aria-required":m,"data-state":k(C),"data-disabled":u?"":void 0,disabled:u,value:_},f,{ref:z,onKeyDown:(0,i.M)(e.onKeyDown,(e=>{"Enter"===e.key&&e.preventDefault()})),onClick:(0,i.M)(e.onClick,(e=>{D((e=>!!y(e)||!e)),w&&(N.current=e.isPropagationStopped(),N.current||e.stopPropagation())}))})),w&&(0,o.createElement)(v,{control:E,bubbles:!N.current,name:a,value:_,checked:C,required:m,disabled:u,style:{transform:"translateX(-100%)"}}))})),v=e=>{const{control:t,checked:n,bubbles:a=!0,...c}=e,r=(0,o.useRef)(null),i=(0,d.D)(n),s=(0,m.t)(t);return(0,o.useEffect)((()=>{const e=r.current,t=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(t,"checked").set;if(i!==n&&l){const t=new Event("click",{bubbles:a});e.indeterminate=y(n),l.call(e,!y(n)&&n),e.dispatchEvent(t)}}),[i,n,a]),(0,o.createElement)("input",(0,l.Z)({type:"checkbox","aria-hidden":!0,defaultChecked:!y(n)&&n},c,{tabIndex:-1,ref:r,style:{...e.style,...s,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function y(e){return"indeterminate"===e}function k(e){return y(e)?"indeterminate":e?"checked":"unchecked"}const z=h,N=(0,o.forwardRef)(((e,t)=>{const{__scopeCheckbox:n,forceMount:a,...c}=e,r=E("CheckboxIndicator",n);return(0,o.createElement)(u.z,{present:a||y(r.state)||!0===r.state},(0,o.createElement)(p.WV.span,(0,l.Z)({"data-state":k(r.state),"data-disabled":r.disabled?"":void 0},c,{ref:t,style:{pointerEvents:"none",...e.style}})))}));var w=n(65736),C=n(20384),D=n(80881);const I=(0,o.memo)((e=>{let{indeterminate:t,label:n,value:l,id:c,onChange:r,required:i,disabled:s,options:d={}}=e,m=l;Array.isArray(m)||(m=""===m?[]:[m]),t&&(l=!0);const u=m,[p,_]=(0,o.useState)(!1);let b=!1;Object.keys(d).length>10&&(b=!0);const f=e=>u.includes(e),g=()=>{_(!p)};let E=s&&!Array.isArray(s);return(0,a.createElement)("div",{className:"cmplz-checkbox-group"},Object.entries(d).map(((e,o)=>{let[m,_]=e;return(0,a.createElement)("div",{key:m,className:"cmplz-checkbox-group__item"+(!p&&o>10?" cmplz-hidden":"")},(0,a.createElement)(z,{className:"cmplz-checkbox-group__checkbox",id:c+"_"+m,checked:1===Object.keys(d).length?l:f(m),"aria-label":n,disabled:E||Array.isArray(s)&&s.includes(m),required:i,onCheckedChange:e=>((e,t)=>{if(1===Object.keys(d).length)r(!l);else{const e=u.includes(t)?u.filter((e=>e!==t)):[...u,t];r(e)}})(0,m)},(0,a.createElement)(N,{className:"cmplz-checkbox-group__indicator"},(0,a.createElement)(C.default,{name:t?"indeterminate":"check",size:14,color:"dark-blue"}))),(0,a.createElement)("label",{className:"cmplz-checkbox-group__label",htmlFor:c+"_"+m},_))})),!p&&b&&(0,a.createElement)(D.default,{onClick:g},(0,w.__)("Show more","complianz-gdpr")),p&&b&&(0,a.createElement)(D.default,{onClick:g},(0,w.__)("Show less","complianz-gdpr")))}))},32588:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});var a=n(69307),l=n(99196),o=n(79552),c=n(20384),r=n(65736);const i=(0,l.memo)((e=>{let{value:t=!1,onChange:n,required:l,defaultValue:i,disabled:s,options:d={},canBeEmpty:m=!0,label:u,innerRef:p}=e;if(Array.isArray(d)){let e={};d.map((t=>{e[t.value]=t.label})),d=e}return m?d={0:(0,r.__)("Select an option","complianz-gdpr"),...d}:t||(t=Object.keys(d)[0]),(0,a.createElement)("div",{className:"cmplz-input-group cmplz-select-group",key:u},(0,a.createElement)(o.fC,{value:t,defaultValue:i,onValueChange:n,required:l,disabled:s&&!Array.isArray(s)},(0,a.createElement)(o.xz,{className:"cmplz-select-group__trigger"},(0,a.createElement)(o.B4,null),(0,a.createElement)(c.default,{name:"chevron-down"})),(0,a.createElement)(o.VY,{className:"cmplz-select-group__content",position:"popper"},(0,a.createElement)(o.u_,{className:"cmplz-select-group__scroll-button"},(0,a.createElement)(c.default,{name:"chevron-up"})),(0,a.createElement)(o.l_,{className:"cmplz-select-group__viewport"},(0,a.createElement)(o.ZA,null,Object.entries(d).map((e=>{let[t,n]=e;return(0,a.createElement)(o.ck,{disabled:Array.isArray(s)&&s.includes(t),className:"cmplz-select-group__item",key:t,value:t},(0,a.createElement)(o.eT,null,n))})))),(0,a.createElement)(o.$G,{className:"cmplz-select-group__scroll-button"},(0,a.createElement)(c.default,{name:"chevron-down"})))))}))},34573:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});var a=n(69307),l=n(20384);const o=e=>(0,a.createElement)("div",{className:"cmplz-panel__list__item",key:e.id,style:e.style?e.style:{}},(0,a.createElement)("details",null,(0,a.createElement)("summary",null,e.icon&&(0,a.createElement)(l.default,{name:e.icon}),(0,a.createElement)("h5",{className:"cmplz-panel__list__item__title"},e.summary),(0,a.createElement)("div",{className:"cmplz-panel__list__item__comment"},e.comment),(0,a.createElement)("div",{className:"cmplz-panel__list__item__icons"},e.icons),(0,a.createElement)(l.default,{name:"chevron-down",size:18})),(0,a.createElement)("div",{className:"cmplz-panel__list__item__details"},e.details)))},29115:(e,t,n)=>{n.d(t,{z:()=>r});var a=n(99196),l=n(91850),o=n(28771),c=n(9981);const r=e=>{const{present:t,children:n}=e,r=function(e){const[t,n]=(0,a.useState)(),o=(0,a.useRef)({}),r=(0,a.useRef)(e),s=(0,a.useRef)("none"),d=e?"mounted":"unmounted",[m,u]=function(e,t){return(0,a.useReducer)(((e,n)=>{const a=t[e][n];return null!=a?a:e}),e)}(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return(0,a.useEffect)((()=>{const e=i(o.current);s.current="mounted"===m?e:"none"}),[m]),(0,c.b)((()=>{const t=o.current,n=r.current;if(n!==e){const a=s.current,l=i(t);e?u("MOUNT"):"none"===l||"none"===(null==t?void 0:t.display)?u("UNMOUNT"):u(n&&a!==l?"ANIMATION_OUT":"UNMOUNT"),r.current=e}}),[e,u]),(0,c.b)((()=>{if(t){const e=e=>{const n=i(o.current).includes(e.animationName);e.target===t&&n&&(0,l.flushSync)((()=>u("ANIMATION_END")))},n=e=>{e.target===t&&(s.current=i(o.current))};return t.addEventListener("animationstart",n),t.addEventListener("animationcancel",e),t.addEventListener("animationend",e),()=>{t.removeEventListener("animationstart",n),t.removeEventListener("animationcancel",e),t.removeEventListener("animationend",e)}}u("ANIMATION_END")}),[t,u]),{isPresent:["mounted","unmountSuspended"].includes(m),ref:(0,a.useCallback)((e=>{e&&(o.current=getComputedStyle(e)),n(e)}),[])}}(t),s="function"==typeof n?n({present:r.isPresent}):a.Children.only(n),d=(0,o.e)(r.ref,s.ref);return"function"==typeof n||r.isPresent?(0,a.cloneElement)(s,{ref:d}):null};function i(e){return(null==e?void 0:e.animationName)||"none"}r.displayName="Presence"}}]);