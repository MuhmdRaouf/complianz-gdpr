{"version":3,"file":"src_Settings_ThirdParties_ThirdPartyControl_js.js","mappings":"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","sources":["webpack://complianz-gdpr/./src/Settings/Panel.js","webpack://complianz-gdpr/./src/Settings/ThirdParties/ThirdPartyControl.js","webpack://complianz-gdpr/./src/Settings/ThirdParties/ThirdPartyElement.js"],"sourcesContent":["import Icon from \"../utils/Icon\";\nconst Panel = (props) => {\n\treturn (\n\t\t<>\n\t\t  <div className=\"cmplz-panel__list__item\" key={props.id} style={props.style ? props.style : {}}>\n\t\t\t<details>\n\t\t\t  <summary>\n\t\t\t  \t<div className=\"cmplz-panel__list__item__title\">{props.summary}</div>\n\t\t\t    <div className=\"cmplz-panel__list__item__comment\">{props.comment}</div>\n\t\t\t    <div className=\"cmplz-panel__list__item__icons\">{props.icons}</div>\n\t\t\t\t<Icon name={'chevron-down'} size={18} />\n\t\t\t  </summary>\n\t\t\t  <div className=\"cmplz-panel__list__item__details\">\n\t\t\t  \t{props.details}\n\t\t\t  </div>\n\t\t\t</details>\n\t\t  </div>\n\t\t</>\n\n\t);\n}\n\nexport default Panel\n","import { __ } from '@wordpress/i18n';\nimport useFields from \"../../Settings/Fields/FieldsData\";\nimport {memo} from \"react\";\nimport ThirdPartyElement from \"./ThirdPartyElement\";\n\nconst ThirdPartyControl = (props) => {\n\tconst {updateField, setChangedField} = useFields();\n\n\tconst onAddNewHandler = () => {\n\t\t//add new processor\n\t\tlet thirdparties = props.field.value;\n\t\tif (!Array.isArray(thirdparties) ) {\n\t\t\tthirdparties = [];\n\t\t}\n\t\tlet newThirdparty = {};\n\t\t//create deep copy\n\t\tlet thirdpartiesCopy = [...thirdparties];\n\t\tnewThirdparty.name=__(\"New Third Party\", \"complianz-gdpr\");\n\t\tthirdpartiesCopy.push(newThirdparty);\n\t\tupdateField(field.id, thirdpartiesCopy);\n\t\tsetChangedField(field.id, thirdpartiesCopy);\n\t}\n\n\tlet field = props.field;\n\tlet thirdParties = field.value;\n\tif ( !Array.isArray(thirdParties) ) {\n\t\tthirdParties = [];\n\t}\n\n\treturn (\n\t\t<div className=\"components-base-control cmplz-thirdparty\">\n\t\t\t<div>\n\t\t\t\t<button onClick={ () => onAddNewHandler() } className=\"button button-default\">{__(\"Add new Third Party\", \"complianz-gdpr\")}</button>\n\t\t\t</div>\n\t\t\t<div className=\"cmplz-panel__list\">\n\t\t\t\t{thirdParties.map((thirdParty, i) =>\n\t\t\t\t\t<ThirdPartyElement field={props.field} updateField={props.updateField} index={i} key={i} thirdParty={thirdParty}/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default memo(ThirdPartyControl);\n","import Panel from \"./../Panel\";\nimport useFields from \"../../Settings/Fields/FieldsData\";\nimport {memo} from \"react\";\nimport { __ } from '@wordpress/i18n';\nimport useMenu from \"../../Menu/MenuData\";\n\nconst ThirdPartyElement = (props) => {\n\tconst {updateField, setChangedField} = useFields();\n\tconst {selectedMainMenuItem} = useMenu();\n\n\tconst onChangeHandler = (e, id) => {\n\t\tlet thirdParties = [...props.field.value];\n\t\tif ( !Array.isArray(thirdParties) ) {\n\t\t\tthirdParties = [];\n\t\t}\n\n\t\t//update thirdParty with index props.index\n\t\tlet currentThirdParty = {...thirdParties[props.index]};\n\t\tcurrentThirdParty[id] = e.target.value;\n\t\tthirdParties[props.index] = currentThirdParty;\n\t\tupdateField(props.field.id, thirdParties);\n\t\tsetChangedField(props.field.id, thirdParties);\n\t}\n\n\tconst onDeleteHandler = async (e) => {\n\t\tlet thirdParties = props.field.value;\n\t\tif ( !Array.isArray(thirdParties) ) {\n\t\t\tthirdParties = [];\n\t\t}\n\n\t\t//remove thirdParty by props.index\n\t\tlet thirdPartiesCopy = [...thirdParties];\n\n\t\tif ( thirdPartiesCopy.hasOwnProperty(props.index) ) {\n\t\t\tthirdPartiesCopy.splice(props.index, 1);\n\t\t}\n\t\tupdateField(props.field.id, thirdPartiesCopy);\n\t\tsetChangedField(props.field.id, thirdPartiesCopy);\n\n\t\tawait saveFields( selectedMainMenuItem, false, false );\n\t}\n\n\tconst Details = (thirdParty) => {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div className=\"cmplz-details-row\">\n\t\t\t\t\t<label>{__(\"Name\", \"complianz-gdpr\")}</label>\n\t\t\t\t\t<input onChange={ ( e ) => onChangeHandler(e, 'name') } type=\"text\" placeholder={__(\"Name\", \"complianz-gdpr\")} value={thirdParty.name} />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"cmplz-details-row\">\n\t\t\t\t\t<label>{__(\"Country\", \"complianz-gdpr\")}</label>\n\t\t\t\t\t<input onChange={ ( e ) => onChangeHandler(e, 'country') } type=\"text\" placeholder={__(\"Country\", \"complianz-gdpr\")}  value={thirdParty.country} />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"cmplz-details-row\">\n\t\t\t\t\t<label>{__(\"Purpose\", \"complianz-gdpr\")}</label>\n\t\t\t\t\t<input onChange={ ( e ) => onChangeHandler(e, 'purpose') } type=\"text\" placeholder={__(\"Purpose\", \"complianz-gdpr\")}  value={thirdParty.purpose} />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"cmplz-details-row\">\n\t\t\t\t\t<label>{__(\"Data\", \"complianz-gdpr\")}</label>\n\t\t\t\t\t<input onChange={ ( e ) => onChangeHandler(e, 'data') } type=\"text\" placeholder={__(\"Data\", \"complianz-gdpr\")}  value={thirdParty.data} />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"cmplz-details-row__buttons\">\n\t\t\t\t\t<button className=\"button button-default cmplz-reset-button\" onClick={ ( e ) => onDeleteHandler(e) }>{__(\"Delete\", \"complianz-gdpr\")}</button>\n\t\t\t\t</div>\n\t\t\t</>\n\t\t);\n\t}\n\n\t//ensure defaults\n\tlet thirdParty = {...props.thirdParty};\n\tif (!thirdParty.name) thirdParty.name = '';\n\tif (!thirdParty.purpose) thirdParty.purpose = '';\n\tif (!thirdParty.country) thirdParty.country = '';\n\tif (!thirdParty.data) thirdParty.data = '';\n\treturn (\n\t\t<><Panel summary={thirdParty.name} details={Details(thirdParty)}/></>\n\t);\n}\nexport default memo(ThirdPartyElement);\n"],"names":["Icon","Panel","props","createElement","Fragment","className","key","id","style","summary","comment","icons","name","size","details","__","useFields","memo","ThirdPartyElement","ThirdPartyControl","updateField","setChangedField","onAddNewHandler","thirdparties","field","value","Array","isArray","newThirdparty","thirdpartiesCopy","push","thirdParties","onClick","map","thirdParty","i","index","useMenu","selectedMainMenuItem","onChangeHandler","e","currentThirdParty","target","onDeleteHandler","thirdPartiesCopy","hasOwnProperty","splice","saveFields","Details","onChange","type","placeholder","country","purpose","data"],"sourceRoot":""}